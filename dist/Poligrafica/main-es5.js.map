{"version":3,"sources":["webpack:///src/app/producto-ymaquinaria/productos/productos.component.ts","webpack:///src/app/producto-ymaquinaria/productos/productos.component.html","webpack:///src/app/producto-ymaquinaria/maquinaria/maquinaria.component.ts","webpack:///src/app/producto-ymaquinaria/maquinaria/maquinaria.component.html","webpack:///src/app/almacen/almacen-routing.module.ts","webpack:///src/app/models/usuario.model.ts","webpack:///src/app/producto-ymaquinaria/producto-ymaquinaria.module.ts","webpack:///src/app/producto-ymaquinaria/producto-ymaquinaria-routing.module.ts","webpack:///src/environments/environment.ts","webpack:///src/app/producto-ymaquinaria/producto-ymaquinaria.component.ts","webpack:///src/app/producto-ymaquinaria/producto-ymaquinaria.component.html","webpack:///src/app/shared/navbar/navbar.component.ts","webpack:///src/app/shared/navbar/navbar.component.html","webpack:///src/app/almacen/almacen.module.ts","webpack:///src/app/services/subir-archivos.service.ts","webpack:///src/app/almacen/main/solcitud/solcitud.component.ts","webpack:///src/app/almacen/main/solcitud/solcitud.component.html","webpack:///src/app/Auth/auth-guard.guard.ts","webpack:///src/app/ordenes/ordenes-routing.module.ts","webpack:///src/app/ordenes/gestion/gestion.component.ts","webpack:///src/app/ordenes/gestion/gestion.component.html","webpack:///src/app/ordenes/main/main.component.ts","webpack:///src/app/ordenes/main/main.component.html","webpack:///src/app/shared/shared.module.ts","webpack:///src/app/ordenes/ordenes.component.ts","webpack:///src/app/ordenes/ordenes.component.html","webpack:///src/app/nuevo-pedido/nuevo-pedido.module.ts","webpack:///src/app/almacen/almacen.component.ts","webpack:///src/app/almacen/almacen.component.html","webpack:///src/app/orden/orden.component.html","webpack:///src/app/orden/orden.component.ts","webpack:///node_modules/moment/locale sync ^\\.\\/.*$","webpack:///src/app/nuevo-pedido/main/main.component.ts","webpack:///src/app/nuevo-pedido/main/main.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/planificacion/planificacion.component.ts","webpack:///src/app/planificacion/planificacion.component.html","webpack:///src/app/nuevo-pedido/nuevo-pedido.component.ts","webpack:///src/app/nuevo-pedido/nuevo-pedido.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/index/index.component.ts","webpack:///src/app/index/index.component.html","webpack:///src/app/nuevo-pedido/nuevo-pedido-routing.module.ts","webpack:///src/app/ordenes/ordenes.module.ts","webpack:///src/app/almacen/main/main.component.html","webpack:///src/app/almacen/main/main.component.ts","webpack:///src/app/services/rest-api.service.ts","webpack:///src/app/index/index-routing.module.ts","webpack:///src/app/producto-ymaquinaria/main/main.component.ts","webpack:///src/app/producto-ymaquinaria/main/main.component.html","webpack:///src/app/index/main/main.component.ts","webpack:///src/app/index/main/main.component.html","webpack:///src/app/index/index.module.ts","webpack:///src/app/almacen/main/asignacion/asignacion.component.ts","webpack:///src/app/almacen/main/asignacion/asignacion.component.html","webpack:///src/app/app-routing.module.ts","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.component.html","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["ProductosComponent","api","subirArchivo","fb","baseUrl","NUEVO_CLIENTE","MATERIALES_NECESARIOS","NUEVO_PRODUCTO","EJEMPLARES","POST","SUSTRATO","Sus_Done","dimensiones","_producto_seleccionado","montajes","i_montajes","i_montajes_","necesidad","listo","cinco","seis","siete","ocho","almacenes","new_almacen","cargando","VER_PRODUCTO","OneProduct","producto","cliente","nombre","codigo","grupo","_id","version","ejemplares","fibra","post","sustrato","marca","calibre","gramaje","materiales","ClienteForm","group","required","EDITAR_PRODUCTO","usuario","obtenerGrupodeMateriales","BuscarGruposEnAlmacen","obtenerClientes","obtenerMateriales","obtenerGrupos","cliente_id","document","getElementById","value","n","event","ImgSubir","target","files","getElementsByClassName","innerHTML","name","actualizarFoto","then","img","verProducto","e","product_selected","hidden","clase","toString","disabled","Included","includes","push","i","indexOf","splice","console","log","TROQUEL","Math","abs","buscar","find","x","index","input","campo","focus","buscarSiExiste","c","material","nuevo","id","data","cantidad","GetGrupoMp","subscribe","resp","GRUPOS_MATERIA","GetClientes","CLIENTES","clientes","get","setValue","invalid","fire","title","text","icon","showConfirmButton","timer","PostClientes","reset","getAlmacen","MATERIALES","getGrupos","GRUPOS","grupos","valor","inde","SECCIONES","cod_cliente","edicion","postProducto","Modal_Producto","buscar_producto","ancho","tamano","length","largo","DirFibra","pop","getById","PRODUCTOS","productos","Material","size","updateProducto","editar","getOneById","Modal_Producto_E","material2","deleted","findIndex","ImageProducto","ver_Modal_Producto","Modal_Cliente","addCliente","add_almacen","post_impresion","Ejemplar","finalizar","CambiarImagen","subirImagen","cambiarCalculo","editar_producto","selector","templateUrl","styleUrls","MaquinariaComponent","NUEVA_MAQUINA","NUEVO_GRUPO","MAQUINAS","FUNCIONES","FASES","EDITAR_MAQUINA","maquinaForm","tipo","colores","cph","ObtenerMaquinas","Edicion_Modal_Maquina","getMaquinaID","MaquinaID","toUpperCase","putMaquina","position","PostMaquinas","GetMaquinas","maquinas","obtenerTipos","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","result","isConfirmed","BorrarMaquina","EliminarGrupo","deleteGrupo","DeleteMaquinas","este","nuevoTipo","tipos","PostGrupos","Modal_Maquina","nuevaMaquina","Modal_Grupo","agregarTipo","routes","path","component","children","AlmacenRoutingModule","forChild","declarations","imports","Usuario","estado","Nombre","Apellido","Correo","Departamento","Role","Nueva_orden","Consulta","Almacen","Maquinaria","Planificacion","Gestiones","ProductoYMaquinariaModule","ProductoYMaquinariaRoutingModule","environment","production","ProductoYMaquinariaComponent","NavbarComponent","usuarioService","cambio_cont","pass1","pass2","logout","correo","pass","cambiarContrasena","cambiar","AlmacenModule","SubirArchivosService","api_url","archivo","url","formData","FormData","append","fetch","method","headers","localStorage","getItem","body","json","ok","err","message","providedIn","SolcitudComponent","onCloseModal","Orden_seleccionada","orden","sort","orden_selected","montaje","undefined","solicitud","emit","iteration","requisicion","_i","num","Number","postReq","onClose","FinalizarSolicitud","AuthGuard","router","route","state","validarToken","pipe","isAuth","navigateByUrl","OrdenesRoutingModule","GestionComponent","TRABAJOS","NUEVA_GESTION","FASE","HOY","format","Tarea","getMaquinas","getGestiones","value_hojas","separator","split","Ejemplares","value_productos","maquina","fecha","trabajo","postRestrasar","fechaI","fecha_lapsos","fechaI_lapso","lapso","diff","postAcelerar","op","fase","hojas_","productos_","gest","GESTIONES","filter","hojas","hoy","CompararTama","restante","long","_productos","_hojas","Actual","paginas","Rproductos","Rhojas","postGestion","modal_nueva_gestion","getTrabajos","Long","finalizarTrabajo","y","ceil","TraerTareasFueraDeFecha","calcular_Productos","calcular_Hojas","MainComponent","getOrdenes","obtenerTrabajos","getOrden","ORDENES","estado2","SharedModule","exports","OrdenesComponent","NuevoPedidoModule","AlmacenComponent","OrdenComponent","snapshot","paramMap","getOrdenById","PRODUCTO","Intl","NumberFormat","demasia","ejemplares_montados","paginas_sin_demasia","hojas_imprimir","hojas_demasia","getMaquinasByOrdens","Maquinas","fecha_o","fecha_s","cantidad_","NumToLet","maquinasDB","peliculas","tintas","barniz","cant_barniz","cantidad_barniz","toFixed","pega","cantidad_pega","pega_nombre","pega_marca","pega_unidad","cant_pega","unidad","caja","cant_cajas","cantidad_cajas","cinta_","cinta","Nombre_sustrato","tintas_color","tintas_marca","Estandar_de_color","e_c","color","peli","cantidad_tinta","tinta","pdf","setFonts","generarPDF","width","margin","build","rowSpan","end","bold","alignment","fontSize","fillColor","widths","add","ln","colSpan","layout","border","i_ancho","i_largo","observacion","create","download","descargarPDF","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","webpackContextKeys","Object","resolve","module","NUEVA_ORDEN","cs","ps","os","Cantidad_ejemplares","Ejemplares_montados","Fases","SinMaterial","oc_","fo_","ae_","observacion_","TOTALES","total","presentacion","neto","CANTIDAD","_CANTIDAD","restantes","BuscarAlmacen","Almacenado","aja","CLIENTE","ALMACEN","getAlmacenado","totalizar_materiales","respuesta","OC","Demasia","demasia_","almacenado","cantidades","necesario","EnAlmacen","existe","def","Fecha_S","resto","restantes_","modal_nueva_orden","getFechas","HorasAgregadas","MaquinaSelected2","dias","hoymas3","orden_compra","almacen","checked","postOrden","fases","Data","postOrden2","navigate","cliente_selected","Cantidad","Fecha_s","cambios","AppComponent","PlanificacionComponent","cargado","week","mes","ano","getDaysFromDate","month","year","months","startDate","endDate","clone","endOf","dateSelect","diffDays","numberDays","round","arrayDays","Array","a","parseInt","dayObject","indexWeek","isoWeekday","monthSelect","flag","prevDate","subtract","nextDate","day","monthYear","parse","objectDate","dateValue","funcion","betas","final","changeMonth","NuevoPedidoComponent","AppModule","provide","useValue","providers","bootstrap","IndexComponent","NuevoPedidoRoutingModule","OrdenesModule","fileName","resumido","detallado","PESO","GRAMAJE","ANCHO","LARGO","HOJAS","PESO_","GRAMAJE_","ANCHO_","LARGO_","HOJAS_","empty","OTRO","CONVERSION","BOBINAS","CONSULTAB","boolean_sustrato","New_Sustrato","_NUEVO_PRODUCTO","EDICION_ALMACEN","DESCUENTOS","eliminacion","eliminar_sustrato","reporte","loading","_bobina","descontar_b","codigoID","loteID","cantidadID","lote","New_color","caja_","asignacion","_Almacenado","Editar_NUEVO_PRODUCTO","_bobina_","InventarioForm","NewControl","BobinaForm","Nbobina","peso","convertidora","_sustratos_","_gramajes_","_ancho_","Edition__","Edition__2","SUSTRATO_CONVERSION","conversiones","getAalmacenado","porConfirmar","Gs","Buscar_conversiones","getbobinas","getMaterialesPorConfirmar","seccion","existencia","sustratos","MaterialID","Modal_Almacen_ep","getMaterialesID","putMaterialID","edit_almacen","getAlmacenadoID","AlmacenadoId","selecciona_producto","putAlmacenadoID","buscarSustratos","bobina","bobina__","numero","deleteBobina","descontar_bobina","postAlmacenado","Nuevo_producto","PostAlmacen","Modal_Almacen","otro","trunc","all","postNuevaBobina","Modal_bobinas","getBobina","BOBINAS_","getConversiones","Gramaje","Ancho","Largo","Num_Bobina","solicitado","postNuevoSustrato","modal_Conversion","recibo","pageOrientation","cantidad_Mat","cantidad_orden","El_Material","total_necesario","Total_en_Presentacion","Descuento","name_p_e","cantidad_p_e","id_p_e","modal_eliminacion","motivo","eliminarSustrato","eliminarMaterial","desde","hasta","reporteInventario","ingresos","descuentos","descuento","razon","slice","modal_reporte","materiales_en_almacen","cajas","modal_solicitud","finalizar_asignacion","agregarRequisicion","showOrden","Almacenes","producto_seleccionado","almacenar","Almacenar","Cambio_opciones","check_bobinas","nuevaBobina","buscarGramaje","buscarAncho","Buscar_Bobina","Peso","Generar_Conversion","Hojas_","Gramaje_","Ancho_","Largo_","confirmar_eliminacion","descargarInventario","RestApiService","http","token","setItem","JSON","stringify","menu","error","removeItem","put","IndexRoutingModule","IndexModule","AsignacionComponent","onFinalizarAsignacion","onAgregarRequisicioes","LOTES","Requisiciones","buscarRequisicion","clear","getRequi","cintas_","m_cantidad","splited","_cantidad","unidad_necesaria","previo","cantidad_solicitada","style","display","check","onclick","fijalote","resta","lotes","En_Almacen","Cargados","realizarDescuentoAlmacen","canActivate","loadChildren","m","AppRoutingModule","forRoot","LoginComponent","email","formSubmitted","loginForm","Password","remember","patchValue","Login","login","bootstrapModule","webpackEmptyAsyncContext","Promise"],"mappings":"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","file":"main-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport Swal from 'sweetalert2';\r\nimport { Subscriber, timer } from 'rxjs';\r\nimport { SubirArchivosService } from 'src/app/services/subir-archivos.service';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-productos',\r\n  templateUrl: './productos.component.html',\r\n  styleUrls: ['./productos.component.css']\r\n})\r\nexport class ProductosComponent implements OnInit {\r\n\r\n  baseUrl = environment.api\r\n\r\n  public NUEVO_CLIENTE:boolean = false;\r\n  public CLIENTES;\r\n  public MATERIALES;\r\n  public MATERIALES_NECESARIOS = [];\r\n  public NUEVO_PRODUCTO:boolean = false;\r\n  public GRUPOS;\r\n\r\n  public ImageProducto;\r\n\r\n  public EJEMPLARES = [];\r\n  public POST = [];\r\n  public TROQUEL\r\n\r\n  public SECCIONES;\r\n\r\n  public GRUPOS_MATERIA;\r\n\r\n  public PRODUCTOS;\r\n  public SUSTRATO = [];\r\n\r\n  public Sus_Done:boolean = false;\r\n\r\n  public dimensiones = []\r\n\r\n  product_selected;\r\n  _producto_seleccionado:boolean = false;\r\n\r\n  montajes = 1;\r\n  i_montajes = 0;\r\n  i_montajes_ = 0;\r\n\r\n  necesidad = 0;\r\n  listo:boolean = true;\r\n  \r\n  cinco:boolean = true;\r\n  seis:boolean = true;\r\n  siete:boolean = true;\r\n  ocho:boolean = true;\r\n\r\n  public ImgSubir:File;\r\n\r\n\r\n  almacenes = [];\r\n  public new_almacen = ''\r\n  public cargando = false;\r\n\r\n  public VER_PRODUCTO:boolean = false;\r\n  OneProduct:any = {producto:'',\r\n                          cliente:{\r\n                            nombre:'',\r\n                            codigo:''\r\n                          },\r\n                          grupo:{_id:''},\r\n                          codigo:'',\r\n                          version:'',\r\n                          ejemplares:[],\r\n                          dimensiones:'',\r\n                          fibra:'',\r\n                          post:[],\r\n                          sustrato:[{\r\n                            nombre:'',\r\n                            marca:'',\r\n                            calibre:'',\r\n                            gramaje:''\r\n                          }],\r\n                          materiales:[]};\r\n\r\n  ClienteForm:FormGroup = this.fb.group({\r\n    nombre:['',Validators.required],\r\n    codigo:['',Validators.required],\r\n    almacenes:['', Validators.required]\r\n  })\r\n\r\n  constructor(private api:RestApiService,\r\n              private subirArchivo:SubirArchivosService,\r\n              private fb:FormBuilder) { \r\n                this.usuario = api.usuario\r\n              }\r\n\r\n  ngOnInit(): void {\r\n    this. obtenerGrupodeMateriales();\r\n    this.BuscarGruposEnAlmacen();\r\n    this.obtenerClientes();\r\n    this.obtenerMateriales();\r\n    this.obtenerGrupos();\r\n    let cliente_id = (<HTMLInputElement>document.getElementById('cliente_Seleccionado')).value;\r\n    // this.buscar_producto(cliente_id);\r\n  }\r\n  public usuario\r\n\r\n  NumToLet(n){\r\n    switch(n)\r\n    {\r\n        case 0: return \"A\";\r\n        case 1: return \"B\";\r\n        case 2: return \"C\";\r\n        case 3: return \"D\";\r\n        case 4: return \"E\";\r\n        case 5: return \"F\";\r\n        case 6: return \"G\";\r\n        case 7: return \"H\";\r\n        case 8: return \"I\";\r\n    }\r\n\r\n  }\r\n\r\n  CambiarImagen( event:any ){\r\n    this.ImgSubir = (event.target).files[0];\r\n    document.getElementsByClassName('file-name')[0].innerHTML = this.ImgSubir.name;\r\n  }\r\n\r\n  subirImagen(){\r\n    this.cargando = true;\r\n    this.subirArchivo.actualizarFoto(this.ImgSubir, 'producto', this.OneProduct._id )\r\n    .then(img => {\r\n      if(img){\r\n        this.usuario.img = img;\r\n        document.getElementsByClassName('file-name')[0].innerHTML = 'Sin archivo...';\r\n        this.ImgSubir = null;\r\n      }\r\n      this.verProducto(this.OneProduct._id)\r\n      this.verProducto(this.OneProduct._id)\r\n      this.cargando = false;\r\n      });\r\n  }\r\n\r\n  producto_seleccionado(e){\r\n    if(e === 0){\r\n      this._producto_seleccionado = false;\r\n    }else{\r\n      this._producto_seleccionado = true;\r\n      if(this.product_selected == 'Sustrato'){\r\n        this._producto_seleccionado = false;\r\n        document.getElementById('cant').hidden = true;\r\n      }else{\r\n        this._producto_seleccionado = true;\r\n        document.getElementById('cant').hidden = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  selecciona_producto(e){\r\n    let clase = this.i_montajes.toString()\r\n    if(e == 0){\r\n      (<HTMLInputElement>document.getElementById(clase)).disabled = true;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById(clase)).disabled = false;\r\n      this.product_selected = e;\r\n    }\r\n  }\r\n\r\n  selecciona_producto2(e){\r\n    let clase = this.i_montajes.toString()\r\n    if(e == 0){\r\n      (<HTMLInputElement>document.getElementById(`x-${clase}`)).disabled = true;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById(`x-${clase}`)).disabled = false;\r\n      this.product_selected = e;\r\n    }\r\n  }\r\n\r\n  post_impresion(e){\r\n    let Included = this.POST.includes(e);\r\n    if(!Included){\r\n      this.POST.push(e);\r\n    }else{\r\n      let i = this.POST.indexOf(e)\r\n      this.POST.splice(i, 1)\r\n    }\r\n\r\n    console.log(this.POST)\r\n  }\r\n\r\n  troquel(e){\r\n    this.TROQUEL = e.target.value;\r\n  }\r\n\r\n  Ejemplar(e){\r\n    if(!this.EJEMPLARES[this.i_montajes]){\r\n      this.EJEMPLARES[this.i_montajes] = ''\r\n    }\r\n    this.EJEMPLARES[this.i_montajes] = e;\r\n  }\r\n\r\n  public Modal_Cliente(){\r\n    if(this.NUEVO_CLIENTE){\r\n      this.NUEVO_CLIENTE = false;\r\n    }else{\r\n      this.NUEVO_CLIENTE = true;\r\n    }\r\n  }\r\n\r\n  public Modal_Producto(){\r\n    if(this.NUEVO_PRODUCTO){\r\n      this.NUEVO_PRODUCTO = false;\r\n    }else{\r\n      this.NUEVO_PRODUCTO = true;\r\n    }\r\n  }\r\n\r\n  public ver_Modal_Producto(){\r\n    if(this.VER_PRODUCTO){\r\n      this.VER_PRODUCTO = false;\r\n    }else{\r\n      this.VER_PRODUCTO = true;\r\n      this.i_montajes = 0;\r\n      this.listo = true;\r\n    }\r\n  }\r\n\r\n  sumaTintas(n){\r\n    if(this.listo){\r\n      this.listo = false;\r\n      this.necesidad = n - 5;\r\n      return n + Math.abs(this.necesidad);\r\n    }else{\r\n      return n + Math.abs(this.necesidad);\r\n    }\r\n  }\r\n\r\n  cambiarCalculo(){\r\n    this.listo = true;\r\n  }\r\n\r\n  add_almacen(){\r\n    this.almacenes.push(this.new_almacen)\r\n    this.new_almacen = ''\r\n  }\r\n\r\n  delete_this_almacen(i){\r\n    let buscar = this.almacenes.find(x => x == i)\r\n    let index = this.almacenes.indexOf(buscar)\r\n    this.almacenes.splice(index,1)\r\n  }\r\n\r\n  enable(input){\r\n    let campo = (<HTMLInputElement>document.getElementById(input)).disabled;\r\n\r\n    if(campo){\r\n      (<HTMLInputElement>document.getElementById(input)).disabled = false;\r\n      (<HTMLInputElement>document.getElementById(input)).focus();\r\n    } else {\r\n      (<HTMLInputElement>document.getElementById(input)).disabled = true;\r\n      let buscarSiExiste = this.MATERIALES_NECESARIOS.find(c => c.material == input);\r\n      if(buscarSiExiste){\r\n        let index = this.MATERIALES_NECESARIOS.indexOf(buscarSiExiste)\r\n        this.MATERIALES_NECESARIOS.splice(index, 1)\r\n      }\r\n  }\r\n}\r\n\r\njust_a_sec(e){\r\n  let nuevo = this.MATERIALES_NECESARIOS.find(c => c.material == e.target.id);\r\n  let index;\r\n  if(!nuevo){\r\n    let data = {\r\n      material:e.target.id,\r\n      cantidad:e.target.value\r\n    }\r\n\r\n    this.MATERIALES_NECESARIOS.push(data)\r\n  }else{\r\n    index = this.MATERIALES_NECESARIOS.indexOf(nuevo)\r\n    this.MATERIALES_NECESARIOS[index].cantidad = e.target.value\r\n  }\r\n}\r\n\r\n  obtenerGrupodeMateriales(){\r\n    this.api.GetGrupoMp()\r\n      .subscribe((resp:any)=>{\r\n        this.GRUPOS_MATERIA = resp;\r\n      })\r\n  }\r\n  obtenerClientes(){\r\n    this.api.GetClientes()\r\n      .subscribe((resp:any) =>{\r\n        this.CLIENTES = resp.clientes\r\n      })\r\n  }\r\n\r\n  addCliente(){\r\n\r\n    this.ClienteForm.get('almacenes').setValue(this.almacenes)\r\n\r\n    if(this.ClienteForm.invalid) {\r\n      Swal.fire({\r\n        title:'Oops!',\r\n        text:'Debes rellenar todos los campos para continuar',\r\n        icon:'error',\r\n        showConfirmButton:false,\r\n        timer:1500\r\n      })\r\n      return;\r\n    }\r\n    \r\n\r\n    this.api.PostClientes(this.ClienteForm.value)\r\n        .subscribe((resp:any)=>{\r\n          this.obtenerClientes();\r\n          this.ClienteForm.reset();\r\n          this.NUEVO_CLIENTE = false;\r\n          this.almacenes = []\r\n          Swal.fire({\r\n            title:'Excelente!',\r\n            text:'Se registro nuevo cliente',\r\n            showConfirmButton:false,\r\n            icon:'success',\r\n            timer:2000\r\n          })\r\n        })\r\n  }\r\n\r\n  //--------------------- PRODUCTOS----\r\n\r\n  obtenerMateriales(){\r\n    this.api.getAlmacen()\r\n      .subscribe((resp:any)=>{\r\n        this.MATERIALES = resp.materiales\r\n        console.log(this.MATERIALES)\r\n      })\r\n  }\r\n\r\n  obtenerGrupos(){\r\n    this.api.getGrupos()\r\n      .subscribe((resp:any)=>{\r\n        this.GRUPOS = resp.grupos\r\n        console.log(this.GRUPOS,'GRUPOOOOS')\r\n      })\r\n  }\r\n\r\n  Ordenar_Producto(){\r\n    let valor = (<HTMLInputElement>document.getElementById('material_Necesario')).value\r\n    let inde = this.MATERIALES_NECESARIOS.includes(valor);\r\n\r\n    if(!inde){\r\n      this.MATERIALES_NECESARIOS.push(valor)\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  BuscarGruposEnAlmacen(){\r\n    this.api.GetGrupoMp()\r\n      .subscribe((resp:any)=>{\r\n        this.SECCIONES = resp\r\n        // alert('THIS IS WORKING')\r\n        console.log(this.SECCIONES,'SECCIONEEEES');\r\n      })\r\n  }\r\n\r\n  finalizar(){\r\n\r\n    // let name = (<HTMLInputElement>document.getElementById('sustrato_name')).value\r\n\r\n    // let marca = (<HTMLInputElement>document.getElementById('sustrato_marca')).value\r\n    // let gramaje = (<HTMLInputElement>document.getElementById('sustrato_gramaje')).value\r\n    // let calibre = (<HTMLInputElement>document.getElementById('sustrato_calibre')).value\r\n\r\n    // let sustrato = {\r\n    //   nombre:name,\r\n    //   marca,\r\n    //   gramaje,\r\n    //   calibre\r\n    // }\r\n\r\n\r\n    let data = {\r\n      cliente: (<HTMLInputElement>document.getElementById('cliente_Seleccionado')).value,\r\n      producto:(<HTMLInputElement>document.getElementById('nombre_nuevo_producto')).value,\r\n      grupo:(<HTMLInputElement>document.getElementById('grupo_producto')).value,\r\n      cod_cliente:(<HTMLInputElement>document.getElementById('cod_cliente')).value,\r\n      materiales: this.MATERIALES_NECESARIOS,\r\n      post:this.POST,\r\n      ejemplares:this.EJEMPLARES,\r\n      // sustrato: sustrato,\r\n      codigo:(<HTMLInputElement>document.getElementById('cod_producto')).value,\r\n      version:(<HTMLInputElement>document.getElementById('version')).value,\r\n      edicion:(<HTMLInputElement>document.getElementById('edicion')).value,\r\n      montajes:this.montajes\r\n    }\r\n\r\n    \r\n    this.api.postProducto(data)\r\n      .subscribe((resp:any)=>{\r\n        this.Modal_Producto();\r\n        let cliente_id = (<HTMLInputElement>document.getElementById('cliente_Seleccionado')).value;\r\n        this.buscar_producto(cliente_id);\r\n      })\r\n  }\r\n\r\n  ancho(e){\r\n    let ancho = e.target.value;\r\n    \r\n    this.dimensiones.push(ancho);\r\n    let tamano = this.dimensiones.length\r\n\r\n    const largo = (<HTMLInputElement>document.getElementById('largo'))\r\n    const DirFibra = (<HTMLInputElement>document.getElementById('d_fibra'))\r\n\r\n    largo.disabled = false;\r\n\r\n    if(ancho == ''){\r\n      this.dimensiones = []\r\n\r\n      largo.value = ''\r\n      largo.disabled = true;\r\n      DirFibra.disabled = true;\r\n    }\r\n\r\n    if(largo.value != ''){\r\n      DirFibra.disabled = false\r\n    }\r\n    \r\n  }\r\n\r\n  largo(e){\r\n    let largo = e.target.value;\r\n\r\n    let tamano = this.dimensiones.length;\r\n    \r\n    const DirFibra = (<HTMLInputElement>document.getElementById('d_fibra'))\r\n    \r\n    if(largo == ''){\r\n      this.dimensiones.pop();\r\n      DirFibra.disabled = true;\r\n    }\r\n    \r\n    if(largo != ''){\r\n      if(tamano>1){\r\n        this.dimensiones.pop();\r\n      }\r\n      this.dimensiones.push(largo);\r\n      DirFibra.disabled = false;\r\n    }\r\n      // }else{\r\n    //   DirFibra.disabled = false;\r\n    // }\r\n\r\n\r\n  }\r\n\r\n  \r\n  buscar_producto(e){\r\n    this.api.getById(e)\r\n      .subscribe((resp:any)=>{\r\n        this.PRODUCTOS = resp.productos;\r\n        console.log(this.PRODUCTOS)\r\n      });\r\n\r\n      if(e == \"\"){\r\n        (<HTMLInputElement>document.getElementById('NP_button')).disabled = true;\r\n      }else{\r\n        (<HTMLInputElement>document.getElementById('NP_button')).disabled = false;\r\n      }\r\n  }\r\n\r\n  // sustratos(e){\r\n\r\n  //   this.SUSTRATO = [];\r\n\r\n  //   this.SUSTRATO.push(e.target.value);\r\n\r\n  //   this.Sus_Done = true;\r\n\r\n    \r\n  // }\r\n  NuevoSustrato(){\r\n    this.SUSTRATO = [];\r\n    this.Sus_Done = false;\r\n  }\r\n\r\n  add_materia2(producto, cantidad){\r\n\r\n    let i = this.i_montajes.toString();\r\n\r\n    producto = (<HTMLInputElement>document.getElementById(i)).value\r\n    cantidad = (<HTMLInputElement>document.getElementById(`cantidad${this.i_montajes}`)).value\r\n\r\n    let Material = this.MATERIALES.find(x => x._id === producto);\r\n\r\n    console.log(Material, '--' )\r\n\r\n    let size = cantidad\r\n    let name = Material.nombre\r\n\r\n    if(this.product_selected == \"Sustrato\"){\r\n      size = '0'\r\n    }\r\n\r\n    if(Material.ancho){\r\n      name = `${Material.nombre} (${Material.ancho} x ${Material.largo})`;\r\n    }\r\n\r\n    let productos = {\r\n      material:name,\r\n      marca:Material.marca,\r\n      producto:producto,\r\n      cantidad: size\r\n    }\r\n\r\n    console.log(productos);\r\n\r\n    this.OneProduct.materiales[this.i_montajes].push(productos)\r\n    console.log(this.MATERIALES_NECESARIOS, 'this')\r\n    // this.MATERIALES_NECESARIOS.push(productos);\r\n\r\n\r\n    // let field_material = (<HTMLInputElement>document.getElementById('field_material'))\r\n    // let field_marca = (<HTMLInputElement>document.getElementById('field_marca'))\r\n    // let field_cantidad = (<HTMLInputElement>document.getElementById('field_cantidad'))\r\n\r\n    // let new_material = {\r\n    //   material:material.value,\r\n    //   marca:marca.value,\r\n    //   cantidad:cantidad.value\r\n    // }\r\n\r\n    // this.MATERIALES_NECESARIOS.push(new_material)\r\n\r\n    // field_cantidad.value = '';\r\n    // field_marca.value = '';\r\n    // field_material.value = '';\r\n  }\r\n\r\nadd_materia3(producto, cantidad){\r\n  let i = this.i_montajes.toString();\r\n\r\n  producto = (<HTMLInputElement>document.getElementById(`x-${i}`)).value\r\n  cantidad = (<HTMLInputElement>document.getElementById(`xcantidad${this.i_montajes}`)).value\r\n\r\n\r\n  let Material = this.MATERIALES.find(x => x._id == producto)\r\n \r\n\r\n\r\n  console.log(Material, '--' )\r\n\r\n  let size = cantidad\r\n  let name = Material.nombre\r\n\r\n  if(this.product_selected == \"Sustrato\"){\r\n    size = '0'\r\n  }\r\n\r\n  if(Material.ancho){\r\n    name = `${Material.producto.nombre} (${Material.producto.ancho} x ${Material.producto.largo})`;\r\n  }\r\n\r\n\r\n\r\n  let productos = {\r\n    material:name,\r\n    marca:Material.marca,\r\n    producto:producto,\r\n    cantidad: size\r\n  }\r\n  \r\n  this.OneProduct.materiales[this.i_montajes].push(productos)\r\n\r\n  this.api.updateProducto(this.OneProduct, this.OneProduct._id)\r\n      .subscribe((resp:any)=>{\r\n        console.log(resp,'respuesta')\r\n        this.editar(this.OneProduct)\r\n        this.api.getOneById(this.OneProduct._id)\r\n          .subscribe((resp:any)=>{\r\n            console.log('ok')\r\n          })\r\n          this.Modal_Producto_E()\r\n          this.Modal_Producto_E()\r\n      });\r\n  \r\n  \r\n  \r\n  \r\n\r\n  // this.verProducto(producto)\r\n}\r\n  \r\nadd_materia(producto, cantidad){\r\n\r\n    let i = this.i_montajes.toString();\r\n\r\n    producto = (<HTMLInputElement>document.getElementById(i)).value\r\n    cantidad = (<HTMLInputElement>document.getElementById(`cantidad${this.i_montajes}`)).value\r\n\r\n    let Material = this.MATERIALES.find(x => x._id === producto);\r\n\r\n    console.log(Material, '--' )\r\n\r\n    let size = cantidad\r\n    let name = Material.nombre\r\n\r\n    if(this.product_selected == \"Sustrato\"){\r\n      size = '0'\r\n    }\r\n\r\n    if(Material.ancho){\r\n      name = `${Material.nombre} (${Material.ancho} x ${Material.largo})`;\r\n    }\r\n\r\n    let productos = {\r\n      material:name,\r\n      marca:Material.marca,\r\n      producto:producto,\r\n      cantidad: size\r\n    }\r\n\r\n    console.log(productos);\r\n    if(!this.MATERIALES_NECESARIOS[this.i_montajes])\r\n    { \r\n      this.MATERIALES_NECESARIOS[this.i_montajes] = []\r\n    }\r\n\r\n    this.MATERIALES_NECESARIOS[this.i_montajes].push(productos)\r\n    console.log(this.MATERIALES_NECESARIOS, 'this')\r\n    // this.MATERIALES_NECESARIOS.push(productos);\r\n\r\n\r\n    // let field_material = (<HTMLInputElement>document.getElementById('field_material'))\r\n    // let field_marca = (<HTMLInputElement>document.getElementById('field_marca'))\r\n    // let field_cantidad = (<HTMLInputElement>document.getElementById('field_cantidad'))\r\n\r\n    // let new_material = {\r\n    //   material:material.value,\r\n    //   marca:marca.value,\r\n    //   cantidad:cantidad.value\r\n    // }\r\n\r\n    // this.MATERIALES_NECESARIOS.push(new_material)\r\n\r\n    // field_cantidad.value = '';\r\n    // field_marca.value = '';\r\n    // field_material.value = '';\r\n  }\r\n\r\n  Delete_Material(material2){\r\n\r\n        let deleted = this.MATERIALES_NECESARIOS[this.i_montajes].findIndex(x => x.material == material2)\r\n\r\n        console.log(deleted)\r\n\r\n        this.MATERIALES_NECESARIOS.splice(deleted, 1);\r\n  }\r\n  Delete_Material2(material2){\r\n\r\n    console.log(this.OneProduct.materiales[this.i_montajes])\r\n    let deleted = this.OneProduct.materiales[this.i_montajes].findIndex(x => x.producto.nombre == material2)\r\n    console.log(deleted)\r\n\r\n    this.OneProduct.materiales[this.i_montajes].splice(deleted, 1);\r\n\r\n    // let deleted = this.OneProduct.materiales[this.i_montajes].producto.findIndex(x => x.nombre == material2)\r\n\r\n    // console.log(deleted)\r\n\r\n    // this.MATERIALES_NECESARIOS.splice(deleted, 1);\r\n}\r\n\r\n  borrarPost(post){\r\n    let i = this.POST.indexOf(post)\r\n\r\n    this.POST.splice(i, 1)\r\n  }\r\n\r\n  borrarPost2(post){\r\n    let i = this.OneProduct.post.indexOf(post)\r\n\r\n    console.log(i)\r\n\r\n    this.POST.splice(i, 1)\r\n  }\r\n\r\n  editar_producto(){\r\n    this.api.updateProducto(this.OneProduct, this.OneProduct._id)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          title:'Producto editado con exito!',\r\n          icon:'success',\r\n          showConfirmButton:false\r\n        })\r\n        this.editar(this.OneProduct)\r\n        this.buscar_producto(this.OneProduct.cliente._id)\r\n        this.Modal_Producto_E()\r\n      });\r\n  }\r\n\r\n  verProducto(producto){\r\n\r\n    this.api.getOneById(producto)\r\n      .subscribe((resp:any)=>{\r\n        this.OneProduct = resp.producto\r\n\r\n        if( this.OneProduct.img) {\r\n          this.ImageProducto =  `${this.baseUrl}/imagen/producto/${this.OneProduct.img}`;\r\n        }else{\r\n          this.ImageProducto = `../../../assets/no-picture.png`;\r\n        }\r\n\r\n        this.ver_Modal_Producto()\r\n      })\r\n  }\r\n  public EDITAR_PRODUCTO:boolean = false;\r\n  Modal_Producto_E(){\r\n    if(this.EDITAR_PRODUCTO){\r\n      this.EDITAR_PRODUCTO = false\r\n    }else{\r\n      this.EDITAR_PRODUCTO = true\r\n      this.EDITAR_PRODUCTO = false\r\n      if(this.OneProduct.materiales[this.i_montajes_].length > 0){\r\n        this.EDITAR_PRODUCTO = true\r\n      }\r\n    }\r\n  }\r\n\r\n  editar(producto){\r\n    this.api.getOneById(producto)\r\n      .subscribe((resp:any)=>{\r\n        this.OneProduct = resp.producto;\r\n        console.log('AQUIIIIIIIIIIIIII', this.OneProduct);\r\n      })\r\n      if(this.OneProduct){\r\n        this.Modal_Producto_E();\r\n      }\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"columns mt-5\">\r\n    <div class=\"column is-3\">\r\n        <div class=\"card\">\r\n            <div class=\"card-content\">\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Cliente:</label>\r\n                    <div class=\"control\">\r\n                        <div class=\"select\">\r\n                            <select id='cliente_Seleccionado' (change)='buscar_producto($event.target.value)' value=''>\r\n                                <option value=\"\">Seleccionar Cliente</option>\r\n                                <option *ngFor='let cliente of CLIENTES' value='{{cliente._id}}'>{{cliente.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button class=\"button is-primary\" (click)='Modal_Cliente()' *ngIf='usuario.Maquinaria == 2'>Nuevo Cliente</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"column\">\r\n        <div class=\"card\">\r\n            <div class=\"card-content\">\r\n                <div class=\"titulo\">Productos</div>\r\n                <button class=\"button is-primary\" (click)='Modal_Producto()' disabled id='NP_button' *ngIf='usuario.Maquinaria == 2'>Nuevo Producto</button>\r\n                <hr>\r\n                <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Especificación</th>\r\n                            <th>Nombre del Producto</th>\r\n                            <th>Ver</th>\r\n                            <th *ngIf='usuario.Maquinaria == 2'>Editar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let producto of PRODUCTOS;let i = index'>\r\n                            <td>E - {{producto.cliente.codigo}} - {{producto.codigo}} - {{producto.version}} - {{producto.edicion}}</td>\r\n                            <td>{{producto.producto}}</td>\r\n                            <td><button class=\"button is-primary\" (click)='verProducto(producto._id)'>Ver</button></td>\r\n                            <td *ngIf='usuario.Maquinaria == 2'><button class=\"button is-primary\" (click)='editar(producto._id)'>Editar</button></td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVO_CLIENTE}\">\r\n    <div class=\"modal-background\" (click)='Modal_Cliente()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <form\r\n            autocomplete=\"off\"\r\n            [formGroup]=\"ClienteForm\"\r\n            (ngSubmit)=\"addCliente()\">\r\n                <div class=\"subtitulo\">Nuevo Cliente</div>\r\n                <hr>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Nombre del Cliente</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName='nombre'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Cód. Cliente</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName='codigo'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                        <th>Nombre de almacen</th>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let almacen of almacenes;let i from index\">\r\n                            <td>\r\n                                {{almacen}}\r\n\r\n                                <span class=\"icon\" (click)=\"delete_this_almacen(i)\">\r\n                                    <i class=\"fas fa-times\"></i>\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" id=\"almacen_nuevo\" formControlName='almacenes' [(ngModel)]=\"new_almacen\" name=\"nuevoAlmacen\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <button class=\"button is-success is-outlined\" (click)=\"add_almacen()\" [disabled]=\"!new_almacen\">Agregar</button>\r\n                    </div>\r\n                </div>\r\n                <br>                \r\n                <button class=\"button is-primary\">Nuevo Cliente</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVO_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Producto()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body tabla\">\r\n            <div class=\"subtitulo\">\r\n                Nuevo Producto\r\n            </div>\r\n            <div class=\"separador\">\r\n                Información del producto\r\n            </div>\r\n            <br>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Nombre Producto</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='nombre_nuevo_producto' placeholder=\"Nombre Producto\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Categoria</label>\r\n                        <div class=\"select\">\r\n                            <select id='grupo_producto'>\r\n                                <option *ngFor='let grupo of GRUPOS' value=\"{{grupo._id}}\">{{grupo.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cod. Producto</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='cod_producto' placeholder=\"Código de producto\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Versión</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='version' placeholder=\"Versión\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Especificación</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='edicion' placeholder=\"Especificación\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Código de producto de cliente</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" placeholder=\"Código de producto de cliente\" id=\"cod_cliente\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <input type=\"checkbox\" name=\"troquelado\" id=\"troquelado\" (click)='post_impresion(\"Troquelado\")'><label> Troquelado</label><br>\r\n                    <input type=\"checkbox\" name=\"pegado\" id=\"pegado\" (click)='post_impresion(\"Pegado\")'><label> Pegado</label><br>\r\n                    <input type=\"checkbox\" name=\"corte\" id=\"corte\" (click)='post_impresion(\"Corte Recto\")'><label> Corte Recto</label><br>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Pre Impresión\r\n            </div>\r\n            <br>\r\n\r\n            <!-- <div class=\"columns\"> -->\r\n            \r\n            <div class=\"columns is-3\">\r\n                <div class=\"column\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label for=\"\" class=\"label\">Cantidad de montajes:</label>\r\n                        </div>\r\n                        <div class=\"column is-4\">\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" min=\"1\" max=\"5\" placeholder=\"Cantidad de montajes\" [(ngModel)]=\"montajes\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column \">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label for=\"\" class=\"label\">Montaje:</label>\r\n                        </div>\r\n                        <div class=\"column\">\r\n                            <div class=\"field\">\r\n                                <div class=\"control\">\r\n                                    <div class=\"select\">\r\n                                        <select name=\"montajes\" [(ngModel)]=\"i_montajes\">\r\n                                            <option value=\"{{i}}\" *ngFor=\"let e of [].constructor(montajes); let i = index\">Montaje {{NumToLet(i)}}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Materia Prima - Montaje\r\n            </div>\r\n            <br>\r\n\r\n\r\n                <!-- <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Ejemplares Montados:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" min='1' value=\"1\" (change)='Ejemplar($event)'>\r\n                        </div>\r\n                    </div>\r\n                </div> -->\r\n                <!-- <div class=\"column\">\r\n                    <input type=\"checkbox\" name=\"troquelado\" id=\"troquelado\" (click)='post_impresion(\"Troquelado\")'><label> Troquelado</label><br>\r\n                    <input type=\"checkbox\" name=\"pegado\" id=\"pegado\" (click)='post_impresion(\"Pegado\")'><label> Pegado</label><br>\r\n                    <input type=\"checkbox\" name=\"corte\" id=\"corte\" (click)='post_impresion(\"Corte Recto\")'><label> Corte Recto</label><br>\r\n                \r\n                </div> -->\r\n                <!-- <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\"> <br> Ancho:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='ancho' (change)='ancho($event)'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\"> <br> Largo:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='largo' (change)='largo($event)' disabled>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Dirección de Fibra:</label>\r\n                        <div class=\"control\">\r\n                            <div class=\"select\">\r\n                                <select name=\"d_fibra\" id=\"d_fibra\" disabled>\r\n                                    <option value=\"{{dim}}\" *ngFor='let dim of dimensiones'>{{dim}}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div> -->\r\n            <!-- </div> -->\r\n\r\n            <!-- <div class=\"separador\">\r\n                Post Impresión\r\n            </div>\r\n            <br>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">POST-IMPRESION</label>\r\n                        <div class=\"select is-multiple\">\r\n                            <select  multiple value='Recto' id='p_i' (change)='post_impresion($event)'>\r\n                                <option value=\"Recto\">Corte Recto</option>\r\n                                <option value=\"Doblado\">Doblado</option>\r\n                                <option value=\"Signado\">Signado</option>\r\n                                <option value=\"Fleje\">De Fleje</option>\r\n                                <option value=\"Molde\">De Molde</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <ul>\r\n                        <li *ngFor='let post of POST' (click)='borrarPost(post)'>{{post}}</li>\r\n                    </ul>\r\n                </div>\r\n            </div> -->\r\n\r\n            <!-- SELECCION DE SUSTRATO SACADO DE LAS BOBINAS *************** -->\r\n\r\n            <!-- <div class=\"separador\">\r\n                Sustratos\r\n            </div>\r\n            <br>\r\n\r\n            <div class=\"Sustrato\" *ngIf='SUSTRATO.length > 0'>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        {{SUSTRATO}} ({{dimensiones[0]}} x {{dimensiones[1]}})\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <button class=\"button is-danger is-outlined is-small\" (click)='NuevoSustrato()'>\r\n                            <span>Eliminar</span>\r\n                            <span class=\"icon is-small\">\r\n                              <i class=\"fas fa-times\"></i>\r\n                            </span>\r\n                          </button>\r\n                    </div>\r\n                </div>\r\n            </div> -->\r\n\r\n            <!-- <div class=\"done\" *ngIf='!Sus_Done'>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Sustrato</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" placeholder=\"Sustrato\" id='sustrato_name'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Marca</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" placeholder=\"Marca\" id='sustrato_marca'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-2\">\r\n                        <div class=\"field\">\r\n                            <label  class=\"label\">Gramaje</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" placeholder=\"Gramaje\" id='sustrato_gramaje'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-2\">\r\n                        <div class=\"field\">\r\n                            <label  class=\"label\">Calibre</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" placeholder=\"Calibre\" id='sustrato_calibre'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!-- <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <br>\r\n                            <button class=\"button is-success is-outlined\" (click)='sustratos($event)'>\r\n                                <span class=\"icon is-small\">\r\n                                  <i class=\"fas fa-check\"></i>\r\n                                </span>\r\n                                <span>Agregar</span>\r\n                              </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div> -->\r\n            <br>\r\n                    \r\n            <!--\r\n            <div class=\"card\">\r\n                <div class=\"card-content\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Tipo</label>\r\n                        <div class=\"select\">\r\n                            <select id='sustrato'>\r\n                                <option value=\"{{sustrato}}\" *ngFor='let sustrato of SUSTRATO'>{{sustrato}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div> -->\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label class=\"label\">Ejemplares montados:</label>\r\n                        </div>\r\n                        <div class=\"column is-4\">\r\n                            <div class=\"field\">\r\n                                <div class=\"control\">\r\n                                    <input type=\"number\" class=\"input\" placeholder=\"Ejemplares montados\" (change)=\"Ejemplar($event.target.value)\" [(ngModel)]=\"EJEMPLARES[i_montajes]\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <!-- <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <div class=\"field\">\r\n                                <label class=\"label\">Código de peliculas</label>\r\n                                <div class=\"control\">\r\n                                    <input type=\"text\" class=\"input\" placeholder=\"Código de peliculas\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div> -->\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"materiales\" *ngFor=\"let e of [].constructor(montajes); let i = index\">\r\n                <table class=\"table is-fullwidth\" *ngIf=\"i == i_montajes\">\r\n                    <thead>\r\n                    <tr>\r\n                            <th>Materia</th>\r\n                            <th>Marca</th>\r\n                            <th>Cantidad</th>\r\n                            <th>Eliminar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let Material of MATERIALES_NECESARIOS[i_montajes]'>\r\n                            <td>{{Material.material}} \r\n                                <ng-container *ngIf='Material.ancho'>\r\n                                    ({{Material.ancho}} x {{Material.ancho}})\r\n                                </ng-container>\r\n                            </td>\r\n                            <td>{{Material.marca}}</td>\r\n                            <td>{{Material.cantidad}}</td>\r\n                            <td>\r\n                                <button class=\"button is-danger is-outlined is-small\" (click)='Delete_Material(Material.material)'>\r\n                                    <span class=\"icon is-small\">\r\n                                      <i class=\"fas fa-check\"></i>\r\n                                    </span>\r\n                                    <span>Eliminar</span>\r\n                                  </button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                <div class=\"columns\" *ngIf=\"i == i_montajes\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Categoria:</label>\r\n                            <div class=\"select\">\r\n                                <select name=\"\" id=\"\" (change)='selecciona_producto($event.target.value)'>\r\n                                    <option value=\"0\">Selecciona Categoria</option>\r\n                                    <option value=\"{{seccion.nombre}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"columns\" *ngIf=\"i == i_montajes\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Producto:</label>\r\n                            <div class=\"select\">\r\n                                <select name=\"\" id=\"{{i}}\" (change)='producto_seleccionado($event.target.value)' disabled #producto>\r\n                                    <option value=\"0\">Selecciona Producto</option>\r\n                                    <ng-container *ngFor='let producto of MATERIALES'>\r\n                                        <ng-container *ngIf='producto.grupo.nombre === product_selected'>\r\n                                            <option value=\"{{producto._id}}\">{{producto.nombre}} ({{producto.marca}})\r\n                                                <ng-container *ngIf='producto.ancho'>\r\n                                                    ({{producto.ancho}} x {{producto.largo}})\r\n                                                </ng-container>\r\n                                            </option>\r\n                                        </ng-container>\r\n                                    </ng-container>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\" id='cant'>\r\n                            <label class=\"label\">Cantidad:</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" id='cantidad{{i}}' class=\"input\" #size [disabled]='!_producto_seleccionado'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                    <div class=\"field\" *ngIf=\"i == i_montajes\">\r\n                        <label class=\"label\"></label>\r\n                        <div class=\"control\">\r\n                            <button class=\"button is-success is-outlined\" (click)=\"add_materia(i, size)\">\r\n                                <span class=\"icon is-small\">\r\n                                  <i class=\"fas fa-check\"></i>\r\n                                </span>\r\n                                <span>Agregar</span>\r\n                              </button>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n            \r\n\r\n            <!-- <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Materia Prima</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" placeholder=\"Materia Prima\" #material id='field_material'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Marca</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" placeholder=\"Marca\" #marca id='field_marca'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column is-2\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cantidad</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" placeholder=\"cantidad\" #cantidad id='field_cantidad'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column is-3\"><br>\r\n                    <div class=\"field\">\r\n                        <label class=\"label\"></label>\r\n                        <div class=\"control\">\r\n                            <button class=\"button is-success is-outlined\" (click)='add_materia(material, marca, cantidad)'>\r\n                                <span class=\"icon is-small\">\r\n                                  <i class=\"fas fa-check\"></i>\r\n                                </span>\r\n                                <span>Agregar</span>\r\n                              </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div> -->\r\n\r\n\r\n\r\n            <!-- *****   SELECCION DE MATERIA PRIMA SACADO DEL INVENTARIO ****************** -->\r\n\r\n            <!-- <div class=\"card\" *ngFor='let grupo of GRUPOS_MATERIA'>\r\n                <div class=\"card-content\">\r\n                    <b>{{grupo.nombre}}</b>\r\n                    <table class=\"table is-striped is-fullwidth\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Selecciona</th>\r\n                                <th>Materia Prima</th>\r\n                                <th><abbr title=\"Cantidad necesaria por cada 1000\">Cantidad</abbr></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor='let material of MATERIALES'>\r\n                                <ng-container *ngIf='material.grupo.nombre === grupo.nombre'>\r\n                                    <td><input type=\"checkbox\" name='necesario' (click)='enable(material.nombre)'></td>\r\n                                    <td>{{material.nombre}}</td>\r\n                                    <td><input type=\"number\" class=\"input\" id='{{material.nombre}}' (change)='just_a_sec($event)' disabled></td>\r\n                                </ng-container>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div> -->\r\n            <hr>\r\n            <button class=\"button is-primary\" (click)='finalizar()'>Registrar Producto</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':VER_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='ver_Modal_Producto()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <figure class=\"image is-4by5\">\r\n                        <img src=\"{{ImageProducto}}\">\r\n                    </figure>\r\n                </div>\r\n                <div class=\"column is-5\">\r\n                    <table class=\"table\">\r\n                        <thead>\r\n                            <th>\r\n                                Especificación del Producto\r\n                            </th>\r\n                        </thead>\r\n                        <tbody><tr>\r\n                            <td>\r\n           E-{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-{{OneProduct.edicion}}\r\n                            </td></tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <br>\r\n                                    <br>\r\n                                    <div class=\"file is-small has-name is-primary\">\r\n                                        <label class=\"file-label\">\r\n                                          <input class=\"file-input\" type=\"file\" name=\"resume\"\r\n                                          (change)=\"CambiarImagen($event)\">\r\n                                          <span class=\"file-cta\">\r\n                                            <span class=\"file-icon\">\r\n                                              <i class=\"fas fa-upload\"></i>\r\n                                            </span>\r\n                                            <span class=\"file-label\">\r\n                                              Seleccionar Imagen\r\n                                            </span>\r\n                                          </span>\r\n                                          <span class=\"file-name\">\r\n                                            Sin archivo\r\n                                          </span>\r\n                                        </label>\r\n                                      </div>\r\n                                    <!--\r\n                                        \r\n                                    -->\r\n                                    <button class=\"button is-primary mt-5 is-small\"\r\n                                    [disabled]=\"!ImgSubir\"\r\n                                    [ngClass]=\"{'is-loading': cargando}\"\r\n                                    (click)='subirImagen()'>\r\n                                    Cambiar imagen\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Identificación del Producto\r\n            </div>\r\n            <br>\r\n            \r\n            <table class=\"table is-fullwidth\">\r\n                <tr>\r\n                    <th>Cliente:</th>\r\n                    <td>{{OneProduct.cliente.nombre}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <th>Producto:</th>\r\n                    <td>{{OneProduct.producto}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <th>Código del producto:</th>\r\n                    <td>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}</td>\r\n                </tr>\r\n            </table>\r\n\r\n            <div class=\"field\">\r\n                <label class=\"label\">Montaje</label>\r\n                <div class=\"select\">\r\n                    <select id=\"\" class=\"select\" (click)=\"cambiarCalculo()\" name=\"montaje\" [(ngModel)]=\"i_montajes\">\r\n                        <option value=\"{{i}}\" *ngFor=\"let e of [].constructor(OneProduct.montajes); let i = index\">M-{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-{{NumToLet(i)}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"separador\">\r\n                Materia Prima\r\n            </div>\r\n            <br>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>\r\n                        Sustrato\r\n                    </th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                            <td>\r\n                                {{TintaProducto.producto.nombre}} ({{TintaProducto.producto.ancho}} x {{TintaProducto.producto.largo}})\r\n                                <br>\r\n                                <table class=\"table is-bordered\">\r\n                                    <thead>\r\n                                        <th>Calibre (pt.)</th>\r\n                                        <th>Gramaje (g/m²):</th>\r\n                                        <th>Dirección de fibra:</th>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>{{TintaProducto.producto.calibre}}</td>\r\n                                            <td>{{TintaProducto.producto.gramaje}}</td>\r\n                                            <td>{{TintaProducto.producto.largo}}</td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </td>\r\n                        </ng-container>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>\r\n                        Colores Aprobados:\r\n                    </th>\r\n                    <th>\r\n                        Tintas (Marca):\r\n                    </th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                            <td>\r\n                                {{TintaProducto.producto.color}}\r\n                            </td>\r\n                            <td>\r\n                                {{TintaProducto.producto.nombre}}({{TintaProducto.producto.marca}})\r\n                            </td>\r\n                        </ng-container>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>\r\n                        Barniz aprobado \r\n                    </th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Barniz'\">\r\n                            {{TintaProducto.producto.nombre}} ({{TintaProducto.producto.marca}})\r\n                        </ng-container>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <div class=\"separador\">\r\n                Pre impresión\r\n            </div>\r\n            <br>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>\r\n                        Código de peliculas:\r\n                    </th>\r\n                    <td>\r\n                        <ng-container tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes];let i = index\">\r\n                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                <p *ngIf=\"TintaProducto.producto.color === 'Negro'\"><b>Negro:</b>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-{{NumToLet(i_montajes)}}-1 </p>\r\n                                <p *ngIf=\"TintaProducto.producto.color === 'Cyan'\"><b>Cyan:</b>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-{{NumToLet(i_montajes)}}-2 </p>\r\n                                <p *ngIf=\"TintaProducto.producto.color === 'Magenta'\"><b>Magenta:</b>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-{{NumToLet(i_montajes)}}-3 </p>\r\n                                <p *ngIf=\"TintaProducto.producto.color === 'Amarillo'\"><b>Amarillo:</b>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-{{NumToLet(i_montajes)}}-4 </p>\r\n                                <div *ngIf=\"TintaProducto.producto.color != 'Amarillo' && TintaProducto.producto.color != 'Magenta' && TintaProducto.producto.color != 'Cyan' && TintaProducto.producto.color != 'Negro' \">\r\n                                    <b>{{TintaProducto.producto.color}}:</b> \r\n                                    <ng-container *ngIf=\"cinco\">\r\n                                        {{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-{{NumToLet(i_montajes)}}-{{sumaTintas(i)}}\r\n                                    </ng-container>\r\n                                </div>\r\n                            </ng-container>\r\n                        </ng-container>\r\n                    </td>\r\n                </thead>\r\n            </table>\r\n            <div class=\"separador\">\r\n                Impresión\r\n            </div>\r\n            <br>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>Tamaño de Impresión</th>\r\n                    <th>Ejemplares montados</th>\r\n                </thead>\r\n                <tbody>\r\n                    <td>\r\n                        <table class=\"table is-bordered\">\r\n                            <thead>\r\n                                <th>Ancho</th>\r\n                                <th>Largo</th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                                    <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                        <td>{{TintaProducto.producto.ancho}} cm.</td>\r\n                                        <td>{{TintaProducto.producto.largo}} cm.</td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </td>\r\n                    <td>\r\n                       {{ OneProduct.ejemplares[i_montajes] }} Ejemplares\r\n                    </td>\r\n                </tbody>\r\n            </table>\r\n            <div class=\"separador\">\r\n                Post Impresión\r\n            </div>\r\n            <br>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <ng-container *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Pega'\">\r\n                            <th>Pegamento aprobado</th>\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cajas Corrugadas'\">\r\n                            <th>Cantidad de unidades por caja</th>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Pega'\">\r\n                        <td>\r\n                            {{TintaProducto.producto.nombre}} ({{TintaProducto.producto.marca}})\r\n                        </td>\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cajas Corrugadas'\">\r\n                            <td>{{TintaProducto.cantidad}}</td>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n        <!-- <div class=\"modal-card-body tabla\">\r\n            <div class=\"subtitulo\">\r\n                Nuevo Producto\r\n            </div>\r\n            <div class=\"separador\">\r\n                Información del producto\r\n            </div>\r\n            <br>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Nombre Producto</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='nombre_nuevo_producto' value='{{OneProduct.producto}}'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Categoria</label>\r\n                        <div class=\"select\">\r\n                            <select id='grupo_producto' value='{{OneProduct.grupo._id}}'>\r\n                                <option *ngFor='let grupo of GRUPOS' value=\"{{grupo._id}}\">{{grupo.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cod. Producto</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='cod_producto' value='{{OneProduct.codigo}}'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Version</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='version' value='{{OneProduct.version}}'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Especificaciones\r\n            </div>\r\n            <br>\r\n\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Ejemplares Montados:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" min='1' value=\"1\" (change)='Ejemplar($event)' value='{{OneProduct.ejemplares}}'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Dim. de la hoja:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='dimensiones' value='{{OneProduct.dimensiones}}'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Dirección de Fibra:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='d_fibra' value='{{OneProduct.fibra}}'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"separador\">\r\n                Post Impresión\r\n            </div>\r\n            <br>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">POST-IMPRESION</label>\r\n                        <div class=\"select is-multiple\">\r\n                            <select  multiple value='Recto' id='p_i' (change)='post_impresion($event)'>\r\n                                <option value=\"Recto\">Corte Recto</option>\r\n                                <option value=\"Doblado\">Doblado</option>\r\n                                <option value=\"Signado\">Signado</option>\r\n                                <option value=\"Fleje\">De Fleje</option>\r\n                                <option value=\"Molde\">De Molde</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <ul>\r\n                        <li *ngFor='let post of OneProduct.post' (click)='borrarPost2(post)'>{{post}}</li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"separador\">\r\n                Sustratos\r\n            </div>\r\n            <br>\r\n            <div class=\"card\">\r\n                <div class=\"card-content\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Tipo</label>\r\n                        <div class=\"select\">\r\n                            <select id='sustrato' value='{{OneProduct.sustrato}}'>\r\n                                <option value=\"{{sustrato}}\" *ngFor='let sustrato of SUSTRATO'>{{sustrato}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Materia Prima\r\n            </div>\r\n            <br>\r\n            <div class=\"card\" *ngFor='let grupo of GRUPOS_MATERIA'>\r\n                <div class=\"card-content\">\r\n                    <b>{{grupo.nombre}}</b>\r\n                    <table class=\"table is-striped is-fullwidth\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Selecciona</th>\r\n                                <th>Materia Prima</th>\r\n                                <th><abbr title=\"Cantidad necesaria por cada 1000\">Cantidad</abbr></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor='let material of OneProduct.materiales'>\r\n                               \r\n                                    <td><input type=\"checkbox\" name='necesario' (click)='enable(material.nombre)' checked></td>\r\n                                    <td>{{material.material}}</td>\r\n                                    <td><input type=\"number\" class=\"input\" id='{{material.nombre}}' (change)='just_a_sec($event)' value='{{material.cantidad}}'></td>\r\n                            </tr>\r\n                            <tr *ngFor='let material of MATERIALES'>\r\n                                <ng-container *ngIf='material.grupo.nombre === grupo.nombre'>\r\n                                    <ng-container *ngIf='material.nombre == OneProduct.materiales.material'>\r\n                                    <td><input type=\"checkbox\" name='necesario' (click)='enable(material._id)'></td>\r\n                                    <td>{{material.nombre}}</td>\r\n                                    <td><input type=\"number\" class=\"input\" id='{{material._id}}' (change)='just_a_sec($event)' disabled></td>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <hr>\r\n        </div> -->\r\n        <!-- <div class=\"modal\" [ngClass]=\"{'is-active':EDITAR_PRODUCTO}\">\r\n            <div class=\"modal-background\" (click)='Modal_Producto_E()'></div> -->\r\n\r\n\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':EDITAR_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Producto_E()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body tabla\">\r\n            <div class=\"subtitulo\">\r\n                Editar Producto\r\n            </div>\r\n            <div class=\"separador\">\r\n                Información del producto\r\n            </div>\r\n            <br>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Nombre Producto</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='nombre_nuevo_producto' placeholder=\"Nombre Producto\" [(ngModel)]=\"OneProduct.producto\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Categoria</label>\r\n                        <div class=\"select\">\r\n                            <select id='grupo_producto'>\r\n                                <option *ngFor='let grupo of GRUPOS' [(ngModel)]=\"OneProduct.grupo._id\">{{grupo.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cod. Producto</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='cod_producto' placeholder=\"Código de producto\" [(ngModel)]=\"OneProduct.codigo\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Versión</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='version' placeholder=\"Versión\" [(ngModel)]=\"OneProduct.version\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Especificación</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='edicion' placeholder=\"Especificación\" [(ngModel)]=\"OneProduct.edicion\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Código de producto de cliente</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" placeholder=\"Código de producto de cliente\" id=\"cod_cliente\" [(ngModel)]=\"OneProduct.cod_cliente\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <input type=\"checkbox\" name=\"troquelado\" id=\"troquelado\" (click)='post_impresion(\"Troquelado\")'><label> Troquelado</label><br>\r\n                    <input type=\"checkbox\" name=\"pegado\" id=\"pegado\" (click)='post_impresion(\"Pegado\")'><label> Pegado</label><br>\r\n                    <input type=\"checkbox\" name=\"corte\" id=\"corte\" (click)='post_impresion(\"Corte Recto\")'><label> Corte Recto</label><br>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Pre Impresión\r\n            </div>\r\n            <br>\r\n\r\n            <!-- <div class=\"columns\"> -->\r\n            \r\n            <div class=\"columns is-3\">\r\n                <div class=\"column\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label for=\"\" class=\"label\">Cantidad de montajes:</label>\r\n                        </div>\r\n                        <div class=\"column is-4\">\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" min=\"1\" max=\"5\" placeholder=\"Cantidad de montajes\" [(ngModel)]=\"OneProduct.montajes\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column \">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label for=\"\" class=\"label\">Montaje:</label>\r\n                        </div>\r\n                        <div class=\"column\">\r\n                            <div class=\"field\">\r\n                                <div class=\"control\">\r\n                                    <div class=\"select\">\r\n                                        <select name=\"montajes\" [(ngModel)]=\"i_montajes_\">\r\n                                            <option value=\"{{i}}\" *ngFor=\"let e of [].constructor(OneProduct.montajes); let i = index\">Montaje {{NumToLet(i)}}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Materia Prima - Montaje\r\n            </div>\r\n            <br>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label class=\"label\">Ejemplares montados:</label>\r\n                        </div>\r\n                        <div class=\"column is-4\">\r\n                            <div class=\"field\">\r\n                                <div class=\"control\">\r\n                                    <input type=\"number\" class=\"input\" placeholder=\"Ejemplares montados\" (change)=\"Ejemplar($event.target.value)\" [(ngModel)]=\"OneProduct.ejemplares[i_montajes_]\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"materiales\" *ngFor=\"let e of [].constructor(OneProduct.montajes); let i = index\">\r\n                <table class=\"table is-fullwidth\" *ngIf=\"i == i_montajes_\">\r\n                    <thead>\r\n                    <tr>\r\n                            <th>Materia</th>\r\n                            <th>Marca</th>\r\n                            <th>Cantidad</th>\r\n                            <th>Eliminar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let Material of OneProduct.materiales[i_montajes_]'>\r\n                            <td>{{Material.producto.nombre}} \r\n                                <ng-container *ngIf='Material.ancho'>\r\n                                    ({{Material.producto.ancho}} x {{Material.producto.ancho}})\r\n                                </ng-container>\r\n                            </td>\r\n                            <td>{{Material.producto.marca}}</td>\r\n                            <td>{{Material.cantidad}}</td>\r\n                            <td>\r\n                                <button class=\"button is-danger is-outlined is-small\" (click)='Delete_Material2(Material.producto.nombre)'>\r\n                                    <span class=\"icon is-small\">\r\n                                      <i class=\"fas fa-check\"></i>\r\n                                    </span>\r\n                                    <span>Eliminar</span>\r\n                                  </button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                <div class=\"columns\" *ngIf=\"i == i_montajes_\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Categoria:</label>\r\n                            <div class=\"select\">\r\n                                <select name=\"\" id=\"\" (change)='selecciona_producto2($event.target.value)'>\r\n                                    <option value=\"0\">Selecciona Categoria</option>\r\n                                    <option value=\"{{seccion.nombre}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"columns\" *ngIf=\"i == i_montajes_\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Producto:</label>\r\n                            <div class=\"select\">\r\n                                <select name=\"\" id=\"x-{{i}}\" (change)='producto_seleccionado($event.target.value)' disabled #producto>\r\n                                    <option value=\"0\"> Selecciona Producto</option>\r\n                                    <ng-container *ngFor='let producto of MATERIALES'>\r\n                                        <ng-container *ngIf='producto.grupo.nombre === product_selected'>\r\n                                            <option value=\"{{producto._id}}\">{{producto.nombre}} ({{producto.marca}})\r\n                                                <ng-container *ngIf='producto.ancho'>\r\n                                                    ({{producto.ancho}} x {{producto.largo}})\r\n                                                </ng-container>\r\n                                            </option>\r\n                                        </ng-container>\r\n                                    </ng-container>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\" id='cant'>\r\n                            <label class=\"label\">Cantidad:</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" id='xcantidad{{i}}' class=\"input\" #size [disabled]='!_producto_seleccionado'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                    <div class=\"field\" *ngIf=\"i == i_montajes_\">\r\n                        <label class=\"label\"></label>\r\n                        <div class=\"control\">\r\n                            <button class=\"button is-success is-outlined\" (click)=\"add_materia3(i, size)\">\r\n                                <span class=\"icon is-small\">\r\n                                  <i class=\"fas fa-check\"></i>\r\n                                </span>\r\n                                <span>Agregar</span>\r\n                              </button>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n            \r\n\r\n            <!-- <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Materia Prima</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" placeholder=\"Materia Prima\" #material id='field_material'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Marca</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" placeholder=\"Marca\" #marca id='field_marca'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column is-2\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cantidad</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" placeholder=\"cantidad\" #cantidad id='field_cantidad'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column is-3\"><br>\r\n                    <div class=\"field\">\r\n                        <label class=\"label\"></label>\r\n                        <div class=\"control\">\r\n                            <button class=\"button is-success is-outlined\" (click)='add_materia(material, marca, cantidad)'>\r\n                                <span class=\"icon is-small\">\r\n                                  <i class=\"fas fa-check\"></i>\r\n                                </span>\r\n                                <span>Agregar</span>\r\n                              </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div> -->\r\n\r\n\r\n\r\n            <!-- *****   SELECCION DE MATERIA PRIMA SACADO DEL INVENTARIO ****************** -->\r\n\r\n            <!-- <div class=\"card\" *ngFor='let grupo of GRUPOS_MATERIA'>\r\n                <div class=\"card-content\">\r\n                    <b>{{grupo.nombre}}</b>\r\n                    <table class=\"table is-striped is-fullwidth\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Selecciona</th>\r\n                                <th>Materia Prima</th>\r\n                                <th><abbr title=\"Cantidad necesaria por cada 1000\">Cantidad</abbr></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor='let material of MATERIALES'>\r\n                                <ng-container *ngIf='material.grupo.nombre === grupo.nombre'>\r\n                                    <td><input type=\"checkbox\" name='necesario' (click)='enable(material.nombre)'></td>\r\n                                    <td>{{material.nombre}}</td>\r\n                                    <td><input type=\"number\" class=\"input\" id='{{material.nombre}}' (change)='just_a_sec($event)' disabled></td>\r\n                                </ng-container>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div> -->\r\n            <hr>\r\n            <button class=\"button is-primary\" (click)=\"editar_producto()\">Editar Producto</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { MaquinaInterface } from 'src/app/interface/maquinas.interfase';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-maquinaria',\r\n  templateUrl: './maquinaria.component.html',\r\n  styleUrls: ['./maquinaria.component.css']\r\n})\r\nexport class MaquinariaComponent implements OnInit {\r\n\r\n  public NUEVA_MAQUINA:boolean = false;\r\n  public NUEVO_GRUPO:boolean = false;\r\n  public MAQUINAS:MaquinaInterface[] = [];\r\n  public FUNCIONES = [];\r\n  public FASES = [];\r\n  public GRUPOS = [];\r\n\r\n  public MaquinaID\r\n\r\n  public EDITAR_MAQUINA:boolean = false;\r\n\r\n\r\n  maquinaForm: FormGroup = this.fb.group({\r\n    nombre:['', Validators.required],\r\n    tipo:['', Validators.required],\r\n    colores:[''],\r\n    cph:['', Validators.required],\r\n  })\r\n\r\n  constructor(private fb:FormBuilder,\r\n              private api:RestApiService) { \r\n                this.usuario = api.usuario\r\n              }\r\n\r\n  ngOnInit(): void {\r\n    this.ObtenerMaquinas();\r\n    this.obtenerGrupos();\r\n  }\r\n\r\n  public usuario\r\n\r\n  public Modal_Maquina(){\r\n    if(this.NUEVA_MAQUINA){\r\n      this.NUEVA_MAQUINA = false;\r\n    }else{\r\n      this.NUEVA_MAQUINA = true;\r\n    }\r\n  }\r\n\r\n  Edicion_Modal_Maquina(){\r\n    if(this.EDITAR_MAQUINA){\r\n      this.EDITAR_MAQUINA = false;\r\n    }else{\r\n      this.EDITAR_MAQUINA = true;\r\n    }\r\n  }\r\n\r\n  EditarMaquina(id){\r\n    this.Edicion_Modal_Maquina();\r\n    this.api.getMaquinaID(id)\r\n      .subscribe((resp:any)=>{\r\n        this.MaquinaID = resp;\r\n      })\r\n  }\r\n\r\n  Finalizar_Edicion_M(){\r\n    this.MaquinaID.tipo = this.MaquinaID.tipo.toUpperCase()\r\n\r\n    this.api.putMaquina(this.MaquinaID._id, this.MaquinaID)\r\n      .subscribe((resp:any)=>{\r\n        this.ObtenerMaquinas();\r\n        this.Edicion_Modal_Maquina()\r\n        Swal.fire({\r\n          position:'center',\r\n          icon:'success',\r\n          title:'Edición realizada con exito',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n\r\n        })\r\n      })\r\n  }\r\n\r\n  nuevaMaquina(){\r\n    this.api.PostMaquinas(this.maquinaForm.value)\r\n      .subscribe(resp =>{\r\n        this.maquinaForm.reset();\r\n        this.NUEVA_MAQUINA = false;\r\n        this.ObtenerMaquinas();\r\n      })\r\n  }\r\n\r\n  ObtenerMaquinas(){\r\n    this.api.GetMaquinas()\r\n      .subscribe(maquinas => {\r\n        this.MAQUINAS = maquinas;\r\n        this.obtenerTipos();\r\n      });\r\n  }\r\n\r\n  BorrarMaquina_(id){\r\n    Swal.fire({\r\n      title:'¿Estas Seguro?',\r\n      text:'No podras revertir esta acción',\r\n      icon:'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor:'#d33',\r\n      cancelButtonText:'Cancelar',\r\n      confirmButtonText: 'Si, Eliminar!'\r\n    }).then((result) => {\r\n      if(result.isConfirmed) {\r\n        this.BorrarMaquina(id)\r\n        Swal.fire({\r\n          position:'center',\r\n          icon:'success',\r\n          title:'Esta maquina ha sido eliminada',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  EliminarGrupo_(id){\r\n    Swal.fire({\r\n      title:'¿Estas Seguro?',\r\n      text:'La eliminación de grupos afecta de manera negativa si ya existen productos creados en el sistema',\r\n      icon:'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor:'#d33',\r\n      cancelButtonText:'Cancelar',\r\n      confirmButtonText: 'Si, Eliminar!'\r\n    }).then((result) => {\r\n      if(result.isConfirmed) {\r\n        this.EliminarGrupo(id)\r\n        Swal.fire({\r\n          position:'center',\r\n          icon:'success',\r\n          title:'Este grupo ha sido eliminado',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  EliminarGrupo(id){\r\n    this.api.deleteGrupo(id)\r\n      .subscribe((resp:any)=>{\r\n        this.obtenerGrupos();\r\n      })\r\n  }\r\n\r\n  BorrarMaquina(id:any){\r\n    this.api.DeleteMaquinas(id)\r\n      .subscribe(resp=>{\r\n        this.ObtenerMaquinas();\r\n      })\r\n  }\r\n\r\n  // ----------------------GRUPOS -------------\r\n\r\n  public Modal_Grupo(){\r\n    if(this.NUEVO_GRUPO){\r\n      this.NUEVO_GRUPO = false\r\n    }else{\r\n      this.NUEVO_GRUPO = true\r\n    }\r\n  }\r\n\r\n  obtenerTipos(){\r\n    let x = this.MAQUINAS.length;\r\n    for(let i = 0; i< x; i++){\r\n      let inde = this.FUNCIONES.includes(this.MAQUINAS[i].tipo)\r\n      if(!inde){\r\n        this.FUNCIONES.push(this.MAQUINAS[i].tipo)\r\n      }\r\n    }\r\n  }\r\n\r\n  agregarTipo(){\r\n    let este = (<HTMLInputElement>document.getElementById('tipos')).value;\r\n    let inde = this.FASES.includes(este)\r\n      if(!inde){\r\n        this.FASES.push(este)\r\n      }\r\n  }\r\n\r\n  obtenerGrupos(){\r\n    this.api.getGrupos()\r\n      .subscribe((resp:any) => {\r\n        this.GRUPOS = resp.grupos\r\n      })\r\n  }\r\n\r\n  nuevoTipo(){\r\n    let name = (<HTMLInputElement>document.getElementById('name')).value;\r\n\r\n    let nuevoTipo = {\r\n      nombre:name,\r\n      tipos:this.FASES\r\n    }\r\n\r\n    // AGREGAR A LA BASE DE DATOS****************\r\n    this.api.PostGrupos(nuevoTipo)\r\n      .subscribe(resp =>{\r\n        this.obtenerGrupos();\r\n        this.NUEVO_GRUPO = false\r\n      })\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n","<div class=\"container mt-5\">\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <div class=\"titulo\">Maquinaria</div>\r\n            <button class=\"button is-primary\" (click)='Modal_Maquina()' *ngIf='usuario.Maquinaria == 2'>Nueva Máquina</button>\r\n            <hr>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Nombre Máquina</th>\r\n                        <th>Función de Máquina</th>\r\n                        <th>Cantidad de Colores</th>\r\n                        <th>Trabajos por Hora</th>\r\n                        <th *ngIf='usuario.Maquinaria == 2'>Modificar Máquina</th>\r\n                    </tr>\r\n                    </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let maquina of MAQUINAS'>\r\n                        <td>{{maquina.nombre}}</td>\r\n                        <td>{{maquina.tipo}}</td>\r\n                        <td>{{maquina.colores}}</td>\r\n                        <td>{{maquina.cph}}</td>\r\n                        <td *ngIf='usuario.Maquinaria == 2'>\r\n                            <button class=\"button is-danger is-outlined\" (click)='BorrarMaquina_(maquina._id)'>\r\n                                <span>Borrar</span>\r\n                                <span class=\"icon is-small\">\r\n                                  <i class=\"fas fa-times\"></i>\r\n                                </span>\r\n                              </button>  \r\n                              <button class=\"button is-success is-outlined\" (click)='EditarMaquina(maquina._id)'>\r\n                                <span>Editar</span>\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"far fa-edit\"></i>\r\n                                </span>\r\n                              </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"card mt-5\">\r\n        <div class=\"card-content\">\r\n            <div class=\"titulo\">Grupo de Productos \r\n            </div>\r\n            <button class=\"button is-primary\" (click)='Modal_Grupo()' *ngIf='usuario.Maquinaria == 2'>Nuevo Grupo</button>\r\n            <hr>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th *ngFor=\"let grupo of GRUPOS\">{{grupo.nombre}} \r\n                            <button class=\"button is-danger is-small is-outlined\" (click)='EliminarGrupo_(grupo._id)' *ngIf='usuario.Maquinaria == 2'>\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"fas fa-times\"></i>\r\n                                </span>\r\n                            </button>\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <td *ngFor=\"let grupo of GRUPOS;\">\r\n                        <ul>\r\n                            <li *ngFor='let tipo of grupo.tipos;index as i'>\r\n                                <p>\r\n                                    {{tipo}}\r\n                                </p>\r\n                            </li>\r\n                        </ul>\r\n                    </td>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Editar Maquina -->\r\n<div *ngIf='MaquinaID'>\r\n<div class=\"modal\" [ngClass]=\"{'is-active':EDITAR_MAQUINA}\">\r\n    <div class=\"modal-background\" (click)='Edicion_Modal_Maquina()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n                <div class=\"subtitulo\">Registrar Máquina</div>\r\n                <hr>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Nombre</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"text\" class=\"input\" [(ngModel)]='MaquinaID.nombre' name='nombre'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Función</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"text\" class=\"input\" [(ngModel)]='MaquinaID.tipo' name='tipo'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Colores (Opcional)</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"number\" min='0' class=\"input\" [(ngModel)]='MaquinaID.colores' name='colores'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Trabajo por Hora</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"number\" min='0' class=\"input\" [(ngModel)]='MaquinaID.cph' name='cph'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <button class=\"button is-primary\" (click)='Finalizar_Edicion_M()'>Editar Máquina</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n<!-- Fin Editar Maquina -->\r\n\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVA_MAQUINA}\">\r\n    <div class=\"modal-background\" (click)='Modal_Maquina()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            \r\n            <form\r\n            autocomplete=\"off\"\r\n            [formGroup]=\"maquinaForm\"\r\n            (ngSubmit)=\"nuevaMaquina()\">\r\n                <div class=\"subtitulo\">Registrar Máquina</div>\r\n                <hr>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Nombre</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"text\" class=\"input\" formControlName='nombre'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Funcion</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"text\" class=\"input\" formControlName='tipo'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Colores (Opcional)</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"number\" min='0' class=\"input\" formControlName='colores'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Trabajo por Hora</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"number\" min='0' class=\"input\" formControlName='cph'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <button class=\"button is-primary\">Registrar Nueva Máquina</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVO_GRUPO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Grupo()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Nuevo Grupo de Productos</div>\r\n            <hr>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Nombre del Grupo</label>\r\n                <div class=\"control\">\r\n                    <input type=\"text\" class=\"input\" id='name'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Fases:</label>\r\n                <div class=\"control\">\r\n                    <div class=\"select\">\r\n                        <select (click)='agregarTipo()' id='tipos' value='IMPRESION'>\r\n                            <option *ngFor='let tipo of FUNCIONES' value='{{tipo}}'>{{tipo}}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>proceso</th>\r\n                        <th>Eliminar</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let fase of FASES'>\r\n                        <td>{{fase}}</td>\r\n                        <td><button class=\"button is-primary\">Eliminar</button></td>\r\n                    </tr>\r\n\r\n                </tbody>\r\n            </table>\r\n            <button class=\"button is-primary\" (click)='nuevoTipo()'>Registrar Nueva Grupo de Productos</button>\r\n        </div>\r\n    </div>\r\n</div><!--8f*!f���1��Yu_��/\"Ń�}��\u0010p�KVH��\u0001�b���y\fq;@*`֞���eP\u000fg��U<k+\u0015s�`��\u0013pF/v&.uY�L~�Xw\u001f��C\fV�y��TTr��FZ\u0010�ɖA��f�˩�����I�\u0013�ښGg}/����0o�T���a��ΌMr��\fIS���P�p����;c����Ȩh\r\n�\u0005G\u0013�#\u0012��\u0005��\u001e��̩���(l�x�s��+$���Z}J�S2�\u001d��\u001cGx�Ϛde�k�^FA�\u0016���\u0006�t�(�\u0013?z��D����<\u001a\u0016��*I4V��3;�p(�\u0002�\r\nUT)��a\u0002\u001d`;0ٵ\u000es\u0003Z����\u001e�`��G\u0012�\u001eዘ�\\��\u0019[�#����0���\u0003��ZY�7�Bf�lR,�\u001eސ\u001e�:b?�\u0005�<�����#\u001b`\"7�*��\u0015�\u0004gTj�XNB\u0004\b�\u0000\u0011VYw�s\"ў�X\u000e�Xo;6���^[���\r\n$��̰o�\f�nuӟ��.�;�\r\n\u0019�\r\n����O/�\u0000� \u0002R\u0000;�\u0005� \u0002\u0006� \u0002\u0015� \u0002�\u0002�N�X\u0018`�� \u0002\u0000� \u0002-->","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AlmacenComponent } from './almacen.component';\r\nimport { MainComponent } from './main/main.component';\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:AlmacenComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:MainComponent\r\n      }]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\n\r\nexport class AlmacenRoutingModule { }\r\n","import { environment } from 'src/environments/environment';\r\n\r\nexport class Usuario {\r\n    constructor(\r\n        public estado: boolean, \r\n        public _id: string,\r\n        public Nombre: string, \r\n        public Apellido: string, \r\n        public Correo: string,\r\n        public Departamento:string,\r\n        public Role: string,\r\n        public Nueva_orden: Number,\r\n        public Consulta:Number,\r\n        public Almacen:Number,\r\n        public Maquinaria:Number,\r\n        public Planificacion:Number,\r\n        public Gestiones:Number\r\n    ) {}\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MainComponent } from './main/main.component';\r\nimport { ProductoYMaquinariaRoutingModule } from './producto-ymaquinaria-routing.module';\r\nimport { RouterModule, Router } from '@angular/router';\r\nimport { MaquinariaComponent } from './maquinaria/maquinaria.component';\r\nimport { ProductosComponent } from './productos/productos.component';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [MainComponent, MaquinariaComponent, ProductosComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    HttpClientModule,\r\n    ProductoYMaquinariaRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class ProductoYMaquinariaModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ProductoYMaquinariaComponent } from './producto-ymaquinaria.component';\r\nimport { MainComponent } from './main/main.component';\r\nimport { MaquinariaComponent } from './maquinaria/maquinaria.component';\r\nimport { ProductosComponent } from './productos/productos.component';\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:ProductoYMaquinariaComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:MainComponent\r\n      },\r\n      {\r\n        path:'maquinaria',\r\n        component:MaquinariaComponent\r\n      },\r\n      {\r\n        path:'productos',\r\n        component:ProductosComponent\r\n      }\r\n    ]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class ProductoYMaquinariaRoutingModule { }\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  //  api: 'http://127.0.0.1:8080/api'\r\n  \r\n   api: 'http://192.168.0.23:8080/api'\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\n@Component({\r\n  selector: 'app-producto-ymaquinaria',\r\n  templateUrl: './producto-ymaquinaria.component.html',\r\n  styleUrls: ['./producto-ymaquinaria.component.css']\r\n})\r\nexport class ProductoYMaquinariaComponent implements OnInit {\r\n\r\n  constructor(private api:RestApiService) {\r\n    this.usuario = api.usuario\r\n }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  public usuario\r\n\r\n}\r\n","<app-navbar></app-navbar>\r\n<router-outlet></router-outlet>\r\n<!--�C\u0016�\r���G�F�>]hB� \u000f��dWf��w\u0000˽�\u0000�ω��.\u001a\u0006���bM��i��u\nlN�YAq�\u0006k�\u0004�0�Z'�j.$?\f�W1�N\u0013�Q\u0010?QE\f���J3�Y\u0007_\u0018��dI\u0015���\u0001\f��+-/�P,9\u0002�)��\u000f\u0019�!B�x��\u001dd�\u0006\u0004�oC\u00109\u0014`:\u001eɸR��Qj�58\u001bYX!Oa\u0015�HD�+:�y\u0012<���6�AO\u0007�-�\u0011\u001c��W\u001b�Y��\"\u0017\fi�\n'�F[d��t���L�^��/��H�\n&oq>�7�3U��n�����P�\u0001\u0003�c��\rWL�C 2�V=�\bz���\u0013,ˤ��\f���\\�;:|�L\u000et�ҥ��\b�\u0018��8��\u000f�j�-�\u0001P�]�-��\u0006�����\u001f|\u0003�\u0000�L\u0003R|W�\u0005�L\u0003\u0006�L\u0003\u0015�L\u0003�~�OSH�b<�L\u0003\u0000�L\u0003-->","import { Component, OnInit } from '@angular/core';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.css']\r\n})\r\nexport class NavbarComponent implements OnInit {\r\n\r\n  constructor(private usuarioService:RestApiService) { \r\n    this.usuario = usuarioService.usuario;\r\n  }\r\n\r\n  public usuario: Usuario\r\n  public cambio_cont:boolean = false\r\n\r\n  pass1 = ''\r\n  pass2 = ''\r\n\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  logout(){\r\n    this.usuarioService.logout();\r\n  }\r\n\r\n  cambiar(){\r\n    if(this.cambio_cont){\r\n      this.cambio_cont = false\r\n    }else{\r\n      this.cambio_cont = true\r\n    }\r\n  }\r\n\r\n  cambiarPass(){\r\n    let data = {\r\n      correo:this.usuario.Correo,\r\n      pass:this.pass1\r\n    }\r\n\r\n    this.usuarioService.cambiarContrasena(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          title:'Contraseña Cambiada',\r\n          text:'Se realizó el cambio de contraseña',\r\n          icon:'success'\r\n        })\r\n        this.pass1 = ''\r\n        this.pass2 = ''\r\n        this.cambiar()\r\n      })\r\n  }\r\n\r\n}\r\n","<nav class=\"navbar is-primary\" role=\"navigation\" aria-label=\"main navigation\">\r\n    <div class=\"navbar-brand\">\r\n        <a class=\"navbar-item\" routerLink=\"\">\r\n            <img src=\"../../../assets/logo_nav.png\" width=\"112\" height=\"28\">\r\n        </a>\r\n    </div>\r\n    <div class=\"navbar-end\">\r\n        <div class=\"navbar-item has-dropdown is-hoverable\">\r\n            <a class=\"navbar-link\">\r\n                {{usuario.Nombre}} {{usuario.Apellido}}\r\n            </a>\r\n    \r\n            <div class=\"navbar-dropdown\">\r\n              <a class=\"navbar-item\" (click)=\"cambiar()\">\r\n                Cambiar Contraseña\r\n              </a>\r\n              <a class=\"navbar-item\" (click)='logout()'>\r\n                Cerrar Sesion\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  </nav>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':cambio_cont}\">\r\n  <div class=\"modal-background\" (click)=\"cambiar()\"></div>\r\n  <div class=\"modal-card\">\r\n    <div class=\"modal-card-head\">\r\n      <div class=\"modal-card-title\">Cambio de Contraseña</div>\r\n    </div>\r\n      <div class=\"modal-card-body\">\r\n          <div class=\"field\">\r\n            <label class=\"label\">Nueva Contraseña</label>\r\n            <div class=\"control\">\r\n              <input type=\"password\" class=\"input\" [(ngModel)]=\"pass1\">\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"field\">\r\n            <label class=\"label\">Repetir Contraseña</label>\r\n            <div class=\"control\">\r\n              <input type=\"password\" class=\"input\" [(ngModel)]=\"pass2\">\r\n            </div>\r\n            <p class=\"alerta\" *ngIf=\"pass2 != '' && pass2 != pass1\">Contraseñas no coinciden</p>\r\n          </div>\r\n\r\n          <div class=\"button is-primary\" *ngIf=\"pass2 != '' && pass2 == pass1\" (click)=\"cambiarPass()\">Cambiar Contraseña</div>\r\n      </div>\r\n  </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MainComponent } from './main/main.component';\r\nimport { AlmacenRoutingModule } from './almacen-routing.module';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { SolcitudComponent } from './main/solcitud/solcitud.component';\nimport { AsignacionComponent } from './main/asignacion/asignacion.component';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [MainComponent, SolcitudComponent, AsignacionComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AlmacenRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class AlmacenModule { }\r\n","import { Injectable } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport Swal from 'sweetalert2';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SubirArchivosService {\n  api_url = environment.api;\n\n  constructor() { }\n\n\n  async actualizarFoto(\n    archivo:File,\n    tipo:'usuarios'|'errors'|'producto',\n    id:string\n  ) {\n    try{\n      \n      const url = `${this.api_url}/upload/${tipo}/${id}`;\n      const formData = new FormData(); \n      formData.append('archivo', archivo);\n\n      const resp = await fetch( url ,{\n        method:'PUT',\n        headers: {\n          'Authorization': localStorage.getItem('token') || ''\n        },\n        body: formData\n      });\n\n      const data = await resp.json();\n      if (data.ok){\n        Swal.fire('Excelente!', 'Se ha actualizado la imagen del producto', 'success');\n        return data.img\n      }else{\n        Swal.fire('Error', data.err.message, 'error');\n        \n        return false;\n      }\n      return 'path image'\n\n\n    } catch(error){\n      console.log(error)\n      return false;\n    }\n\n  }\n\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-solcitud',\n  templateUrl: './solcitud.component.html',\n  styleUrls: ['./solcitud.component.css']\n})\nexport class SolcitudComponent implements OnInit {\n  \n  public materiales:any;\n  public orden_selected;\n\n\n\n  @Input() solicitud:any\n  @Input() orden:any\n  @Output() onCloseModal = new EventEmitter();\n\n  constructor(private api:RestApiService) { }\n\n  ngOnInit(): void {\n  }\n\n  TraerMateriales(e){\n    let Orden_seleccionada = this.orden.find(x => x.sort == e)\n    this.orden_selected = Orden_seleccionada\n    if(Orden_seleccionada){\n      this.materiales = Orden_seleccionada.producto.materiales[Orden_seleccionada.montaje]\n    }else{\n      this.materiales = undefined;\n    }\n  }\n\n  onClose(){\n    this.solicitud = false;\n    this.onCloseModal.emit();\n  }\n\n  FinalizarSolicitud(){\n\n    let iteration = 0\n\n    let requisicion = {\n      sort:this.orden_selected.sort,\n      producto:{\n        materiales:[[]]\n      }\n    }\n\n  for(let i=0;i<this.materiales.length;i++){\n    let _i = i.toString();\n\n    let cantidad = (<HTMLInputElement>document.getElementById(_i)).value;\n    let producto = (<HTMLInputElement>document.getElementById(_i)).name;\n\n    let num = Number(cantidad)\n\n    if(num > 0){\n\n      iteration++\n      requisicion.producto.materiales[0].push({\n        cantidad,\n        producto \n      })\n    }\n\n\n    console.log(requisicion)\n\n\n  }\n\n  if(iteration>0){\n\n    this.api.postReq(requisicion)\n    .subscribe((resp:any)=>{\n      Swal.fire(\n        'Hecho!',\n        'Se realizó la requisicion correctamente',\n        'success'\n      )\n      this.onClose()\n    })\n    \n  }else{\n    Swal.fire(\n      'Error!',\n      'Debe ingresar al menos una cantidad de cualquier producto',\n      'error'\n    )\n\n    return\n  }\n\n  \n  \n  \n}\n\n\n}\n","<div class=\"modal\" [ngClass]=\"{'is-active':solicitud}\">\n    <div class=\"modal-background\" (click)=\"onClose()\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <div class=\"subtitulo\">\n                Solicitud de Material\n            </div>\n            <hr>\n                <div class=\"field\" *ngIf=\"orden.length > 0\">\n                    <label class=\"label\">N° de Orden de Producción</label>\n                    <div class=\"select\">\n                        <select (change)=\"TraerMateriales($event.target.value)\">\n                            <option value=\"\">Selecciona OP</option>\n                            <option class=\"option\" value='{{Orden.sort}}' *ngFor=\"let Orden of orden\">{{Orden.sort}}</option>\n                        </select>\n                    </div>\n                </div>\n                <p *ngIf=\"orden.length < 1\">No hay ordenes de producción actualmente</p>\n                <hr>\n                <table class=\"table is-fullwidth\" *ngIf=\"orden.length > 0 && materiales\">\n                    <thead>\n                        <th>Material</th>\n                        <th>Cantidad Solicitada</th>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let material of materiales; index as i\">\n                            <td>\n                                {{material.producto.nombre}} \n                                <ng-container *ngIf=\"material.producto.ancho\">\n                                    {{material.producto.ancho}} x {{material.producto.largo}}\n                                </ng-container>\n                                ({{material.producto.marca}})\n                            </td>\n                            <td>\n                                <input type=\"number\" class=\"input\" value=\"0\" min=\"0\" max=\"{{material.cantidad}}\" id=\"{{i}}\" name=\"{{material.producto._id}}\">\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n\n                <div class=\"field\" *ngIf=\"materiales\">\n                    <div class=\"control\">\n                      <textarea class=\"textarea is-small has-fixed-size\" placeholder=\"Motivo de la solicitud\"></textarea>\n                    </div>\n                  </div>\n\n                <hr *ngIf=\"materiales\">\n\n                <button class=\"button is-primary\" (click)=\"FinalizarSolicitud()\">Realizar Solicitud</button>\n        </div>\n    </div>\n</div>","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { tap } from 'rxjs/operators';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n\r\n  constructor(private api:RestApiService,\r\n              private router:Router){\r\n\r\n  }\r\n\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot){\r\n\r\n      return this.api.validarToken()\r\n      .pipe(\r\n        tap(isAuth =>{\r\n          if (!isAuth){\r\n            this.router.navigateByUrl('login')\r\n          }\r\n        })\r\n      )\r\n  }\r\n  \r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { OrdenesComponent } from './ordenes.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { MainComponent } from './main/main.component';\r\nimport { OrdenComponent } from '../orden/orden.component';\r\nimport { GestionComponent } from './gestion/gestion.component';\r\n\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:OrdenesComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:MainComponent\r\n      },\r\n      {\r\n        path:'gestion',\r\n        component:GestionComponent\r\n      }\r\n      \r\n      ]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class OrdenesRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\nimport Swal from 'sweetalert2';\r\n@Component({\r\n  selector: 'app-gestion',\r\n  templateUrl: './gestion.component.html',\r\n  styleUrls: ['./gestion.component.css']\r\n})\r\nexport class GestionComponent implements OnInit {\r\n  \r\n  public TRABAJOS = [];\r\n  public MAQUINAS;\r\n  public NUEVA_GESTION:boolean = false;\r\n  public FASE = 'IMPRESION';\r\n  public GESTIONES;\r\n  public LAST_ONE;\r\n  public HOY = moment().format('yyyy-MM-DD');\r\n  public FASES = [];\r\n  public FUNCIONES = [];\r\n\r\n  public GRUPOS = [];\r\n\r\n  constructor(private api:RestApiService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.Tarea();\r\n    this.getMaquinas();\r\n    this.getGestiones();\r\n    this.api.getGrupos()\r\n      .subscribe((resp:any)=>{\r\n\r\n        this.GRUPOS = resp.grupos\r\n        console.log(this.GRUPOS,'___________________________________________*')\r\n      })\r\n  }\r\n\r\n  modal_nueva_gestion(){\r\n    if(!this.NUEVA_GESTION){\r\n      this.NUEVA_GESTION = true\r\n    }else{\r\n      this.NUEVA_GESTION = false\r\n    }\r\n  }\r\n  fase(e){\r\n    this.FASE = e.target.value;\r\n    this.TRABAJOS = [];\r\n    this.Tarea();\r\n  }\r\n\r\n  getMaquinas(){\r\n    this.api.GetMaquinas()\r\n      .subscribe(resp =>{\r\n        this.MAQUINAS = resp\r\n        this.obtenerTipos();\r\n      })\r\n  }\r\n\r\n  obtenerTipos(){\r\n    let x = this.MAQUINAS.length;\r\n    for(let i = 0; i< x; i++){\r\n      let inde = this.FUNCIONES.includes(this.MAQUINAS[i].tipo)\r\n      if(!inde){\r\n        this.FUNCIONES.push(this.MAQUINAS[i].tipo)\r\n      }\r\n    }\r\n  }\r\n\r\n  calcular_Productos(e){\r\n    let value_hojas = e.target.value;\r\n    let orden =  (<HTMLInputElement>document.getElementById('orden_selected')).value;\r\n\r\n    let separator = orden.split('-')\r\n    orden = separator[1];\r\n\r\n    let Ejemplares = this.TRABAJOS.find(x => x._id == orden);\r\n\r\n\r\n    const productos:any = value_hojas * Ejemplares.orden.producto.ejemplares[Ejemplares.orden.montaje];\r\n\r\n    console.log(value_hojas,'value');\r\n    console.log(Ejemplares,'Ejemplares');\r\n\r\n    (<HTMLInputElement>document.getElementById('productos_input')).value = productos;\r\n  }\r\n\r\n  calcular_Hojas(e){\r\n    let value_productos = e.target.value;\r\n\r\n    let orden =  (<HTMLInputElement>document.getElementById('orden_selected')).value;\r\n\r\n    let separator = orden.split('-')\r\n    orden = separator[1];\r\n\r\n\r\n    let Ejemplares = this.TRABAJOS.find(x => x._id == orden);\r\n\r\n    const productos:any = value_productos / Ejemplares.orden.producto.ejemplares;\r\n\r\n    (<HTMLInputElement>document.getElementById('hojas_input')).value = productos;\r\n  }\r\n\r\n  retrasar(orden:any, maquina:any, fecha:any, trabajo:any){\r\n\r\n    let data = {\r\n      orden:orden,\r\n      maquina:maquina,\r\n      fecha:fecha,\r\n      trabajo:trabajo,\r\n    }\r\n\r\n    this.api.postRestrasar(data)\r\n      .subscribe((resp:any)=>{\r\n        console.log(resp)\r\n        Swal.fire({\r\n          icon:'info',\r\n          title:'Se realizó un retraso en la planificación',\r\n          text:'se agregó 1 dia mas a esta gestión y a todas las ordenes que utilicen estos mismos equipos',\r\n        });\r\n        this.TRABAJOS = [];\r\n        this.Tarea();\r\n        this.getMaquinas();\r\n        this.getGestiones();\r\n      });\r\n  }\r\n\r\n  acelerar(orden:any, maquina:any, fecha:any, trabajo:any, fechaI:any){\r\n\r\n    let fecha_lapsos = moment(fecha)\r\n    let fechaI_lapso = moment(fechaI)\r\n    let lapso = fecha_lapsos.diff(fechaI_lapso, 'days')\r\n\r\n    if(lapso < 1){\r\n      Swal.fire({\r\n        icon:'error',\r\n        text:'Esta gestión termina hoy',\r\n      });\r\n      return\r\n    }\r\n\r\n    let data = {\r\n      orden:orden,\r\n      maquina:maquina,\r\n      fecha:fecha,\r\n      trabajo:trabajo,\r\n    }\r\n\r\n    this.api.postAcelerar(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          icon:'success',\r\n          title:'Fue adelantada la planificación',\r\n          text:'se adelantó 1 dia mas a esta gestión y a todas las ordenes que utilizen estos mismos equipos',\r\n        });\r\n        this.TRABAJOS = [];\r\n        this.Tarea();\r\n    this.getMaquinas();\r\n    this.getGestiones();\r\n      })\r\n  }\r\n\r\n  CompararTama(op, fase, grupo, hojas_, productos_,){\r\n    // console.log(fase,'<>',grupo)\r\n    let group = this.GRUPOS.find(x=> x._id === grupo)\r\n\r\n    let index = group.tipos.findIndex(x => x === fase)\r\n\r\n    if(index > 0){\r\n      let gest = this.GESTIONES.filter(x => x.maquina.tipo == group.tipos[index -1] && x.op == op)\r\n      let hojas = 0;\r\n      let productos = 0;\r\n      for(let i =0; i<gest.length; i++){\r\n        hojas = hojas + Number(gest[i].hojas);\r\n        productos = productos + Number(gest[i].productos);\r\n      }\r\n\r\n      console.log(hojas,'<->',productos)\r\n      if(hojas < hojas_ || productos < productos_){\r\n        Swal.fire({\r\n          title:'Error!',\r\n          text:'La cantidad excede las gestiones realizadas en la fase anterior',\r\n          icon:'error',\r\n          showConfirmButton:false\r\n        })\r\n        return 1\r\n      }\r\n    }\r\n  }\r\n\r\n  finalizar(){\r\n\r\n    let hoy = moment().format('yyyy-MM-DD');\r\n    let orden =  ''\r\n    let productos = ''\r\n    let hojas = ''\r\n\r\n    orden =  (<HTMLInputElement>document.getElementById('orden_selected')).value;\r\n\r\n    let separator = orden.split('-')\r\n\r\n    console.log(separator[3]);\r\n\r\n\r\n\r\n\r\n    orden = separator[1];\r\n    console.log(separator[0],'<>',separator[1])\r\n\r\n    let Ejemplares = this.TRABAJOS.find(x => x._id == orden);\r\n\r\n    productos = (<HTMLInputElement>document.getElementById('productos_input')).value\r\n    hojas = (<HTMLInputElement>document.getElementById('hojas_input')).value\r\n\r\n    if(this.CompararTama(separator[0],separator[2],separator[3], hojas, productos) === 1){\r\n      return\r\n    }\r\n\r\n    let restante = this.GESTIONES.filter(x=> x.orden == orden)\r\n\r\n    let long = restante.length\r\n\r\n    let _productos = 0;\r\n    let _hojas = 0;\r\n\r\n    if(long <= 0){\r\n      console.log(orden)\r\n      let Actual = this.TRABAJOS.find(x=> x._id == orden)\r\n      console.log(Actual)\r\n      _productos = Actual.orden.cantidad - Number(productos);\r\n      _hojas = Actual.orden.paginas - Number(hojas)\r\n    }else{\r\n      _productos = restante[long - 1].Rproductos-Number(productos)\r\n      _hojas = restante[long - 1].Rhojas - Number(hojas)\r\n    }\r\n\r\n    let data = {\r\n      op:separator[0],\r\n      orden : orden,\r\n      fecha : hoy,\r\n      maquina: Ejemplares.maquina._id,\r\n      productos:productos,\r\n      hojas:hojas,\r\n      Rproductos:_productos,\r\n      Rhojas:_hojas\r\n    }\r\n\r\n    this.api.postGestion(data)\r\n      .subscribe((resp:any)=>{\r\n        (<HTMLInputElement>document.getElementById('productos_input')).value = '';\r\n        (<HTMLInputElement>document.getElementById('hojas_input')).value = '';\r\n        this.modal_nueva_gestion();\r\n        this.getGestiones();\r\n      })\r\n\r\n\r\n  }\r\n\r\n  getGestiones(){\r\n    this.api.getGestiones()\r\n      .subscribe((resp:any)=>{\r\n        this.GESTIONES = resp\r\n      })\r\n  }\r\n\r\n\r\n  Tarea(){\r\n    let hoy = moment().format('yyyy-MM-DD');\r\n    this.TRABAJOS = []\r\n    \r\n    this.api.getTrabajos()\r\n      .subscribe((resp:any)=>{\r\n\r\n        let nuevo = resp.filter(x => x.maquina.tipo === this.FASE);\r\n\r\n        if(nuevo){\r\n          let Long = nuevo.length;\r\n          for(let i=0; i<Long; i++){\r\n    \r\n            if(hoy >= nuevo[i].fechaI){\r\n              if(hoy <= nuevo[i].fecha){\r\n                this.TRABAJOS.push(nuevo[i])\r\n              }\r\n            }\r\n    \r\n          }\r\n        }\r\n      })\r\n  }\r\n\r\n  finalizar_gestion(id){\r\n    let data = {id}\r\n    this.api.finalizarTrabajo(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          title:'Gestion finalizada',\r\n          text:'La gestion fue finalizada con exito',\r\n          showConfirmButton:false,\r\n        })\r\n        this.getGestiones();\r\n        this.getMaquinas();\r\n        this.Tarea();\r\n      })\r\n  }\r\n\r\n  calcularHojas(x,y){\r\n    return Math.ceil(x/y);\r\n  }\r\n\r\n  TraerTareasFueraDeFecha(){\r\n    let hoy = moment().format('yyyy-MM-DD');\r\n    this.TRABAJOS = []\r\n    \r\n    this.api.getTrabajos()\r\n      .subscribe((resp:any)=>{\r\n\r\n        let nuevo = resp.filter(x => x.maquina.tipo === this.FASE);\r\n        if(nuevo){\r\n          let Long = nuevo.length;\r\n          for(let i=0; i<Long; i++){\r\n    \r\n            // if(hoy >= nuevo[i].fechaI){\r\n            //   if(hoy <= nuevo[i].fecha){\r\n              //   }\r\n              // }\r\n              \r\n              this.TRABAJOS.push(nuevo[i])\r\n              // console.log(this.GRUPOS)\r\n            }\r\n            \r\n        }\r\n      })\r\n  }\r\n\r\n}\r\n\r\n","<div class=\"container\">\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <div class=\"titulo\">\r\n                Gestiones\r\n                <br>\r\n                <button class=\"button is-primary\" (click)='modal_nueva_gestion()'>Nueva Gestión</button>\r\n            </div>\r\n            <div class=\"select\">\r\n                <select (change)='fase($event)'>\r\n                    <option>Seleccionar fase</option>\r\n                    <option value=\"{{funcion}}\" *ngFor='let funcion of FUNCIONES'>{{funcion}}</option>\r\n                </select>\r\n            </div>\r\n\r\n             <button class=\"button is-success\" (click)=\"TraerTareasFueraDeFecha()\">Otras Gestiones</button>\r\n            <hr>\r\n            <div class=\"subtitulo\">\r\n                Ordenes para el dia de Hoy: <br>\r\n            </div>\r\n                <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Orden</th>\r\n                            <th>Producto</th>\r\n                            <th>Máquina</th>\r\n                            <th>Cant. Hojas</th>\r\n                            <th>Cant. Productos</th>\r\n                            <th>Fecha Estimada</th>\r\n                            <th>Finalizar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let trabajo of TRABAJOS'>\r\n                            <td>{{trabajo.orden.sort}}</td>\r\n                            <td>{{trabajo.orden.producto.producto}}</td>\r\n                            <td>{{trabajo.maquina.nombre}}</td>\r\n                            <td>{{calcularHojas(trabajo.orden.cantidad, trabajo.orden.producto.ejemplares[trabajo.orden.montaje])}}</td>\r\n                            <td>{{trabajo.orden.cantidad}}</td>\r\n                            <td>{{trabajo.fecha}}</td>\r\n                            <td>\r\n                                \r\n                                <ng-container *ngFor='let gestion of GESTIONES;let i = index'>\r\n                                    <ng-container *ngIf='gestion.orden === trabajo._id'>\r\n                                        <button class=\"button is-success\" (click)='finalizar_gestion(trabajo._id)' *ngIf=\"gestion.Rproductos <= 0\">Finalizar</button>\r\n                                        <!-- <ng-container *ngIf=\"gestion.Rproductos < 0\">\r\n                                            <button class=\"button is-success\" disabled >finalizar</button>\r\n                                        </ng-container> -->\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            \r\n                            \r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            <hr>\r\n            <div class=\"subtitulo\">\r\n                Gestiones Realizadas: <br>\r\n            </div>\r\n            <div *ngFor='let trabajo of TRABAJOS'>\r\n                ORDEN: <b>{{trabajo.orden.sort}}</b> - {{trabajo.orden.producto.producto}}\r\n                <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Fecha</th>\r\n                            <th>Máquina</th>\r\n                            <th>Cant. de Hojas</th>\r\n                            <th>Cant. de Productos</th>\r\n                            <th>Restante</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <ng-container *ngFor='let gestion of GESTIONES;let i = index'>\r\n                            <tr *ngIf='gestion.orden === trabajo._id'>\r\n                                <td>{{gestion.fecha}}</td>\r\n                                <td>{{gestion.maquina.nombre}}</td>\r\n                                <td>{{gestion.hojas}}</td>\r\n                                <td>{{gestion.productos}}</td>\r\n                                <td>{{gestion.Rhojas}} (Hojas) / {{gestion.Rproductos}} (Productos)</td>\r\n                            </tr>\r\n                        </ng-container>\r\n                    </tbody>\r\n                </table>\r\n                <hr>\r\n                <ng-container *ngFor='let gestion of GESTIONES;let i = index'>\r\n                    <ng-container *ngIf='gestion.orden === trabajo._id'>\r\n                        <button class=\"button is-success\" (click)='acelerar(trabajo.orden._id, trabajo.maquina, trabajo.fecha,trabajo._id, trabajo.fechaI)' *ngIf=\"gestion.Rproductos <= 0\">Adelantar Entrega</button>\r\n                    </ng-container>\r\n                </ng-container>\r\n                <button class=\"button is-danger\" (click)='retrasar(trabajo.orden._id, trabajo.maquina, trabajo.fecha,trabajo._id)'>Retrasar entrega</button>\r\n                <hr>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVA_GESTION}\">\r\n    <div class=\"modal-background\" (click)='modal_nueva_gestion()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">\r\n                Gestion\r\n            </div>\r\n            <hr>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <b>Orden:</b><br>\r\n                    <div class=\"select\">\r\n                        <select id='orden_selected'>\r\n                                <option value=\"#\">Seleccionar Orden</option>\r\n                            <ng-container *ngFor='let trabajo of TRABAJOS'>\r\n                                <option value=\"{{trabajo.orden._id}}-{{trabajo._id}}-{{trabajo.maquina.tipo}}-{{trabajo.orden.producto.grupo}}\">{{trabajo.orden.sort}}</option>\r\n                            </ng-container>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <b>Gestion Realizada en Hojas:</b><br>\r\n                    <input type=\"number\" class=\"input\" id='hojas_input' (change)='calcular_Productos($event)'>\r\n                    <br>\r\n                    <b>Gestion Realizada en Productos</b>\r\n                    <input type=\"number\" class=\"input\" id='productos_input' (change)='calcular_Hojas($event)'>\r\n                </div>\r\n            </div>\r\n            <hr>\r\n            <button class=\"button is-primary\" (click)='finalizar()'>Finalizar</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  public ORDENES;\r\n  public ESTADOS;\r\n  public TRABAJOS;\r\n\r\n  constructor(private api:RestApiService,\r\n              private router:Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getOrdenes();\r\n    this.obtenerTrabajos();\r\n  }\r\n\r\n  getOrdenes(){\r\n    this.api.getOrden()\r\n      .subscribe((resp:any)=>{\r\n        this.ORDENES = resp;\r\n      })\r\n  }\r\n\r\n  alert(id){\r\n    this.router.navigateByUrl(`orden-produccion/${id}`)\r\n  }\r\n\r\n  getEstados(id){\r\n    let estado = this.TRABAJOS.find(x => x.orden._id == id && x.maquina.tipo === 'IMPRIMIR')\r\n    let hoy = moment().format('yyyy-MM-DD');\r\n\r\n    console.log(estado)\r\n    if(estado){\r\n      if(hoy < estado.fechaI){\r\n        return `Impresión Comienza el: ${estado.fechaI}`\r\n      }\r\n    }\r\n\r\n      let estado2 = this.TRABAJOS.find(x => x.orden._id == id && x.fechaI<= hoy && x.fecha >= hoy)\r\n      console.log(estado2, 'this is')\r\n      return `En proceso de: ${estado2.maquina.tipo}`\r\n\r\n  }\r\n\r\n  obtenerTrabajos(){\r\n    this.api.getTrabajos()\r\n      .subscribe((resp:any)=>{\r\n        this.TRABAJOS = resp;\r\n      })\r\n  }\r\n\r\n}\r\n","<div class=\"container mt-5\">\r\n    <div class=\"card mt-5\">\r\n        <div class=\"card-content\">\r\n            <div class=\"titulo\">\r\n                Ordenes de Producción\r\n            </div>\r\n            <hr>\r\n            <table class=\"table is-fullwidth is-hoverable\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Orden de Produccion</th>\r\n                        <th>Producto</th>\r\n                        <th>Cliente</th>\r\n                        <th>Fecha solicitada</th>\r\n                        <th>Estado</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let orden of ORDENES' (click)='alert(orden._id)'>\r\n                        <td>{{orden.sort}}</td>\r\n                        <td>{{orden.producto.producto}}</td>\r\n                        <td>{{orden.cliente.nombre}}</td>\r\n                        <td>{{orden.fecha_s | date: 'dd/MM/yyyy'}} </td>\r\n                        <td>{{getEstados(orden._id)}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NavbarComponent } from './navbar/navbar.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [NavbarComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports:[NavbarComponent]\r\n})\r\nexport class SharedModule { }\r\n\r\n\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-ordenes',\r\n  templateUrl: './ordenes.component.html',\r\n  styleUrls: ['./ordenes.component.css']\r\n})\r\nexport class OrdenesComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-navbar></app-navbar>\r\n<router-outlet></router-outlet><!--\u001b���\u0007Nk��j���xp�����ڶ.\u0004�C4-i9$ՙ�,\f\f]��l�Sqj\u0010�nS(���-�w�\u0015u�7�\u000f���d2\b�\r���˯5U�F\u00110Fs��UAP\u0007�+����:\u001f�\u0007��HY\u0004�,UC�O�\u000b��fm\u001f\u001e\u001a�\u0000χ[q\u0002�\u0014�\u0007����E��\n�$�.��\\�^�J\u0012T6���-���Ꜩ�޺i+\n\u0002&�[�\u00034�\"���.�%]D/Wb���X+\u0006��=uGb([� ���[��\u001c����\f�,I&=I���ї\u0007��\u001fϗ��T�$��Řl\u001e�/A\u0014�������O�L\u000f�1�'_B]���8�\n\u0017�ϫ��q\r�����,�@c>Y?����o�H�\u0003f@�\u0000F�|�گ����1�x{��0A\u001a�U�L\u0001�B��6��\u000f����%�k�]��n8#I�'��z}F\u0018���ego�r�++�m��\u000b��\f��8�X\u0017���l�iR���\u0003��W�\u001a:E^�\u001d�\u0000\u0002Z\u0004]�#P\u0001\t\b\u000e\u0000�T��<�\u001a\u0002��r\\}���\u0001� �\u0000�L\u0003R|W�\u0005�L\u0003\u0006�L\u0003\u0015�L\u0003�~�ORH�b:�L\u0003\u0000�L\u0003-->","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MainComponent } from './main/main.component';\r\nimport { NuevoPedidoRoutingModule } from './nuevo-pedido-routing.module';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [MainComponent],\r\n  imports: [\r\n    CommonModule,\r\n    NuevoPedidoRoutingModule,\r\n    FormsModule\r\n  ],\r\n  exports: [MainComponent]\r\n})\r\nexport class NuevoPedidoModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-almacen',\r\n  templateUrl: './almacen.component.html',\r\n  styleUrls: ['./almacen.component.css']\r\n})\r\nexport class AlmacenComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-navbar></app-navbar>\n<router-outlet></router-outlet>","<app-navbar></app-navbar>\r\n<div class=\"container mt-5\">\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <div class=\"columns\">\r\n                <div class=\"column is-3\">\r\n                    <table class=\"table is-bordered is-fullwidth\">\r\n                        <thead>\r\n                            <th colspan=\"2\">\r\n                                ORDEN DE COMPRA\r\n                            </th>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Nº</td>\r\n                                <td>{{PRODUCTO.orden}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Fecha de OC:.</td>\r\n                                <td>{{PRODUCTO.fecha_o | date: 'dd/MM/yyyy'}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <table class=\"table is-bordered is-fullwidth\">\r\n                        <thead>\r\n                            <th colspan=\"2\">\r\n                                PRODUCTO\r\n                            </th>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>NOMBRE:</td>\r\n                                <td>{{PRODUCTO.producto.producto}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>CÓDIGO:</td>\r\n                                <td>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class=\"column is-4\">\r\n                    <table class=\"table is-bordered is-fullwidth\">\r\n                        <thead>\r\n                            <th colspan=\"2\">\r\n                                ORDEN DE PRODUCCIÓN\r\n                            </th>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Nº:</td>\r\n                                <td><b id='n_orden'>{{PRODUCTO.sort}}</b></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>FECHA DE EMISIÓN:</td>\r\n                                <td>{{PRODUCTO.fecha | date:'dd/MM/yyyy'}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            <table class=\"table is-bordered is-fullwidth\">\r\n                    <thead>\r\n                        <th colspan=\"2\">\r\n                            INFORMACIÓN DEL PRODUCTO\r\n                        </th>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th width=\"30%\">CLIENTE:</th>\r\n                            <td>{{PRODUCTO.cliente.nombre}}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>CÓDIGO DE PRODUCTO DEL CLIENTE:</th>\r\n                            <td>{{PRODUCTO.producto.cod_cliente}}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>CÓDIGO ESPECIFICACIÓN</th>\r\n                            <td>E-{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{PRODUCTO.producto.edicion}}</td>\r\n                        </tr>\r\n                    </tbody>\r\n            </table>\r\n\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <th colspan=\"5\">\r\n                        PLANIFICACIÓN DE ENTREGAS\r\n                    </th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <th>Nº</th>\r\n                        <th>CANTIDAD</th>\r\n                        <th>FECHA SOLICITADA</th>\r\n                        <th>LUGAR DE ENTREGA</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>1</td>\r\n                        <td>{{cantidad}}</td>\r\n                        <td>{{PRODUCTO.fecha_s | date:'dd/MM/yyyy'}}</td>\r\n                        <td>{{PRODUCTO.cliente.almacenes[PRODUCTO.montaje]}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>TOTAL</th>\r\n                        <td>{{cantidad}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <th>\r\n                        CARACTERÍSTICAS Y MATERIALES\r\n                    </th>\r\n                </thead>\r\n                <tr>\r\n                    <td>\r\n\r\n                        <!-- HORIZONTAL -->\r\n                        <table class=\"table is-fullwidth is-bordered\">\r\n                            <thead>\r\n                                <th>PRE-IMPRESION</th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        <div class=\"columns\">\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CÓDIGO DEL MONTAJE\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                M-{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CANTIDAD DE EJEMPLARES\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                {{PRODUCTO.producto.ejemplares[PRODUCTO.montaje]}}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                </table>\r\n                                            </div>\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CÓDIGO DE PELICULA\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                                            <tr>\r\n                                                                <td>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Negro'\"><b>Negro:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-1 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Cyan'\"><b>Cyan:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-2 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Magenta'\"><b>Magenta:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-3 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Amarillo'\"><b>Amarillo:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-4 </p>\r\n                                                                    <div *ngIf=\"TintaProducto.producto.color != 'Amarillo' && TintaProducto.producto.color != 'Magenta' && TintaProducto.producto.color != 'Cyan' && TintaProducto.producto.color != 'Negro' \">\r\n                                                                        <b>{{TintaProducto.producto.color}}:</b>\r\n                                                                        <ng-container>\r\n                                                                            {{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{sumaTintas(i)}}\r\n                                                                        </ng-container>\r\n                                                                    </div>\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </thead>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n\r\n                        <table class=\"table is-fullwidth is-bordered\">\r\n                            <thead>\r\n                                <th>IMPRESIÓN</th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        <div class=\"columns\">\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-bordered-is-fullwidth\">\r\n                                                    <tr>\r\n                                                        <th width=\"50%\">SUSTRATO</th>\r\n                                                        <th>TAMAÑO ORIGINAL (cm)</th>\r\n                                                    </tr>\r\n                                                    <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                                    <tr>\r\n                                                        <td>\r\n                                                            {{TintaProducto.producto.nombre}}\r\n                                                        </td>\r\n                                                        <td>\r\n                                                            ({{TintaProducto.producto.ancho}} x {{TintaProducto.producto.largo}})\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                            <th>DIRECCIÓN DE FIBRA</th>\r\n                                                            <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                                <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                                            <td>{{TintaProducto.producto.largo}}</td>\r\n                                                                </ng-container>\r\n                                                            </ng-container>\r\n                                                    </tr>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                    <tr>\r\n                                                        <th>TAMAÑO DE SUSTRATO A IMPRIMIR (cm)</th>\r\n                                                        <td>{{PRODUCTO.i_ancho}} x {{PRODUCTO.i_largo}}</td>\r\n                                                    </tr>\r\n                                                </table>\r\n                                            </div>\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <tr>\r\n                                                        <th>% DEMASÍA</th>\r\n                                                        <td>{{PRODUCTO.demasia}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>HOJAS DE DEMASÍA</th>\r\n                                                        <td>{{hojas_demasia}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>HOJAS A IMPRIMIR</th>\r\n                                                        <td>{{hojas_imprimir}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>TOTAL DE HOJAS POR ASIGNAR</th>\r\n                                                        <td>{{PRODUCTO.paginas}}</td>\r\n                                                    </tr>\r\n                                                </table>\r\n                                            </div>\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>COLOR</th>\r\n                                                        <th>TINTA</th>\r\n                                                    </tr>\r\n                                                    <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                                        <tr>\r\n                                                            <td>{{TintaProducto.producto.color}}</td>\r\n                                                            <td>{{TintaProducto.producto.nombre}}\r\n                                                                ({{TintaProducto.producto.marca}})\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                        <table class=\"table is-fullwidth is-bordered\">\r\n                                            <tr>\r\n                                                <th>BARNIZ</th>\r\n                                                <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                    <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Barniz'\">\r\n                                                <td colspan=\"2\">{{TintaProducto.producto.nombre}}\r\n                                                    ({{TintaProducto.producto.marca}})\r\n                                                </td>\r\n                                                     </ng-container>\r\n                                                </ng-container>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <th>ESTÁNDAR DE COLORES:</th>\r\n                                                <td *ngIf=\"PRODUCTO.e_c === true\">Si</td>\r\n                                                <td *ngIf=\"PRODUCTO.e_c != true\">No</td>\r\n                                            <tr>\r\n                                        </table>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n\r\n                        <table class=\"table is-fullwidth is-bordered\">\r\n                            <thead>\r\n                                <th>POST-IMPRESIÓN</th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        <div class=\"columns\">\r\n                                            <div class=\"column\">\r\n                                                <p *ngFor=\"let post of PRODUCTO.producto.post\" class=\"post\">\r\n                                                ○    {{post}}\r\n                                                </p>\r\n                                                <br>\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <thead>\r\n                                                        <th>TIPO DE PEGA</th>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Pega'\">\r\n                                                                <td>{{TintaProducto.producto.nombre}}</td>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <thead>\r\n                                                        <th>CÓDIGO DE CAJA</th>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cajas Corrugadas'\">\r\n                                                                <td>{{TintaProducto.producto.nombre}}</td>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tbody>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>CINTA DE EMBALAJE</th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cinta de Embalaje'\">\r\n                                                        <td>{{TintaProducto.producto.nombre}}\r\n                                                            ({{TintaProducto.producto.marca}})\r\n                                                        </td>\r\n                                                             </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tr>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n\r\n                        <!-- FIN HORIZONTAL -->\r\n\r\n                        <!-- <div class=\"columns\">\r\n                            <div class=\"column\">\r\n                                <table class=\"table is-fullwidth\">\r\n                                    <thead>\r\n                                        <th>PRE-IMPRESIÓN</th>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CÓDIGO DEL MONTAJE\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                M-{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CANTIDAD DE EJEMPLARES\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                {{PRODUCTO.producto.ejemplares[PRODUCTO.montaje]}}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CÓDIGO DE PELICULA\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                                            <tr>\r\n                                                                <td>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Negro'\"><b>Negro:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-1 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Cyan'\"><b>Cyan:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-2 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Magenta'\"><b>Magenta:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-3 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Amarillo'\"><b>Amarillo:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-4 </p>\r\n                                                                    <div *ngIf=\"TintaProducto.producto.color != 'Amarillo' && TintaProducto.producto.color != 'Magenta' && TintaProducto.producto.color != 'Cyan' && TintaProducto.producto.color != 'Negro' \">\r\n                                                                        <b>{{TintaProducto.producto.color}}:</b>\r\n                                                                        <ng-container>\r\n                                                                            {{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{sumaTintas(i)}}\r\n                                                                        </ng-container>\r\n                                                                    </div>\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </thead>\r\n                                                </table>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <table class=\"table is-fullwidth is-bordered\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>IMPRESIÓN</th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <table class=\"table is-bordered-is-fullwidth\">\r\n                                                    <tr>\r\n                                                        <th width=\"50%\">SUSTRATO</th>\r\n                                                        <th>TAMAÑO ORIGINAL (cm)</th>\r\n                                                    </tr>\r\n                                                    <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                                    <tr>\r\n                                                        <td>\r\n                                                            {{TintaProducto.producto.nombre}}\r\n                                                        </td>\r\n                                                        <td>\r\n                                                            ({{TintaProducto.producto.ancho}} x {{TintaProducto.producto.largo}})\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                            <th>DIRECCIÓN DE FIBRA</th>\r\n                                                            <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                                <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                                            <td>{{TintaProducto.producto.largo}}</td>\r\n                                                                </ng-container>\r\n                                                            </ng-container>\r\n                                                    </tr>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <tr>\r\n                                                        <th>% DEMASIA</th>\r\n                                                        <td>{{demasia}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>TOTAL DE HOJAS</th>\r\n                                                        <td>{{PRODUCTO.demasia}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>TOTAL DE HOJAS POR ASIGNAR</th>\r\n                                                        <td>{{PRODUCTO.paginas}}</td>\r\n                                                    </tr>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>COLOR</th>\r\n                                                        <th>TINTA</th>\r\n                                                    </tr>\r\n                                                    <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                                        <tr>\r\n                                                            <td>{{TintaProducto.producto.color}}</td>\r\n                                                            <td>{{TintaProducto.producto.nombre}}\r\n                                                                ({{TintaProducto.producto.marca}})\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>BARNIZ</th>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Barniz'\">\r\n                                                        <td>{{TintaProducto.producto.nombre}}\r\n                                                            ({{TintaProducto.producto.marca}})\r\n                                                        </td>\r\n                                                             </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tr>\r\n                                                </table>\r\n\r\n                                            </td>\r\n                                        </tr>\r\n                                    </thead>\r\n                                </table>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <table class=\"table is-fullwidth is-bordered\">\r\n                                    <thead>\r\n                                        <th>POST-IMPRESIÓN</th>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <p *ngFor=\"let post of PRODUCTO.producto.post\">\r\n                                                    {{post}}\r\n                                                </p>\r\n                                                <br>\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <thead>\r\n                                                        <th>TIPO DE PEGA</th>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Pega'\">\r\n                                                                <td>{{TintaProducto.producto.nombre}}</td>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tbody>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <thead>\r\n                                                        <th>CÓDIGO DE CAJA</th>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cajas Corrugadas'\">\r\n                                                                <td>{{TintaProducto.producto.nombre}}</td>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tbody>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>CINTA DE EMBALAJE</th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cinta de embalaje'\">\r\n                                                        <td>{{TintaProducto.producto.nombre}}\r\n                                                            ({{TintaProducto.producto.marca}})\r\n                                                        </td>\r\n                                                             </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tr>\r\n                                                </table>\r\n\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div> -->\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <tr>\r\n                    <th>\r\n                        PROCESOS\r\n                    </th>\r\n                </tr>\r\n                <tr>\r\n                    <td>\r\n\r\n                        <table class=\"table is-fullwidth is-bordered\">\r\n                            <tr>\r\n                                <th colspan=\"2\">EQUIPOS</th>\r\n                            </tr>\r\n                            <tr *ngFor=\"let maquina of Maquinas.maquinasDB\">\r\n                                <td>\r\n                                    {{maquina.maquina.nombre}}\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n\r\n                        <table class=\"table is-fullwidth isbordered\">\r\n                            <tr>\r\n                                <th colspan=\"6\">OBSERVACIONES</th>\r\n                                <th colspan=\"2\">ELABORADO POR</th>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colspan=\"6\">\r\n                                {{this.PRODUCTO.observacion}}\r\n                                    <br>\r\n                                    <br>\r\n                                    <br>\r\n                                </td>\r\n                                <td colspan=\"2\">\r\n                                    Firma:\r\n                                    <br>\r\n                                    <br>\r\n                                    Fecha:\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <hr>\r\n            <button class=\"button is-primary\" (click)='descargarPDF()'>Descargar</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- <div class=\"container mt-5\">\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n                <table width='100%'>\r\n                    <tr>\r\n                        <td>\r\n                            <img src=\"../../assets/Poligrafica_black.png\">\r\n                        </td>\r\n                        <td class=\"orden\">\r\n                            ORDEN DE PRODUCCIÓN <br>\r\n                            <b id='n_orden'>{{PRODUCTO.sort}}</b> <br>\r\n                            FECHA DE EMISION: {{PRODUCTO.fecha | date:'dd-MM-yyyy'}}\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <br>\r\n                <table border=\"solid 1px black\" width='100%'>\r\n                    <tr>\r\n                        <td><b> CLIENTE: </b>{{PRODUCTO.cliente.nombre}}</td>\r\n                        <td><b> O.C.: </b>{{PRODUCTO.orden}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan='2'>\r\n                            <b> PRODUCTO: </b> {{PRODUCTO.cliente.codigo}} - {{PRODUCTO.producto.codigo}} - {{PRODUCTO.producto.version}} {{PRODUCTO.producto.producto}}\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <br>\r\n                <table class=\"table is-fullwidth\">\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='2'>ENTREGAS</th>\r\n                    </tr>\r\n                </table>\r\n                <table border=\"solid 1px black\" width='100%'>\r\n                    <tr>\r\n                        <th> N° ENTREGA</th>\r\n                        <th> CANTIDAD</th>\r\n                        <th> FECHA</th>\r\n                        <th> OBSERVACIÓN</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td> 1</td>\r\n                        <td> {{PRODUCTO.cantidad}}</td>\r\n                        <td>{{PRODUCTO.fecha_s}}</td>\r\n                        <td></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td> TOTAL</td>\r\n                        <td> {{PRODUCTO.cantidad}}</td>\r\n                    </tr>\r\n                </table>\r\n                <br>\r\n                <table class=\"table is-fullwidth\">\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='3'>MONTAJE Y DESARROLLO</th>\r\n                    </tr>\r\n                </table>\r\n                <table border='solid 1px black' width='100%'>\r\n                    <tr>\r\n                        <th> ESPECIFICACIÓN</th>\r\n                        <th> IMPRESIÓN</th>\r\n                        <th> POST-IMPRESION</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>E {{PRODUCTO.cliente.codigo}} - {{PRODUCTO.producto.codigo}} - {{PRODUCTO.producto.version}} - {{PRODUCTO.producto.edicion}}</td>\r\n                        <td class=\"has-text-centered\">\r\n                        <ng-container *ngFor='let material of PRODUCTO.producto.materiales'>\r\n                            <p *ngIf='material.producto.grupo.nombre != \"Sustrato\"'>\r\n                                {{material.producto.nombre}} ({{material.producto.marca}})<br>\r\n                            </p>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor='let post of PRODUCTO.producto.post'>\r\n                                 {{post}} <br>\r\n                            </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <br>\r\n                <table class=\"table is-fullwidth\">\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='3'>SUSTRATO</th>\r\n                    </tr>\r\n                </table>\r\n                <table border='solid 1px black' width='100%'>\r\n                    <tr>\r\n                        <td colspan='2'>\r\n                             <b> TIPO DE SUSTRATO:\r\n                                <ng-container *ngFor='let material of PRODUCTO.producto.materiales'>\r\n                                    <ng-container *ngIf='material.producto.grupo.nombre === \"Sustrato\"'>\r\n                                        {{material.producto.nombre}} ({{material.producto.marca}})<br>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            </b>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b> TAMAÑO ORIGINAL: {{PRODUCTO.producto.dimensiones}}</b></td>\r\n                        <td> <b>DIRECCIÓN DE FIBRA: </b> {{PRODUCTO.producto.fibra}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b> DEMASIA:</b> {{PRODUCTO.demasia}}</td>\r\n                        <td><b> TAMAÑOS A IMPRIMIR: </b> {{PRODUCTO.paginas}}</td>\r\n                    </tr>\r\n                </table>\r\n                <hr>-->\r\n        <!--</div>\r\n        <!-- <div class=\"card-content\">\r\n\r\n            <div class=\"orden\">Orden de Producción</div>\r\n            <div class=\"op\">\r\n                <b>\r\n                    {{PRODUCTO.sort}}\r\n                </b>\r\n            </div>\r\n            <table class=\"table is-fullwidth\">\r\n                <tr>\r\n                    <td>\r\n                        <b>CLIENTE:</b> {{PRODUCTO.cliente.nombre}}\r\n                    </td>\r\n                    <td>\r\n                        <b>Orden De Compra:</b> {{PRODUCTO.orden}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan='2'>\r\n                            <b>PRODUCTO:</b> {{PRODUCTO.producto.producto}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='2'>ENTREGAS</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <b>Cantidad:</b> {{PRODUCTO.cantidad}} <br>\r\n                        </td>\r\n                        <td>\r\n                            <b>Fecha de Creacion: </b> {{PRODUCTO.fecha | date:'dd-MM-yyyy'}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='2'>MONTAJE Y DESARROLLO</th>\r\n                    </tr>\r\n                    <tr class=\"has-text-centered\">\r\n                        <th class=\"has-text-centered is-selected\">MATERIALES</th>\r\n                        <th class=\"has-text-centered is-selected\">HOJAS</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td rowspan=\"2\">\r\n                            <ng-container *ngFor='let material of PRODUCTO.producto.materiales'>\r\n                                {{material.material}} <br>\r\n                            </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <b>Ejemplares Montados:</b>\r\n                            {{PRODUCTO.producto.ejemplares}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <b>Hojas:</b>\r\n                            {{PRODUCTO.paginas}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr class=\"has-text-centered\">\r\n                        <th class=\"is-selected\" colspan='2'>POST - IMPRESION</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan='2'>\r\n                            <b>Corte:</b>\r\n                            {{PRODUCTO.producto.post}}\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <div class=\"column\">\r\n                </div>\r\n            <hr>\r\n        </div>\r\n    </div>\r\n</div> -->","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\nimport { PdfMakeWrapper, Txt, Img, Table, Cell, Columns, Stack } from 'pdfmake-wrapper';\r\nimport * as pdfFonts from \"pdfmake/build/vfs_fonts\";\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-orden',\r\n  templateUrl: './orden.component.html',\r\n  styleUrls: ['./orden.component.css']\r\n})\r\nexport class OrdenComponent implements OnInit {\r\n\r\n  public id!:any;\r\n  public PRODUCTO;\r\n  public Maquinas;\r\n  public listo:boolean = true;\r\n  public necesidad;\r\n  public demasia;\r\n  public cantidad;\r\n\r\n  constructor(private route:ActivatedRoute,\r\n              private api:RestApiService) { \r\n    this.id = this.route.snapshot.paramMap.get('id');\r\n  }\r\n\r\n  public hojas_imprimir\r\n  public hojas_demasia\r\n  ngOnInit(): void {\r\n    this.api.getOrdenById(this.id)\r\n      .subscribe((resp:any)=>{\r\n        this.PRODUCTO = resp;\r\n        this.cantidad = new Intl.NumberFormat('de-DE').format(this.PRODUCTO.cantidad)\r\n        this.demasia = Math.ceil(this.PRODUCTO.demasia * 100 / this.PRODUCTO.paginas);\r\n        let ejemplares_montados = this.PRODUCTO.producto.ejemplares[this.PRODUCTO.montaje]\r\n        let paginas_sin_demasia = this.PRODUCTO.cantidad /  ejemplares_montados;\r\n        this.hojas_imprimir = Math.ceil(this.PRODUCTO.cantidad / this.PRODUCTO.producto.ejemplares[this.PRODUCTO.montaje])\r\n        this.hojas_demasia = Math.ceil(this.PRODUCTO.demasia * this.hojas_imprimir / 100)\r\n        // this.PRODUCTO.demasia = Math.ceil(this.demasia * paginas_sin_demasia / 100);\r\n        // this.PRODUCTO.demasia = this.PRODUCTO.producto.ejemplares[this.PRODUCTO.montaje]\r\n        console.log(this.PRODUCTO, 'este es el Producto');\r\n        this.getMaquinas(this.PRODUCTO._id)\r\n      })\r\n  }\r\n\r\n  getMaquinas(orden){\r\n    this.api.getMaquinasByOrdens(orden)\r\n      .subscribe((resp:any)=>{\r\n        this.Maquinas = resp;\r\n        console.log(this.Maquinas, 'Estas son las maquinas')\r\n      })\r\n  }\r\n\r\n  NumToLet(n){\r\n    switch(n)\r\n    {\r\n        case 0: return \"A\";\r\n        case 1: return \"B\";\r\n        case 2: return \"C\";\r\n        case 3: return \"D\";\r\n        case 4: return \"E\";\r\n        case 5: return \"F\";\r\n        case 6: return \"G\";\r\n        case 7: return \"H\";\r\n        case 8: return \"I\";\r\n    }\r\n\r\n  }\r\n\r\n  sumaTintas(n){\r\n    if(this.listo){\r\n      this.listo = false;\r\n      this.necesidad = n - 5;\r\n      return n + Math.abs(this.necesidad);\r\n    }else{\r\n      return n + Math.abs(this.necesidad);\r\n    }\r\n  }\r\n\r\n  descargarPDF(){\r\n\r\n    let PRODUCTO = this.PRODUCTO\r\n    let hojas_demasia = this.hojas_demasia\r\n    let hojas_imprimir = this.hojas_imprimir\r\n    console.log(this.PRODUCTO)\r\n    \r\n    PRODUCTO.fecha_o = moment(PRODUCTO.fecha_o).format('DD/MM/yyyy');\r\n    PRODUCTO.fecha_s = moment(PRODUCTO.fecha_s).format('DD/MM/yyyy');\r\n    PRODUCTO.fecha = moment(PRODUCTO.fecha).format('DD/MM/yyyy');\r\n    PRODUCTO.cantidad_ = new Intl.NumberFormat('de-DE').format(PRODUCTO.cantidad)\r\n\r\n\r\n    let montajes = this.NumToLet(PRODUCTO.montaje);\r\n    let maquinas = this.Maquinas.maquinasDB\r\n    let maquina = []\r\n    \r\n    let peliculas = [];\r\n    let demasia = this.demasia\r\n\r\n    let materiales = PRODUCTO.producto.materiales[PRODUCTO.montaje];\r\n\r\n    let tintas = materiales.filter(x => x.producto.grupo.nombre === 'Tinta')\r\n    let sustrato = materiales.filter(x => x.producto.grupo.nombre === 'Sustrato')\r\n    let barniz = materiales.filter(x => x.producto.grupo.nombre === 'Barniz')\r\n    let cant_barniz = (barniz[0].cantidad * PRODUCTO.paginas)/1000;\r\n    let cantidad_barniz = cant_barniz.toFixed(2)\r\n    let pega = materiales.filter(x => x.producto.grupo.nombre === 'Pega')\r\n    console.log(pega,'pegaa')\r\n    let cantidad_pega;\r\n    let pega_nombre = '';\r\n    let pega_marca = '';\r\n    let pega_unidad = '';\r\n    if(pega.length == 0){\r\n      cantidad_pega = 'N/A'\r\n    }else{\r\n      let cant_pega = (pega[0].cantidad * PRODUCTO.cantidad)/1000;\r\n      cantidad_pega = cant_pega.toFixed(2)\r\n      pega_nombre = pega[0].producto.nombre\r\n      pega_marca = pega[0].producto.marca\r\n      pega_unidad =pega[0].producto.unidad\r\n    }\r\n    let caja = materiales.filter(x => x.producto.grupo.nombre === 'Cajas Corrugadas')\r\n    let cant_cajas = (PRODUCTO.cantidad / caja[0].cantidad)\r\n    let cantidad_cajas = Math.ceil(cant_cajas)\r\n    let cinta_ = caja[0].producto.cinta * cantidad_cajas;\r\n    cinta_ = Math.ceil(cinta_)\r\n    let cinta = materiales.filter(x => x.producto.grupo.nombre === 'Cinta de Embalaje')\r\n    let Nombre_sustrato = sustrato[0].producto.nombre\r\n    let tintas_color = []\r\n    let tintas_marca = []\r\n\r\n    let Estandar_de_color = ''\r\n\r\n    if(PRODUCTO.e_c){\r\n      Estandar_de_color = 'SI'\r\n    }else{\r\n      Estandar_de_color = 'NO'\r\n    }\r\n\r\n    let _i = 5;\r\n    for(let i = 0; i<tintas.length; i++){\r\n      if(tintas[i].producto.color === 'Negro'){\r\n        let peli = `Negro: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-1`;\r\n        peliculas.push(peli)\r\n      }else if(tintas[i].producto.color === 'Cyan'){\r\n        let peli = `Cyan: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-2`;\r\n        peliculas.push(peli)\r\n      }else if(tintas[i].producto.color === 'Magenta'){\r\n        let peli = `Magenta: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-3`;\r\n        peliculas.push(peli)\r\n      }else if(tintas[i].producto.color === 'Amarillo'){\r\n        let peli = `Amarillo: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-4`;\r\n        peliculas.push(peli)\r\n      }else{\r\n        let peli = `${tintas[i].producto.color}: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-${_i++}`;\r\n        peliculas.push(peli)\r\n      }\r\n      tintas_color.push(tintas[i].producto.color)\r\n      let cantidad = (tintas[i].cantidad * this.PRODUCTO.paginas)/1000;\r\n      cantidad = Number(cantidad)\r\n      let cantidad_tinta = cantidad.toFixed(2)\r\n      let tinta = `${tintas[i].producto.color}: ${tintas[i].producto.nombre}(${tintas[i].producto.marca} - ${cantidad_tinta}${tintas[i].producto.unidad})`\r\n      tintas_marca.push(tinta)\r\n    }\r\n\r\n    for(let i=0; i<maquinas.length;i++){\r\n      maquina.push(maquinas[i].maquina.nombre);\r\n    }\r\n\r\n\r\n    \r\n\r\n    const pdf = new PdfMakeWrapper();\r\n    PdfMakeWrapper.setFonts(pdfFonts);\r\n\r\n\r\n    async function generarPDF(){\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(await new Img('../../assets/poli_cintillo.png').width(85).margin([20, 5]).build()).rowSpan(4).end,\r\n            new Cell(new Txt(`\r\n            ORDEN DE PRODUCCIÓN`).bold().end).alignment('center').fontSize(13).rowSpan(4).end,\r\n            new Cell(new Txt('Código: FPR-008').end).fillColor('#dedede').fontSize(7).alignment('center').end,\r\n          ],\r\n          [\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('N° de Revisión: 0').end).fillColor('#dedede').fontSize(7).alignment('center').end,\r\n          ],\r\n          [\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('Fecha de Revision: 05/10/2021').end).fillColor('#dedede').fontSize(7).alignment('center').end,\r\n          ],\r\n          [\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('Página: 1 de 5').end).fillColor('#dedede').fontSize(7).alignment('center').end,\r\n          ],\r\n        ]).widths(['25%','50%','25%']).end\r\n      )\r\n\r\n      pdf.add(\r\n        pdf.ln(1)\r\n      )\r\n\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('ORDEN DE COMPRA').bold().end).colSpan(2).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('N°').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.orden}`).end).fontSize(9).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('Fecha de OC:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.fecha_o}`).margin([0,6]).end).fontSize(9).end\r\n              ]\r\n            ]).widths(['40%','60%']).end\r\n            ).end,\r\n\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('PRODUCTO').bold().end).colSpan(2).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('NOMBRE:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.producto.producto}`).end).fontSize(12).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('CÓDIGO:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}`).end).fontSize(12).end\r\n              ]\r\n            ]).widths(['25%','75%']).end\r\n            ).end,\r\n\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('ORDEN DE PRODUCCIÓN').bold().end).colSpan(2).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('N°:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.sort}`).bold().end).fontSize(15).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('FECHA DE EMISIÓN:').end).fillColor('#dedede').fontSize(8).end,\r\n                new Cell(new Txt(`${PRODUCTO.fecha}`).margin([0,6]).end).fontSize(9).end\r\n              ]\r\n            ]).widths(['40%','60%']).end\r\n            ).end,\r\n\r\n          ],\r\n          \r\n        ]).layout('noBorders').widths(['30%','40%','30%']).end\r\n\r\n      )\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('INFORMACIÓN DEL PRODUCTO').bold().end).colSpan(2).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('CLIENTE:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.cliente.nombre}`).end).fontSize(12).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('CÓDIGO DE PRODUCTO DEL CLIENTE:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.producto.cod_cliente}`).end).fontSize(12).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('CÓDIGO DE ESPECIFICACIÓN:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`E-${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${PRODUCTO.producto.edicion}`).end).fontSize(12).end\r\n              ]\r\n            ]).widths(['40%','60%']).end\r\n            ).end,\r\n\r\n          ],\r\n          \r\n        ]).layout('noBorders').widths(['100%']).end\r\n\r\n      )\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('PLANIFICACIÓN DE ENTREGAS').bold().end).colSpan(4).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n\r\n              ],\r\n              [\r\n                new Cell(new Txt('N°:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt('CANTIDAD:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt('FECHA SOLICITADA:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt('LUGAR DE ENTREGA:').end).fillColor('#dedede').fontSize(9).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt(`1`).end).fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.cantidad_}`).end).fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.fecha_s}`).end).fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.cliente.almacenes[PRODUCTO.montaje]}`).end).fontSize(9).end\r\n              ],\r\n              [\r\n                new Cell(new Txt(`TOTAL`).end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.cantidad_}`).end).fontSize(9).end,\r\n                new Cell(new Txt(``).end).border([false]).fontSize(9).end,\r\n                new Cell(new Txt(``).end).border([false]).fontSize(9).end\r\n              ],\r\n            ]).widths(['7%','31%','31%','31%']).end\r\n            ).end,\r\n\r\n          ],\r\n          \r\n        ]).layout('noBorders').widths(['100%']).end\r\n\r\n      )\r\n      pdf.ln(2)\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('CARACTERÍSTICAS Y MATERIALES ').bold().end).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n              ],\r\n              [\r\n                new Cell(\r\n                  new Table([\r\n                    [\r\n                      new Cell(new Table([\r\n                        [\r\n                          new Cell(new Txt('PRE-IMPRESIÓN').end).fillColor('#dedede').fontSize(9).end,\r\n                        ],\r\n                        [\r\n                          new Cell(new Table([\r\n                            [\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('CÓDIGO DEL MONTAJE').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`M-${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}`).end).end\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('CANTIDAD DE EJEMPLARES').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`${PRODUCTO.producto.ejemplares[PRODUCTO.montaje]}`).end).end\r\n                                ]\r\n                              ]).widths(['100%']).end\r\n                              ).fontSize(9).end,\r\n                              new Cell(\r\n                                new Table([\r\n                                [\r\n                                  new Cell(new Txt('CÓDIGO DE PELICULAS').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Stack(peliculas).fontSize(9).end\r\n                                ]\r\n                              ]).widths(['100%']).end\r\n                              ).end,\r\n                            ],\r\n                          ]).layout('noBorders').widths(['50%', '50%']).end\r\n                          ).end,\r\n                        ]\r\n                      ]).layout('noBorders').widths(['100%']).end\r\n                      ).border([false]).fillColor('#ffffff').end,\r\n                    ], //FINAL PRE-IMPRESION\r\n                    [\r\n                      new Cell(new Table([\r\n                        [\r\n                          new Cell(new Txt('IMPRESIÓN').end).fillColor('#dedede').fontSize(9).end,\r\n                        ],\r\n                        [\r\n                          new Cell(new Table([\r\n                            [\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('SUSTRATO').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                  new Cell(new Txt('TAMAÑO ORIGINAL').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(Nombre_sustrato).end).fontSize(11).end,\r\n                                  new Cell(new Txt(`${sustrato[0].producto.ancho} x ${sustrato[0].producto.largo}`).end).alignment('center').fontSize(11).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('DIRECCIÓN DE FIBRA').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                  new Cell(new Txt('TAMAÑO A IMPRIMIR').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(sustrato[0].producto.largo).end).alignment('center').fontSize(11).end,\r\n                                  new Cell(new Txt(`${PRODUCTO.i_ancho} x ${PRODUCTO.i_largo}`).end).alignment('center').fontSize(11).end,\r\n                                ]\r\n\r\n\r\n                              ]).widths(['60%','40%']).end\r\n                              ).fontSize(9).end,\r\n\r\n\r\n\r\n                              // new Cell(new Table([\r\n                              //   [\r\n                              //     new Cell(new Txt('% DEMASIA').end).fillColor('#dedede').lineHeight(0.5).fontSize(9).end,\r\n                              //     new Cell(new Txt(demasia).end).fontSize(11).alignment('center').end,\r\n                              //   ],\r\n                              //   [\r\n                              //     new Cell(new Txt('HOJAS DE DEMASIA').end).fillColor('#dedede').fontSize(9).end,\r\n                              //     new Cell(new Txt(PRODUCTO.demasia).end).fontSize(11).alignment('center').end,\r\n                              //   ],\r\n                              //   [\r\n                              //     new Cell(new Txt('HOJAS A IMPRIMIR').end).fillColor('#dedede').fontSize(9).end,\r\n                              //     new Cell(new Txt(`${PRODUCTO.paginas - demasia}`).end).fontSize(11).alignment('center').end,\r\n                              //   ],\r\n                              //   [\r\n                              //     new Cell(new Txt('TOTAL DE HOJAS POR ASIGNAR').end).fillColor('#dedede').fontSize(9).end,\r\n                              //     new Cell(new Txt(PRODUCTO.paginas).end).fontSize(11).alignment('center').end,\r\n                              //   ]\r\n                              // ]).widths(['80%','20%']).end\r\n                              // ).fontSize(9).end,\r\n\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('% DEMASÍA').end).fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                  new Cell(new Txt('HOJAS DE DEMASÍA:').end).fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(PRODUCTO.demasia).end).fontSize(10).alignment('center').end,\r\n                                  new Cell(new Txt(hojas_demasia).end).fontSize(10).alignment('center').end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('HOJAS A IMPRIMIR:').end).fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                  new Cell(new Txt('TOTAL HOJAS A ASIGNAR:').end).fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(hojas_imprimir).bold().end).fontSize(12).alignment('center').end,\r\n                                  new Cell(new Txt(PRODUCTO.paginas).bold().end).fontSize(12).alignment('center').end,\r\n                                ]\r\n                              ]).widths(['50%','50%']).end\r\n                              ).end,\r\n                            ],\r\n                            [\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('BARNIZ').end).alignment('center').fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                  new Cell(new Txt('ESTÁNDAR DE COLOR:').alignment('center').end).fillColor('#dedede').alignment('center').fontSize(7).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`${barniz[0].producto.nombre} (${barniz[0].producto.marca} - ${cantidad_barniz}${barniz[0].producto.unidad})`).end).fontSize(9).end,\r\n                                  new Cell(new Txt(Estandar_de_color).end).alignment('center').fontSize(9).end\r\n                                ]\r\n                              ]).widths(['70%','30%']).end\r\n                              ).fontSize(9).end,\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('TINTA').end).alignment('center').fillColor('#dedede').fontSize(9).end\r\n                                ],\r\n                                [\r\n                                  new Cell(new Stack(tintas_marca).end).fontSize(9).end\r\n                                ],\r\n                              ]).widths(['100%']).end\r\n                              ).fontSize(9).end,\r\n                              // new Cell(new Txt('').end).end\r\n                            ]\r\n                          ]).layout('noBorders').widths(['50%', '50%']).end\r\n                        // ]).layout('noBorders').widths(['33%', '27%', '40%']).end\r\n                          ).end\r\n                        ]\r\n                      ]).layout('noBorders').widths(['100%']).end\r\n                      ).border([false]).fillColor('#ffffff').end\r\n                    ],\r\n                    [\r\n                      new Cell(new Table([\r\n                        [\r\n                          new Cell(new Txt('POST-IMPRESIÓN').end).fillColor('#dedede').fontSize(9).end,\r\n                        ],\r\n                        [\r\n                          new Cell(new Table([\r\n                            [\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Stack(PRODUCTO.producto.post).end).fontSize(9).border([false]).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('TIPO DE PEGA').alignment('center').end).fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`${pega_nombre} (${pega_marca} - ${cantidad_pega}${pega_unidad})`).end).fontSize(9).end\r\n                                ]\r\n                              ]).widths(['100%']).end\r\n                              ).end,\r\n\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('CÓDIGO DE CAJA').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`${caja[0].producto.nombre}(${caja[0].producto.marca} - ${cantidad_cajas}${caja[0].producto.unidad})`).end).fontSize(9).end\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('CINTA DE EMBALAJE').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`CINTA DE EMBALAJE CORRUGADO RECICLADO 3430(RELA - ${cinta_}Und)`).end).fontSize(9).end\r\n                                ]\r\n                              ]).widths(['100%']).end\r\n                              ).end\r\n                              \r\n                            ]\r\n                            \r\n                          ]).layout('noBorders').widths(['50%', '50%']).end\r\n                          ).end\r\n                        ]\r\n\r\n                      ]).layout('noBorders').widths(['100%']).end\r\n                      ).border([false]).fillColor('#ffffff').end\r\n                    ],\r\n                  ]).widths(['100%']).end\r\n                ).end\r\n              ]\r\n            ]).layout('noBorders').widths(['100%']).end\r\n            ).end,\r\n\r\n          ],\r\n          \r\n        ]).layout('noBorders').widths(['100%']).end\r\n\r\n      )\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Txt('EQUIPOS').end).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n            new Cell(new Txt('OBSERVACIONES').end).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n            new Cell(new Txt('ELABORADO POR:').end).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n          ],\r\n          [\r\n            new Cell(new Stack(maquina).end).fontSize(9).end,\r\n            new Cell(new Txt(PRODUCTO.observacion).end).fontSize(9).end,\r\n            new Cell(new Txt(`Firma:\r\n          \r\n            Fecha:`).end).fontSize(9).end\r\n          ]\r\n\r\n        ]).widths(['34%','33%','33%']).end\r\n      )\r\n\r\n\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( await new Img('../../assets/Poligrafica_black_P.png').build()).end,\r\n      //       new Cell( new Table([[new Cell(new Txt('ORDEN DE PRODUCCIÓN').end).fillColor('#dedede').fontSize(9).end],\r\n      //                             [new Cell(new Txt(`${PRODUCTO.sort}`).end).fontSize(30).end],\r\n      //                             [new Cell(new Txt(`FECHA DE EMISION: ${fecha1}`).end).fontSize(8).end]\r\n      //                           ]).end).alignment('center').end\r\n      //     ]\r\n      //   ]).widths(['70%','30%']).layout('noBorders').end\r\n      // )\r\n      // pdf.add(\r\n\r\n      //   pdf.ln(2)\r\n        \r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt(`CLIENTE: ${PRODUCTO.cliente.nombre}`).end).end,\r\n      //       new Cell( new Txt(`O.C.: ${PRODUCTO.orden}`).end).end,\r\n      //     ],\r\n      //     [\r\n      //       new Cell( new Txt(`PRODUCTO: ${PRODUCTO.cliente.codigo} - ${PRODUCTO.producto.codigo} ${PRODUCTO.producto.producto}`).end).colSpan(2).end,\r\n      //       ''\r\n      //     ]\r\n      //   ]).widths(['60%','40%']).end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt('ENTREGAS').end).fillColor('#dedede').end\r\n      //     ]\r\n      //   ]).widths(['100%']).alignment('center').layout('noBorders').end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       'N° ENTREGA','CANTIDAD','FECHA','OBSERVACIÓN'\r\n      //     ],\r\n      //     [\r\n      //       '1',\r\n      //       new Cell( new Txt(`${PRODUCTO.cantidad}`).end).end,\r\n      //       new Cell( new Txt(`${PRODUCTO.fecha_s}`).end).end,\r\n      //       ''\r\n      //     ],\r\n      //     [\r\n      //       'TOTAL',\r\n      //       new Cell( new Txt(`${PRODUCTO.cantidad}`).end).end,\r\n      //       new Cell( new Txt('').end).border([false, false]).end,\r\n      //       new Cell( new Txt('').end).border([false, false]).end\r\n      //     ]\r\n      //   ]).widths(['24%','24%','24%','28%']).end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt('MONTAJE Y DESARROLLO').end).fillColor('#dedede').end\r\n      //     ]\r\n      //   ]).widths(['100%']).alignment('center').layout('noBorders').end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       'VERSIÓN','IMPRESIÓN','POST-IMPRESION'\r\n      //     ],\r\n      //     [\r\n      //       new Cell( new Txt(`${PRODUCTO.producto.version}`).end).end,\r\n      //       new Cell( new Stack(materiales).end).end,\r\n      //       new Cell( new Stack(PRODUCTO.producto.post).end).end\r\n      //     ],\r\n      //   ]).widths(['30%','40%','30%']).end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt('SUSTRATO').end).fillColor('#dedede').end\r\n      //     ]\r\n      //   ]).widths(['100%']).alignment('center').layout('noBorders').end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt(`TIPO DE SUSTRATO: ${PRODUCTO.producto.sustrato}`).end).colSpan(2).end,\r\n      //       ''\r\n      //     ],\r\n      //     [\r\n      //       new Cell( new Txt(`TAMAÑO ORIGINAL: ${PRODUCTO.producto.dimensiones}`).end).end,\r\n      //       new Cell( new Txt(`DIRECCIÓN DE FIBRA: ${PRODUCTO.producto.fibra}`).end).end,\r\n      //     ],\r\n      //     [\r\n      //       new Cell( new Txt(`DEMASIA: ${PRODUCTO.demasia}`).end).end,\r\n      //       new Cell( new Txt(`TAMAÑO A IMPRIMIR: ${PRODUCTO.paginas}`).end).end,\r\n      //     ]\r\n      //   ]).widths(['50%','50%']).end\r\n      // )\r\n  \r\n      pdf.create().download(`OP_${PRODUCTO.sort}`)\r\n    }\r\n\r\n    generarPDF();\r\n\r\n  }\r\n\r\n}\r\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import { Component, OnInit } from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { Router } from '@angular/router';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  public NUEVA_ORDEN:boolean = false;\r\n\r\n  public cs:boolean = false;\r\n  public ps:boolean = false;\r\n  public os:boolean = false;\r\n\r\n  public Cantidad_ejemplares = 1000;\r\n  public Ejemplares_montados = 1;\r\n  public demasia = 0;\r\n  public paginas = Math.ceil(this.Cantidad_ejemplares / this.Ejemplares_montados)\r\n  public Fases:boolean = false;\r\n  public SinMaterial:boolean = false;\r\n\r\n  i_montajes = 0;\r\n\r\n  oc_ = '';\r\n  fo_ = '';\r\n  ae_ = '';\r\n  observacion_ = '';\r\n\r\n  x; \r\n  y;\r\n\r\n\r\n\r\n  public TOTALES = [\r\n    {\r\n      material:null,\r\n      marca:null,\r\n      total:null,\r\n      grupo:null,\r\n      presentacion:null,\r\n      neto:null,\r\n      unidad:null,\r\n      ancho:null,\r\n      largo:null\r\n    }\r\n  ];\r\n\r\n  public CLIENTES;\r\n  public PRODUCTOS = [];\r\n  public PRODUCTO = {\r\n    montajes:null,\r\n    ejemplares:null,\r\n    materiales: [],\r\n    _id:null,\r\n    grupo:null,\r\n    sustrato:[{\r\n      nombre:'',\r\n      marca:''\r\n    }],\r\n    dimensiones:null\r\n  };\r\n  public montajes\r\n  public MAQUINAS\r\n  public ALMACEN\r\n  public CANTIDAD = [];\r\n  public _CANTIDAD = [];\r\n\r\n  public CLIENTE\r\n  public OC\r\n\r\n  public Fecha_S\r\n\r\n  public restantes = [];\r\n  public almacenes = [];\r\n  public hoy;\r\n\r\n  constructor(public api:RestApiService,\r\n              private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.obtenerClientes();\r\n    this.BuscarAlmacen();\r\n    this.Almacenado();\r\n    this.hoy = moment().format('yyyy-MM-DD');\r\n  }\r\n\r\n  NumToLet(n){\r\n    switch(n)\r\n    {\r\n        case 0: return \"A\";\r\n        case 1: return \"B\";\r\n        case 2: return \"C\";\r\n        case 3: return \"D\";\r\n        case 4: return \"E\";\r\n        case 5: return \"F\";\r\n        case 6: return \"G\";\r\n        case 7: return \"H\";\r\n        case 8: return \"I\";\r\n    }\r\n\r\n  }\r\n\r\n  alertaRoja(aja){\r\n    let cantidad = this.PRODUCTO.materiales.length\r\n    if(cantidad > this.restantes.length){\r\n      this.restantes.push(aja)\r\n    }else{\r\n      this.restantes = [];\r\n      this.restantes.push(aja)\r\n    }\r\n\r\n    console.log(this.restantes)\r\n  }\r\n\r\n  modal_nueva_orden(){\r\n    if(!this.NUEVA_ORDEN){\r\n      this.NUEVA_ORDEN = true\r\n    }else{\r\n      this.NUEVA_ORDEN = false\r\n    }\r\n  }\r\n\r\n  obtenerClientes(){\r\n    this.api.GetClientes()\r\n      .subscribe((resp:any)=>{\r\n        this.CLIENTES = resp.clientes\r\n      })\r\n  }\r\n\r\n  cliente_selected(e){\r\n    if(e.target.value === '0'){\r\n      this.cs = false \r\n    }else{\r\n      this.cs = true;\r\n      this.CLIENTE = e.target.value\r\n      let index = this.CLIENTES.find(x => x._id === e.target.value)\r\n      this.ALMACEN = index.almacenes;\r\n\r\n      console.log(this.ALMACEN)\r\n    }\r\n\r\n    this.api.getById(e.target.value)\r\n      .subscribe((resp:any)=>{\r\n        this.PRODUCTOS = resp.productos;\r\n        console.log(this.PRODUCTOS)\r\n      })\r\n  }\r\n\r\n  Almacenado(){\r\n    this.api.getAlmacenado()\r\n      .subscribe((resp:any)=>{\r\n        this._CANTIDAD = resp;\r\n        this.totalizar_materiales();\r\n      })\r\n  }\r\n\r\n  cambios(){\r\n\r\n    this.Ejemplares_montados = this.PRODUCTO.ejemplares[this.i_montajes]\r\n    this.Ejemplares(this.Ejemplares_montados)\r\n  }\r\n\r\n  producto_selected(e){\r\n\r\n    if(e.target.value === '0'){\r\n      this.ps = false \r\n    }else{\r\n      this.ps = true;\r\n    }\r\n\r\n    this.api.getOneById(e.target.value)\r\n      .subscribe((resp:any)=>{\r\n        this.PRODUCTO = resp.producto;\r\n        console.log(this.PRODUCTO,'PRODUCTO')\r\n        this.montajes = this.PRODUCTO.montajes\r\n        this.Ejemplares_montados = this.PRODUCTO.ejemplares[this.i_montajes];\r\n        this.Ejemplares(this.Ejemplares_montados)\r\n        this.MAQUINAS = resp.maquinas;\r\n        //   this.modal_nueva_orden()\r\n        let x = this.PRODUCTO.materiales.length;\r\n        this.CANTIDAD = [];\r\n        for(let i=0; i<x; i++){\r\n          let respuesta = this._CANTIDAD.find(x => x.material.nombre == this.PRODUCTO[this.i_montajes].materiales[i].producto.nombre && x.material.marca == this.PRODUCTO.materiales[i].producto.marca && x.material.grupo.nombre)\r\n          \r\n          console.log(this.PRODUCTO)\r\n          if(!respuesta){\r\n            this.SinMaterial = true;\r\n            return\r\n          }else{\r\n            this.SinMaterial = false;\r\n          }\r\n          \r\n          this.CANTIDAD.push(respuesta)\r\n        }\r\n       })\r\n\r\n\r\n  }\r\n\r\n  orden_selected(e){\r\n    if(e.target.value === null){\r\n      this.os = false \r\n    }else{\r\n      this.os = true;\r\n      this.OC = e.target.value;\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  BuscarAlmacen(){\r\n    this.api.getAlmacen()\r\n      .subscribe((resp:any) => {\r\n        this.ALMACEN = resp.materiales;\r\n        this.totalizar_materiales();\r\n      })\r\n  }\r\n\r\n  Cantidad(e){\r\n    this.Cantidad_ejemplares = e.target.value\r\n    this.paginas = Math.ceil(this.Cantidad_ejemplares / this.Ejemplares_montados)\r\n    let demasia = (<HTMLInputElement>document.getElementById('demasia_input')).value;\r\n    this.Demasia(demasia)\r\n    // this.paginas = this.paginas + this.demasia\r\n    // this.paginas = this.paginas\r\n  }\r\n\r\n  Ejemplares(e){\r\n    this.Ejemplares_montados = e\r\n    this.paginas = Math.ceil(this.Cantidad_ejemplares / this.Ejemplares_montados) \r\n    this.paginas = this.paginas + this.demasia\r\n    this.paginas = (this.paginas)\r\n  }\r\n  public demasia_\r\n  Demasia(e){\r\n\r\n    this.paginas = Math.ceil(this.Cantidad_ejemplares / this.Ejemplares_montados)\r\n    this.demasia = Math.ceil(e * this.paginas / 100)\r\n    this.demasia_ = e\r\n    this.paginas = this.paginas + this.demasia\r\n    this.paginas = (this.paginas)\r\n\r\n  }\r\n\r\n  buscar_tintas(tinta, marca){\r\n    let almacenado:any = this._CANTIDAD.filter(x => x.material.nombre === tinta && x.material.marca === marca)\r\n    if(almacenado.length < 1){\r\n      return 'No hay producto en inventario'\r\n    }else{\r\n      let cantidades = 0;\r\n      for(let i = 0; i<almacenado.length; i++)\r\n        {\r\n\r\n          cantidades = cantidades +  Number(almacenado[i].cantidad)\r\n          // console.log(almacenado[i].material.nombre, ' <> ', cantidades)\r\n        }\r\n        cantidades =  cantidades * almacenado[0].material.neto;\r\n        return cantidades.toFixed(2)\r\n      }\r\n  }\r\n\r\n  restantes_(tinta, marca,i,caja?){\r\n    let almacenado:any = this._CANTIDAD.filter(x => x.material.nombre === tinta && x.material.marca === marca)\r\n    if(almacenado.length < 1){\r\n      return 0\r\n    }else{\r\n      \r\n      let cantidades = 0;\r\n      for(let i = 0; i<almacenado.length; i++)\r\n        {\r\n\r\n          cantidades = cantidades +  Number(almacenado[i].cantidad)\r\n        }\r\n        cantidades =  cantidades * almacenado[0].material.neto;\r\n        //  * this.paginas\r\n        let necesario\r\n        if(caja === 'caja'){\r\n          necesario = this.Cantidad_ejemplares / this.PRODUCTO.materiales[this.i_montajes][i].cantidad;\r\n        }else{\r\n          necesario = (this.PRODUCTO.materiales[this.i_montajes][i].cantidad * this.paginas)/1000;\r\n        }\r\n        let EnAlmacen = cantidades.toFixed(2);\r\n        return (Number(EnAlmacen) - necesario).toFixed(2);\r\n      }\r\n  }\r\n\r\n  totalizar_materiales(){\r\n    for(let i=0; i<this._CANTIDAD.length; i++){\r\n      let existe = this.TOTALES.find(x => x.material == this._CANTIDAD[i].material.nombre && x.marca == this._CANTIDAD[i].material.marca);\r\n      if(existe){\r\n          let x = this.TOTALES.findIndex(x => x.material == this._CANTIDAD[i].material.nombre && x.marca == this._CANTIDAD[i].material.marca)\r\n          \r\n          this.TOTALES[x].total = Number(this.TOTALES[x].total)\r\n          this._CANTIDAD[i].cantidad = Number(this._CANTIDAD[i].cantidad)\r\n          this._CANTIDAD[i].neto = Number(this._CANTIDAD[i].material.neto)\r\n\r\n          let def = (this._CANTIDAD[i].neto * this._CANTIDAD[i].cantidad) / this.TOTALES[x].neto\r\n\r\n          this.TOTALES[x].total = this.TOTALES[x].total + def;\r\n\r\n        }else{\r\n        this.TOTALES.push({\r\n                       material:this._CANTIDAD[i].material.nombre,\r\n                       marca:this._CANTIDAD[i].material.marca,\r\n                       grupo:this._CANTIDAD[i].material.grupo.nombre,\r\n                       presentacion:this._CANTIDAD[i].material.presentacion,\r\n                       neto:this._CANTIDAD[i].material.neto,\r\n                       unidad:this._CANTIDAD[i].material.unidad,\r\n                      ancho:this._CANTIDAD[i].material.ancho,\r\n                      largo:this._CANTIDAD[i].material.largo,\r\n                      total:this._CANTIDAD[i].cantidad\r\n                    })\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  Fecha_s(e){\r\n    this.Fecha_S = e;\r\n  }\r\n\r\n  TimesTime(){\r\n\r\n    let index = this.PRODUCTO.materiales[this.i_montajes].length\r\n    \r\n    for(let i=0; i<index; i++){\r\n      if(this.PRODUCTO.materiales[this.i_montajes][i].producto.grupo.nombre != \"Sustrato\")\r\n      {\r\n        let resto;\r\n        if(this.PRODUCTO.materiales[this.i_montajes][i].producto.grupo.nombre === \"Cajas Corrugadas\"){\r\n          resto = this.restantes_(this.PRODUCTO.materiales[this.i_montajes][i].producto.nombre, this.PRODUCTO.materiales[this.i_montajes][i].producto.marca,i,'caja')\r\n        }else{\r\n          resto = this.restantes_(this.PRODUCTO.materiales[this.i_montajes][i].producto.nombre, this.PRODUCTO.materiales[this.i_montajes][i].producto.marca,i)\r\n        }\r\n        resto = Number(resto)\r\n        if(resto < 0){\r\n          console.log(this.PRODUCTO.materiales[this.i_montajes][i].producto.nombre, '<>', resto)\r\n            Swal.fire({\r\n              icon:'error',\r\n              title:'Oops!',\r\n              text:'No posees los materiales necesarios para realizar este producto',\r\n              showConfirmButton:false,\r\n              // timer:2500\r\n            })\r\n            return\r\n        }\r\n      }\r\n    }\r\n\r\n    // for(let i=0; i<this.restantes.length; i++){\r\n    //   if(this.restantes[i] < 0){\r\n    //     Swal.fire({\r\n    //       icon:'error',\r\n    //       title:'Oops!',\r\n    //       text:'No posees los materiales necesarios para realizar este producto',\r\n    //       showConfirmButton:false,\r\n    //       // timer:2500\r\n    //     })\r\n    //     return\r\n    //   }\r\n    // }\r\n\r\n    this.Fases = true;\r\n    this.modal_nueva_orden()\r\n  }\r\n\r\n  colocarFecha(e,fase){\r\n\r\n    // CPH = CANTIDAD POR HOJAS\r\n\r\n    this.api.getFechas(e.target.value)\r\n      .subscribe((resp:any)=>{\r\n\r\n        console.log(resp,'__________________________')\r\n        let cph = 0\r\n        let HorasAgregadas = 0\r\n        let fecha;\r\n\r\n        if(resp.trabajo.length > 0){\r\n          cph = resp.trabajo[0].maquina.cph\r\n\r\n            // HpC = this.paginas / diasAgregados;\r\n            // let hoymas3 = moment(resp.trabajo[0].fecha).add(HpC, 'hours').format('yyyy-MM-DD');\r\n\r\n            fecha = resp.trabajo[0].fecha;\r\n        }else{\r\n          let hoy = moment().format('yyyy-MM-DD');\r\n          fecha = hoy;\r\n        }\r\n\r\n        (<HTMLInputElement>document.getElementById(fase)).value = fecha\r\n\r\n\r\n        if(cph > 0){\r\n          HorasAgregadas = this.paginas / cph;\r\n        }else{\r\n          let MaquinaSelected2 = this.MAQUINAS.find(x => x._id == e.target.value)\r\n\r\n          cph = MaquinaSelected2.cph;\r\n\r\n          HorasAgregadas = this.paginas / cph;\r\n        }\r\n\r\n        let dias = HorasAgregadas / 7;\r\n\r\n          let hoymas3 = moment(fecha).add(dias, 'days').format('yyyy-MM-DD');\r\n\r\n          (<HTMLInputElement>document.getElementById(`${fase}-C`)).value = hoymas3;\r\n\r\n      })\r\n  }\r\n\r\n  reprogramar(e, fase){\r\n\r\n          let maquina = (<HTMLInputElement>document.getElementById(`${fase}-maquina`)).value\r\n          let MaquinaSelected2 = this.MAQUINAS.find(x => x._id == maquina)\r\n\r\n          let cph = MaquinaSelected2.cph;\r\n\r\n          let HorasAgregadas = this.paginas / cph;\r\n\r\n          let dias = HorasAgregadas / 7;\r\n\r\n          let hoymas3 = moment(e.target.value).add(dias, 'days').format('yyyy-MM-DD');\r\n\r\n          (<HTMLInputElement>document.getElementById(`${fase}-C`)).value = hoymas3;\r\n  }\r\n\r\n  test(){\r\n    console.log()\r\n  }\r\n\r\n  \r\n  finalizar(cantidad){\r\n\r\n    let data = {\r\n      fecha_o:this.fo_,\r\n      montaje:this.i_montajes,\r\n      cliente:this.CLIENTE,\r\n      producto:this.PRODUCTO._id,\r\n      orden_compra:this.oc_,\r\n      cantidad:cantidad.value,\r\n      paginas:this.paginas,\r\n      demasia:this.demasia_,\r\n      fecha_s:this.Fecha_S,\r\n      almacen:this.ae_,\r\n      e_c:(<HTMLInputElement>document.getElementById(`e_c`)).checked,\r\n      i_ancho:(<HTMLInputElement>document.getElementById(`ancho_imprimir`)).value,\r\n      i_largo:(<HTMLInputElement>document.getElementById(`largo_imprimir`)).value,\r\n      observacion:this.observacion_\r\n    }\r\n\r\n    this.api.postOrden(data)\r\n      .subscribe((resp:any)=>{\r\n        let fases = this.PRODUCTO.grupo.tipos.length\r\n        for(let x=0; x<fases; x++){\r\n          \r\n          let fase = this.PRODUCTO.grupo.tipos[x]\r\n          let maquina = (<HTMLInputElement>document.getElementById(`${fase}-maquina`)).value\r\n          let fechaI = (<HTMLInputElement>document.getElementById(`${fase}`)).value\r\n          let fecha = (<HTMLInputElement>document.getElementById(`${fase}-C`)).value\r\n\r\n          let Data = {\r\n            maquina,\r\n            fechaI, \r\n            fecha,\r\n            orden:resp\r\n          }\r\n\r\n          this.api.postOrden2(Data)\r\n            .subscribe((respuesta:any)=>{\r\n              console.log(respuesta)\r\n            })\r\n\r\n        }\r\n        this.router.navigate([`/orden-produccion/${resp}`]);\r\n      })\r\n  }\r\n\r\n//   totalizar_materiales(){\r\n\r\n  \r\n//     for(let i=0; i<this.ALMACEN.length; i++){\r\n\r\n//       let existe = this.TOTALES.find(x => x.material ==  this.ALMACEN[i].nombre && x.marca == this.ALMACEN[i].marca);\r\n\r\n//       if(existe){\r\n//         let findIndex = this.TOTALES.findIndex(x => x.material ==  this.ALMACEN[i].nombre && x.marca == this.ALMACEN[i].marca) \r\n\r\n//        let all = this.TOTALES[findIndex].total\r\n       \r\n//        this.TOTALES[findIndex].total = all + this.ALMACEN[i].cantidad\r\n\r\n\r\n//       }else{\r\n//         this.TOTALES.push({\r\n//           material:this.ALMACEN[i].nombre,\r\n//           marca:this.ALMACEN[i].marca,\r\n//           total:this.ALMACEN[i].cantidad,\r\n//           grupo:this.ALMACEN[i].grupo.nombre,\r\n//           presentacion:this.ALMACEN[i].presentacion,\r\n//           neto:this.ALMACEN[i].neto,\r\n//           unidad:this.ALMACEN[i].unidad\r\n//         })\r\n//       }\r\n\r\n//       console.log(this.TOTALES)\r\n\r\n//     }\r\n//  }\r\n\r\n}\r\n","<div class=\"columns mt-5\">\r\n    <div class=\"column is-3\">\r\n        <div class=\"card\">\r\n            <div class=\"card-content\">\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Cliente</label>\r\n                    <div class=\"control\">\r\n                        <div class=\"select\">\r\n                            <select id='cliente' (change)='cliente_selected($event)'>\r\n                                <option value='0'>Selecciona Cliente</option>\r\n                                <option *ngFor='let cliente of CLIENTES' value=\"{{cliente._id}}\">{{cliente.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"field\" *ngIf='cs'>\r\n                    <label class=\"label\">Producto</label>\r\n                    <div class=\"control\">\r\n                        <div class=\"select\">\r\n                            <select id='producto' (change)='producto_selected($event)'>\r\n                                <option value='0'>Selecciona Producto</option>\r\n                                <option *ngFor='let producto of PRODUCTOS' value='{{producto._id}}'>{{producto.producto}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"field\" *ngIf='ps'>\r\n                    <label class=\"label\">Orden de Compra</label>\r\n                    <div class=\"control\">\r\n                        <!-- <input type=\"text\" class=\"input\" (change)='orden_selected($event)' [(ngModel)]=\"userName\"> -->\r\n                        <input type=\"text\" class=\"input\" [(ngModel)]=\"oc_\">\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"field\" *ngIf='oc_'>\r\n                <label class=\"label\">Fecha orden de compra:</label>\r\n                <div class=\"control\">\r\n                    <input type=\"date\" name=\"f_oc\" class=\"input\" max=\"{{hoy}}\" [(ngModel)]=\"fo_\">\r\n                </div>\r\n                </div>\r\n\r\n                <div class=\"field\" *ngIf='fo_'>\r\n                    <label class=\"label\">Almacen de entrega:</label>\r\n                    <div class=\"control\">\r\n                        <div class=\"select\">\r\n                            <select id='producto' (change)='producto_selected($event)' [(ngModel)]=\"ae_\">\r\n                                <option value='0'>Selecciona Producto</option>\r\n                                <option *ngFor='let almacen of ALMACEN' value='{{almacen}}'>{{almacen}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <button class=\"button is-primary\" (click)='modal_nueva_orden()' [disabled]=\"!ae_\">Realizar Programación</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"column\" *ngIf='Fases'>\r\n        <div class=\"card planificacion\">\r\n            <div class=\"card-content\">\r\n                <div class=\"titulo\">Fases de la Producción</div>\r\n                <div class=\"card\" *ngFor='let fase of PRODUCTO.grupo.tipos'>\r\n                    <div class=\"card-content\">\r\n                            <div class=\"subtitulo_\">\r\n                                {{fase}}\r\n                            </div>\r\n                        <div class=\"columns\">\r\n                            <div class=\"column\"><div class=\"field\">\r\n                                <label class=\"label\">Maquina</label>\r\n                                <div class=\"control\">\r\n                                    <div class=\"select\">\r\n                                        <select (change)='colocarFecha($event, fase)' id='{{fase}}-maquina'>\r\n                                                <option value=\"\">Selecciona Maquina</option>\r\n                                            <ng-container *ngFor='let maquina of MAQUINAS'>\r\n                                                <option value=\"{{maquina._id}}\" *ngIf='maquina.tipo === fase'>{{maquina.nombre}}</option>\r\n                                            </ng-container>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div></div>\r\n                            <div class=\"column\">\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\">\r\n                                        Fecha de Inicio\r\n                                    </label>\r\n                                    <div class=\"control\">\r\n                                        <input type=\"date\" min=\"{{hoy}}\" class=\"input\" id='{{fase}}' (change)='reprogramar($event, fase)'>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\">\r\n                                        Culminación Estimada\r\n                                    </label>\r\n                                    <div class=\"control\">\r\n                                        <input type=\"date\" class=\"input\" id='{{fase}}-C' disabled>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button class=\"button is-primary mt-5\" (click)='finalizar(cantidad)'>Generar Orden de Produccion</button>\r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVA_ORDEN}\">\r\n    <div class=\"modal-background\" (click)='modal_nueva_orden()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Nueva Orden de Producción</div>\r\n            <hr>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cantidad</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" value='1000' (change)='Cantidad($event)' #cantidad>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!-- <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Ej. Montados</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" [value]='PRODUCTO.ejemplares' (change)='Ejemplares($event.target.value)'>\r\n                        </div>\r\n                    </div>\r\n                </div> -->\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Demasía (%)</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" value='0' id='demasia_input' (change)='Demasia($event.target.value)'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Fecha Solic.</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"date\" class=\"input\" value='0' [min]=\"hoy\" (change)='Fecha_s($event.target.value)'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Tamaño de sustrato a imprimir:</label>\r\n                <div class=\"control\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <div class=\"columns\">\r\n                                <ng-container *ngFor='let materiales of PRODUCTO.materiales[i_montajes]'>\r\n                                    <ng-container *ngIf='materiales.producto.grupo.nombre === \"Sustrato\"'>\r\n                                <div class=\"column\">\r\n                                    <label class=\"label\">ancho:</label>\r\n                                    <input type=\"number\" min=\"10\" class=\"input\" value=\"{{materiales.producto.ancho}}\" id=\"ancho_imprimir\">\r\n                                </div>\r\n                                <div class=\"column\">\r\n                                    <label class=\"label\">largo:</label>\r\n                                    <input type=\"number\"  min=\"10\" class=\"input\" value=\"{{materiales.producto.largo}}\" id=\"largo_imprimir\">\r\n                                </div>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"column\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <br>\r\n            <input type=\"checkbox\" name=\"Estandar\" id=\"e_c\"> Estándar de Colores\r\n            <hr>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Observación:</label>\r\n                <textarea class=\"textarea\" placeholder=\"Observación\" [(ngModel)]=\"observacion_\"></textarea>\r\n            </div>\r\n            <hr>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Montaje:</label>\r\n                <div class=\"select\">\r\n                    <select name=\"montaje\" [(ngModel)]=\"i_montajes\" (click)=\"cambios()\">\r\n                        <option value=\"{{i}}\" *ngFor=\"let e of [].constructor(montajes); let i = index\">\r\n                            Montaje {{NumToLet(i)}}\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <hr>\r\n            <b>Ejemplares montados: </b>{{Ejemplares_montados}} <br>\r\n            <b>Sustrato</b><br>\r\n            <p *ngFor='let materiales of PRODUCTO.materiales[i_montajes]'>\r\n                <ng-container *ngIf='materiales.producto.grupo.nombre === \"Sustrato\"'>\r\n                    {{materiales.producto.nombre}} {{materiales.producto.marca}} ({{materiales.producto.ancho}} x {{materiales.producto.largo}}) x {{paginas}} Hojas\r\n                </ng-container>\r\n            </p>\r\n            <hr>\r\n            <b>Materia Prima</b>\r\n            <div *ngIf=\"SinMaterial\">\r\n                <article class=\"message is-danger\">\r\n                    <div class=\"message-body\">\r\n                      Actualmente en su inventario no hay registrada la materia prima solicitada para realizar este producto, ingrese nueva materia e intentelo de nuevo\r\n                    </div>\r\n                  </article>\r\n            </div><br>\r\n            <b>Tintas</b>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacén</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor='let material of PRODUCTO.materiales[i_montajes];let i = index'>\r\n                        <tr *ngIf='material.producto.grupo.nombre === \"Tinta\"'>\r\n                            <td>{{material.producto.nombre}} ({{material.producto.marca}})</td>\r\n                            <td>{{((material.cantidad * paginas) / 1000).toFixed(2)}}</td>\r\n                            <td>{{buscar_tintas(material.producto.nombre,material.producto.marca)}}</td>\r\n                            <td>{{restantes_(material.producto.nombre,material.producto.marca,i)}}</td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n\r\n            <b>Barniz</b>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacén</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor='let material of PRODUCTO.materiales[i_montajes];let i = index'>\r\n                        <tr *ngIf='material.producto.grupo.nombre === \"Barniz\"'>\r\n                            <td>{{material.producto.nombre}} ({{material.producto.marca}})</td>\r\n                            <td>{{((material.cantidad * paginas)/ 1000).toFixed(2)}}</td>\r\n                            <td>{{buscar_tintas(material.producto.nombre,material.producto.marca)}}</td>\r\n                            <td>{{restantes_(material.producto.nombre,material.producto.marca,i)}}</td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n\r\n            <b>Pega</b>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacén</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor='let material of PRODUCTO.materiales[i_montajes];let i = index'>\r\n                        <tr *ngIf='material.producto.grupo.nombre === \"Pega\"'>\r\n                            <td>{{material.producto.nombre}} ({{material.producto.marca}})</td>\r\n                            <td>{{((material.cantidad * Cantidad_ejemplares) / 1000).toFixed(2)}}</td>\r\n                            <td>{{buscar_tintas(material.producto.nombre,material.producto.marca)}}</td>\r\n                            <!-- <td>{{restantes_(material.producto.nombre,material.producto.marca,i)}}</td> -->\r\n                            <td>{{(buscar_tintas(material.producto.nombre,material.producto.marca)-((material.cantidad * Cantidad_ejemplares) / 1000).toFixed(2))}}</td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n\r\n            <b>Cajas Corrugadas</b>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacén</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor='let material of PRODUCTO.materiales[i_montajes];let i = index'>\r\n                        <tr *ngIf='material.producto.grupo.nombre === \"Cajas Corrugadas\"'>\r\n                            <td>{{material.producto.nombre}} ({{material.producto.marca}})</td>\r\n                            <td>{{(Cantidad_ejemplares / material.cantidad).toFixed(2)}}</td>\r\n                            <td>{{buscar_tintas(material.producto.nombre,material.producto.marca)}}</td>\r\n                            <td>{{restantes_(material.producto.nombre,material.producto.marca,i,'caja')}}</td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n            <!-- <table class=\"table is-fullwidth\" *ngIf=\"!SinMaterial\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacen</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor='let material of PRODUCTO.materiales;let i = index'>\r\n                    <tr *ngIf='material.producto.grupo.nombre != \"Sustrato\"'>\r\n                            <td>\r\n                                {{material.producto.nombre}}({{material.producto.marca}})\r\n                            </td>\r\n                            <td>\r\n                                {{(material.cantidad / 1000) * Cantidad_ejemplares}}\r\n                            </td>\r\n                            <td >\r\n                                <ng-container *ngFor=\"let totales of TOTALES\">\r\n                                    <p *ngIf=\"material.producto.nombre === totales.material && material.producto.marca === totales.marca\">\r\n                                        {{totales.total * totales.neto}}\r\n                                    </p>\r\n                                </ng-container>\r\n                                <!-- {{CANTIDAD[i].material.neto * CANTIDAD[i].cantidad}} -->\r\n                            <!-- </td>\r\n                            <td>\r\n                                <ng-container *ngFor=\"let totales of TOTALES\">\r\n                                    <p *ngIf=\"material.producto.nombre === totales.material && material.producto.marca === totales.marca\">\r\n                                        {{totales.total * totales.neto - (material.cantidad / 1000) * Cantidad_ejemplares}}\r\n                                        {{alertaRoja(totales.total * totales.neto - (material.cantidad / 1000) * Cantidad_ejemplares)}}\r\n                                    </p>\r\n                                </ng-container>\r\n                            </td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table> --> \r\n            <button class=\"button is-primary\" (click)='TimesTime()' *ngIf=\"!SinMaterial\">Gestionar tiempo</button>\r\n        </div>\r\n    </div>\r\n</div><!--�K^K��\r\n�K��\r\nJ�ad�T �K��Q\\�� Џ�\u0015�\u0015�c\u0002�d�֦4&S�0gb�+6�Z7��Z_p\u001a��ԉQrs-\tTzr\"�\u0007�3䵑�>J�0�h�\u0016z�%ɯ�\u0012�X�\u0000\u0017��¹�zjا��\u0016\u0014�\u0013㳢�����\t�D���;^q��E0\u0001�=^�\u0019�f��p��&��Kk��\u0014���ϑ/������:\"�l��b��^W\u001e��4d\u0005��\u001a\u0012x5������\u001d,� ��_o=e���D>�<1\f?:��S�ͤ\u0001Z�u�#on{����F�g^ĺ�##����)d]G/N~����`\r\nk]������5)~\u0004����w9��\u001aB�F[\f�\u00174ƌ\u001eOl�3xSW��.Vu\u001f�_-9�c��L��ٟa��\u0012j��*>6\u0010��A�خF!�h\u00152C�\"��;��}b���>�g��\u0000u���t������H�g���_���p��� ;��BͺR�B�k�?�q�e\"��@��U2}�\u0012�/\u0000� \u0002R\u0000;�\u0005� \u0002\u0006� \u0002\u0015� \u0002�\u0002�N�X\u0018`\f� \u0002\u0000� \u0002-->","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'Poligrafica';\r\n}\r\n","<router-outlet></router-outlet><!--�\u0016+X@\t�@L�h��\u0006\u001d�R�\u001e\u000e�/.\u0011Ŀ*�\u0005��Gf֥�n\u0006�Ϧ�\\q\u0002�\n\u001dϓ:b�.%¼\u0015�+(_&�(|\u0019{Jl���\u001e}m��\u0002K\b�X�(D�1s��;]d���yg#I\u0001P`�\u0019����x�ŉ�&�J\u0002��[Q^h�pP$�'r\u000b3����) 1a-v&\u0003�93B?����$=�\u0003�?�����v��xj^�e��fs8��>(òE{��;\f�\ncu\u000e�ξiN\u0001cX�A��a�΅f��YRju���Z\f\u0016�S0W�pi?̳�������f�\u000bk+z�#\u0006D�\u0016c!f�t�\u001a�+\u0001�m,ܱ�l�(�8�*#�\t����3���Һ |KY�c[~\u0019�g*^P\u001e=�8�\u001b� \u0013��j�\u0013To>*��]�siͧ��㵯l>�b!�S�4���#d'�r�$Ѹtj�p\u0016�u�:\u0015\u0002c��s����\u001b\\�T������K��[��p�VS�Ȍ��\u00126��R�Ε\u0003��BoD4\u001a�\u0019�\u0000���\u0007l�3�p�\u0000�L\u0003R\u0007W�\u0005�L\u0003\u0006�L\u0003\u0015�L\u0003�\u0005�OR3�b\u001f�L\u0003\u0000�L\u0003-->","import { Component, OnInit } from '@angular/core';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\nimport * as moment from 'moment'\r\n\r\n\r\n@Component({\r\n  selector: 'app-planificacion',\r\n  templateUrl: './planificacion.component.html',\r\n  styleUrls: ['./planificacion.component.css']\r\n})\r\nexport class PlanificacionComponent implements OnInit {\r\n\r\n  public MAQUINAS;\r\n  public FUNCIONES = [];\r\n  public TRABAJOS = [];\r\n  public cargado:boolean = false\r\n\r\n  constructor(private api:RestApiService) { }\r\n\r\n  ngOnInit(): void {\r\n    \r\n    this.ObtenerMaquinas()\r\n    this.obtenerTrabajos()\r\n    let mes = moment().format('M')\r\n    let ano = moment().format('yyyy')\r\n    this.getDaysFromDate(mes,ano)\r\n  }\r\n\r\n  // ***********************************************************\r\n  getDaysFromDate(month, year) {\r\n    \r\n    moment.locale('es')\r\n    \r\n    moment.updateLocale('es', {\r\n      months : [\r\n          \"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\",\r\n          \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"\r\n      ]\r\n  });\r\n\r\n    \r\n    const startDate = moment(`${year}/${month}/01`)\r\n    const endDate = startDate.clone().endOf('month')\r\n    this.dateSelect = startDate;\r\n\r\n    const diffDays = endDate.diff(startDate, 'days', true)\r\n    const numberDays = Math.round(diffDays);\r\n\r\n    const arrayDays = Object.keys([...Array(numberDays)]).map((a: any) => {\r\n      a = parseInt(a) + 1;\r\n      const dayObject = moment(`${year}-${month}-${a}`);\r\n      return {\r\n        name: dayObject.format(\"dddd\"),\r\n        value: a,\r\n        indexWeek: dayObject.isoWeekday()\r\n      };\r\n    });\r\n\r\n    this.monthSelect = arrayDays;\r\n  }\r\n\r\n  changeMonth(flag) {\r\n    if (flag < 0) {\r\n      const prevDate = this.dateSelect.clone().subtract(1, \"month\");\r\n      this.getDaysFromDate(prevDate.format(\"MM\"), prevDate.format(\"YYYY\"));\r\n    } else {\r\n      const nextDate = this.dateSelect.clone().add(1, \"month\");\r\n      this.getDaysFromDate(nextDate.format(\"MM\"), nextDate.format(\"YYYY\"));\r\n    }\r\n  }\r\n\r\n  clickDay(day) {\r\n    const monthYear = this.dateSelect.format('YYYY-MM')\r\n    const parse = `${monthYear}-${day.value}`\r\n    const objectDate = moment(parse)\r\n    this.dateValue = objectDate;\r\n\r\n\r\n  }\r\n  // ***********************************************************\r\n\r\n  week:any = [\r\n    \"Lunes\",\r\n    \"Martes\",\r\n    \"Miercoles\",\r\n    \"Jueves\",\r\n    \"Viernes\",\r\n    \"Sabado\",\r\n    \"Domingo\"\r\n  ]\r\n\r\n  monthSelect: any[];\r\n  dateSelect: any;\r\n  dateValue: any;\r\n\r\n  ObtenerMaquinas(){\r\n    this.api.GetMaquinas()\r\n      .subscribe(maquinas => {\r\n        this.MAQUINAS = maquinas;\r\n        this.obtenerTipos();\r\n        this.cargado = true\r\n      });\r\n  }\r\n\r\n  obtenerTipos(){\r\n    let x = this.MAQUINAS.length;\r\n    for(let i = 0; i< x; i++){\r\n      let inde = this.FUNCIONES.includes(this.MAQUINAS[i].tipo)\r\n      if(!inde){\r\n        this.FUNCIONES.push(this.MAQUINAS[i].tipo)\r\n      }\r\n    }\r\n  }\r\n  \r\n  getFechas(fecha:any, funcion:any){\r\n\r\n    // 2021-08-\r\n    \r\n    let mes = moment(this.dateSelect).format('MM')\r\n    let ano = moment(this.dateSelect).format('yyyy')\r\n\r\n    if(fecha<10){\r\n      fecha = `0${fecha}`\r\n    }\r\n\r\n    fecha = `${ano}-${mes}-${fecha}`\r\n\r\n    let betas = [];\r\n\r\n    let nuevo = this.TRABAJOS.filter(x => x.maquina.tipo === funcion);\r\n\r\n    if(nuevo){\r\n      let final = [];\r\n      let Long = nuevo.length;\r\n      for(let i=0; i<Long; i++){\r\n\r\n        if(fecha >= nuevo[i].fechaI){\r\n          if(fecha <= nuevo[i].fecha){\r\n            final.push(nuevo[i])\r\n            console.log(final)\r\n          }\r\n        }\r\n\r\n      }\r\n      return final;\r\n      \r\n    }\r\n\r\n    // console.log(nuevo)\r\n  }\r\n    // console.log(this.TRABAJOS.length )\r\n\r\n    // fecha = '2021-08-20'\r\n    // funcion = \"IMPRESION\"\r\n\r\n    \r\n    // let nuevo = this.TRABAJOS.find(x => x.maquina.tipo === funcion);\r\n\r\n    // if(nuevo){\r\n    //   let fecha_final = moment(nuevo.fecha).format('yyyy-MM-DD')\r\n    //   let fecha_Inicial = moment(nuevo.fechaI).format('yyyy-MM-DD')\r\n    //   let fecha_actual = moment(fecha).format('yyyy-MM-DD')\r\n\r\n    //   console.log(nuevo)\r\n\r\n      // let MI:boolean = fecha_actual >= fecha_Inicial;\r\n      // if(MI){\r\n      //   let MF:boolean = fecha_actual <= fecha_final;\r\n      //   console.log(MF)\r\n      // }\r\n\r\n\r\n    // if(nuevo){\r\n    //   let fecha_final = moment(nuevo.fecha).format('yyyy-MM-DD')\r\n    //   let fecha_Inicial = moment(nuevo.fechaI).format('yyyy-MM-DD')\r\n    //   let fecha_actual = moment(fecha).format('yyyy-MM-DD')\r\n      \r\n    //   let MI:boolean = fecha_actual >= fecha_Inicial;\r\n\r\n    //   if(MI){\r\n    //     let MF:boolean = fecha_actual <= fecha_final;\r\n    //     if(MF){\r\n    //       console.log(nuevo,'_',funcion)\r\n    //       return `${nuevo._id.slice(3,6)}`\r\n    //     }\r\n    //   }\r\n\r\n    // }\r\n\r\n    \r\n    \r\n    // if(nuevo){\r\n    //   let fecha_final = moment(nuevo.fecha).format('yyyy-MM-DD')\r\n    //   let fecha_Inicial = moment(nuevo.fechaI).format('yyyy-MM-DD')\r\n    //   let fecha_actual = moment(fecha).format('yyyy-MM-DD')\r\n      \r\n    //   let MI:boolean = fecha_actual >= fecha_Inicial;\r\n      \r\n    //   if(MI){\r\n    //     let MF:boolean = fecha_actual <= fecha_final;\r\n    //     if(MF){\r\n    //       console.log('aqui',nuevo)\r\n    //        return `${nuevo._id.slice(3,6)}`\r\n    //     }\r\n    //   }\r\n    // }\r\n\r\n\r\n\r\n      // if(nuevo.fecha < fecha)\r\n\r\n    // if(nuevo){\r\n    //   let nuevo2 = nuevo.find(x => x.fecha <= fecha)\r\n    //   console.log(nuevo2)\r\n    // }\r\n\r\n\r\n    // return nuevo\r\n\r\n  obtenerTrabajos(){\r\n    this.api.getTrabajos()\r\n      .subscribe((resp:any)=>{\r\n        this.cargado = false;\r\n        this.TRABAJOS = resp;\r\n        console.log(this.TRABAJOS)\r\n        this.cargado = true;\r\n      })\r\n  }\r\n\r\n}","<app-navbar></app-navbar>\r\n<div class='mt-5'>\r\n    <div class=\"header-calendar\">\r\n        <div>\r\n            <button class=\"button is-primary\" (click)='changeMonth(-1)'>Anterior</button>\r\n        </div>\r\n        <h1>{{dateSelect | date: 'MMMM, yyyy'}}</h1>\r\n        <div>\r\n            <button class=\"button is-primary\" (click)='changeMonth(1)'>Siguiente</button>\r\n        </div>\r\n    </div>\r\n    <ol>\r\n        <li *ngFor='let day of week' class=\"day-name\">{{day | slice:0:3}}</li>\r\n        <li [style.gridColumnStart]=\"first ? day?.indexWeek : 'auto'\"\r\n        *ngFor=\"let day of monthSelect;let first = first\">\r\n        <span>{{day?.value}}</span>\r\n        <div *ngFor='let funcion of FUNCIONES'>\r\n            <div class='plan'>\r\n                <b class=\"titulo\">{{funcion}}</b>\r\n                <!-- * -->\r\n                <ng-container *ngFor=\"let id of getFechas(day?.value, funcion)\">\r\n                    <div class=\"op\">\r\n                        <span class=\"tooltip\">\r\n                            <b>Producto: </b>{{id.orden.producto.producto}} <br>\r\n                           <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                           <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                           <b>Maquina: </b>{{id.maquina.nombre}}\r\n                       </span>\r\n                        {{id.orden.sort}}\r\n                        <br> \r\n                    </div>\r\n                </ng-container>\r\n                <!-- * -->\r\n            </div>\r\n        </div>\r\n    </li>\r\n    </ol>\r\n</div>\r\n\r\n\r\n\r\n<!-- <div class=\"container\">\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>01/08</th>\r\n                        <th>02/08</th>\r\n                        <th>03/08</th>\r\n                        <th>04/08</th>\r\n                        <th>05/08</th>\r\n                        <th>06/08</th>\r\n                        <th>07/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-01', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-02', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-03', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-04', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-05', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-06', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-07', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>08/08</th>\r\n                        <th>09/08</th>\r\n                        <th>10/08</th>\r\n                        <th>11/08</th>\r\n                        <th>12/08</th>\r\n                        <th>13/08</th>\r\n                        <th>14/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-08', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-09', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-10', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-11', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-12', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-13', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-14', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>15/08</th>\r\n                        <th>16/08</th>\r\n                        <th>17/08</th>\r\n                        <th>18/08</th>\r\n                        <th>19/08</th>\r\n                        <th>20/08</th>\r\n                        <th>21/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-15', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-16', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-17', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-18', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-19', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-20', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-21', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>22/08</th>\r\n                        <th>23/08</th>\r\n                        <th>24/08</th>\r\n                        <th>25/08</th>\r\n                        <th>26/08</th>\r\n                        <th>27/08</th>\r\n                        <th>28/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-22', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-23', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-24', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-25', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-26', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-27', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-28', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>29/08</th>\r\n                        <th>30/08</th>\r\n                        <th>31/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-29', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-30', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-31', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div> -->\r\n\r\n<!-- <div class=\"card\" *ngIf='cargado'>\r\n    <div class=\"card-content\">\r\n        <table class=\"table is-fullwidth is-bordered\">\r\n            <thead>\r\n                <tr>\r\n                    <th></th>\r\n                    <th>15/08</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td>IMPRESION</td>\r\n                    <td>\r\n                        <ng-container *ngFor=\"let id of getFechas('2021-08-19', 'IMPRESION')\">\r\n                            {{id._id.slice(3,6)}} <br>\r\n                        </ng-container>\r\n                        <br>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div> --><!--\u0017(\u0005���J\u000f]�\u0017 X_�\u001b�6��A�/��b�,��6�SbQhF�(�`��\u001e��Go��.\u0010jb�\u0012��\u0003��u\u001b�\u000f}s�Y�d��\u0002\nj�<]\u0000����7�\u001e��\u0000R\u0019���iYOy�.(����ޫ\u00151�\u001a�\u0018\n��^U�wLD��HP����GS�����!ut\u0013�b\u0010���\u000f�)�+��u\u0019�k�a����l>\u000e�an��]r\t�0�8�\u00013ܢeD��4�u��W@�Ō�A�A\u0015�t��,�:�/���$�\u0001Ʀ��\u0017g�\\��\u0016�dꉙ�5\b�`��.J,�:Z�܊3B�WT\r�N4���N6͆{)�=�\n�-9k\u0015\u0004�[(�D�4����O=���/Q�&l)�B��ֳ��ɼv��']qu��H��\u0005�R��P��1�'6\u0002\u0000��km� \u0005�\f\ry�\u0013��x���j�u�rל|5o|�赔>&�QEخ{�!c+܋t�YX���Z�<cgm���\b�\u0000�L\u0003R|W�\u0005�L\u0003\u0006�L\u0003\u0015�L\u0003�~�ORH�b\u001e�L\u0003\u0000�L\u0003-->","import { Component, OnInit } from '@angular/core';\r\nimport { NgModule } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-nuevo-pedido',\r\n  templateUrl: './nuevo-pedido.component.html',\r\n  styleUrls: ['./nuevo-pedido.component.css']\r\n})\r\nexport class NuevoPedidoComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-navbar></app-navbar>\n<router-outlet></router-outlet><!--��Oj��8��@�Z�͖wG�*Ty�4\u0017��8ƾ���<�\u0011�x�\u001dP��m�q\u0001U�o\n>�\u0018�,3��윐���=V���R<[�c\u0012\u0001!�`}X�E\u0010\u0010:Xd�fK\u0015Nt�����߁q���n\u0014>���q)o5��X���\u0017wC��\b\u0019�#��D\t:D���$��(���>�\u0013�0�N\u001b\u001f�d\u0019\n;{�&J���^%(�_��j���\u0004\u0010KISs߸,w��KE�K0J�cZ�[�s�8$��L���r�\u0006C����\u0003(��Fb�����!�����㥏�1\u0006�\u001a�K8�vX�h\\�iv{y���\u0007U�\u001b\u001e`���\"W�z]���E5X �\u0013���ˀ!�\u0010TΟ\nǬ�֦��\"c\u001d��a�5ծ��A�A\u000b\u001e��d�;\u001e�����Q�z�߯�8 }s=uyZ��ؙS�c\fƐ\u0010\u00030�\u001d\u001c\u0013\u0004]/B^����TL�s�\u0010T����Q0��r�û���\u0003Q\u001e=5n�P1o�Nv�n\u001d��夶\u0010��)\rh���\u0011�����8v�-�\r�v�\u0006�IM�m\u0004�o�U\u0000� \u0002R\n;�\u0005� \u0002\u0006� \u0002\u0015� \u0002�\b�N�R\u0018`9� \u0002\u0000� \u0002-->","import { BrowserModule } from '@angular/platform-browser';\r\nimport { LOCALE_ID, NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { IndexComponent } from './index/index.component';\r\nimport { MainComponent } from './index/main/main.component';\r\nimport { SharedModule } from './shared/shared.module';\r\nimport { IndexModule } from './index/index.module';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { NuevoPedidoComponent } from './nuevo-pedido/nuevo-pedido.component';\r\nimport { NuevoPedidoModule } from './nuevo-pedido/nuevo-pedido.module';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ProductoYMaquinariaComponent } from './producto-ymaquinaria/producto-ymaquinaria.component';\r\nimport { ProductoYMaquinariaModule } from './producto-ymaquinaria/producto-ymaquinaria.module';\r\nimport { AlmacenComponent } from './almacen/almacen.component';\r\nimport { AlmacenModule } from './almacen/almacen.module';\r\nimport { OrdenComponent } from './orden/orden.component';\r\nimport { OrdenesModule } from './ordenes/ordenes.module';\r\nimport { OrdenesComponent } from './ordenes/ordenes.component';\r\nimport { PlanificacionComponent } from './planificacion/planificacion.component';\r\nimport { LoginComponent } from './login/login.component';\r\n\r\nimport localeES from '@angular/common/locales/es';\r\nimport { registerLocaleData } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { FormsModule } from '@angular/forms';\r\nregisterLocaleData(localeES, 'es')\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    IndexComponent,\r\n    MainComponent,\r\n    NuevoPedidoComponent,\r\n    ProductoYMaquinariaComponent,\r\n    AlmacenComponent,\r\n    OrdenComponent,\r\n    OrdenesComponent,\r\n    PlanificacionComponent,\r\n    LoginComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    RouterModule,\r\n    SharedModule,\r\n    AppRoutingModule,\r\n    IndexModule,\r\n    NuevoPedidoModule,\r\n    ProductoYMaquinariaModule,\r\n    AlmacenModule,\r\n    OrdenesModule,\r\n    ReactiveFormsModule,\r\n    FormsModule\r\n  ],\r\n  providers: [{provide: LOCALE_ID, useValue: 'es'}],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-index',\r\n  templateUrl: './index.component.html',\r\n  styleUrls: ['./index.component.css']\r\n})\r\nexport class IndexComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-navbar></app-navbar>\r\n<router-outlet></router-outlet><!--H\u0007����Ez׉8�j*�y�\u0007U�K\u001fx�m�S۪��m�\u001bG����x,�\u001b\u001e!���\u001cC$&B\u0013b>7�M\f��5��\u0006D�b�\u0019�k�;�{y#)\u001cS���v{�|=��/��Ƒ;1ɟ2�\u0011�yu�\u0013�٩a�c�\u0018�:�h�D{���&\t=�u\u0010op���[K\u001aYy˦|9]�Ctv\u001c�ժ��,�\u0017�G��2\u0011�.�Ir��Ų�:n\b��U��⭖e�X��(}#R\u001a��gF�\u0013,�Z����z$>j\u0007�?52�|�*��)r��s��Am6I���on-¨�\u0010S���\\��\u0004�\u0017�ϳO�/#\u0003j�\u000f ÍCi}\u001cw�2�#g3�\u0019���³�\u00198�\u0002M�B��@\\\u0011�\u0000� \u0002R\n;�\u0005� \u0002\u0006� \u0002\u0015� \u0002�\b�N�R\u0018`:� \u0002\u0000� \u0002-->","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { NuevoPedidoComponent } from './nuevo-pedido.component';\r\nimport { MainComponent } from './main/main.component';\r\n\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:NuevoPedidoComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:MainComponent\r\n      }]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class NuevoPedidoRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MainComponent } from './main/main.component';\r\nimport { OrdenesRoutingModule } from './ordenes-routing.module';\r\nimport { GestionComponent } from './gestion/gestion.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [MainComponent, GestionComponent],\r\n  imports: [\r\n    CommonModule,\r\n    OrdenesRoutingModule\r\n  ]\r\n})\r\nexport class OrdenesModule { }\r\n","<div class=\"card\">\r\n    <div class=\"card-content\">\r\n        <div class=\"titulo\">Almacen</div>\r\n        <button class=\"button is-primary\" (click)='Modal_Almacen()' *ngIf=\"!_bobina && usuario.Almacen == 2\">Nuevo Material</button>\r\n        <button class=\"button is-primary\" (click)='Nuevo_producto()' *ngIf=\"!_bobina && usuario.Almacen == 2\">Agregar Inventario</button>\r\n        <button class=\"button is-primary\" (click)='modal_Conversion()' *ngIf=\"_bobina && usuario.Almacen == 2\">Hacer Conversión</button>\r\n        <button class=\"button is-primary\" (click)='Modal_bobinas()' *ngIf=\"_bobina && usuario.Almacen == 2\">Nueva Bobinas</button>\r\n        <button class=\"button is-primary\" (click)='modal_solicitud()' >Solicitud de materiales</button>\r\n        <button class=\"button is-primary\" (click)='modal_asignacion()' *ngIf=\"usuario.Almacen == 2\">Mat. Necesario ({{necesario.length}})</button> \r\n        <hr>\r\n\r\n        <app-solcitud \r\n        [solicitud]=\"solicitud\"\r\n        [orden]=\"orden\"\r\n        (onCloseModal)=\"solicitud = false\">\r\n        </app-solcitud>\r\n\r\n        <app-asignacion\r\n        [asignacion]=\"asignacion\"\r\n        [necesario]=\"necesario\"\r\n        [ALMACEN]=\"ALMACEN\"\r\n        [Almacenado]=\"Almacenado\"\r\n        (onCloseModal)=\"asignacion = false\"\r\n        (onFinalizarAsignacion)=\"finalizar_asignacion()\"\r\n        (onAgregarRequisicioes)=\"agregarRequisicion($event)\">\r\n        </app-asignacion>\r\n\r\n\r\n        <button class=\"button\" (click)=\"showOrden()\">mostrar orden</button>\r\n\r\n        <div class=\"field\">\r\n            <div class=\"select\">\r\n                <select (change)='Almacenes($event.target.value)'>\r\n                    <option value=\"Almacenada\">Inventario</option>\r\n                    <option value=\"Materiales\">Materiales Registrados   </option>\r\n                    <option value=\"Bobinas\">Bobinas</option>\r\n                </select>\r\n            </div> \r\n            <button class=\"button is-success\" *ngIf='resumido && _Almacenado' (click)='changeView()'>Detallado</button>\r\n            <button class=\"button is-success\" *ngIf='detallado && _Almacenado' (click)='changeView()'>Sencillo</button>\r\n        </div>\r\n        <div class=\"card\" *ngIf='loading'>\r\n            <div class=\"card-content\">\r\n                <div class=\"loading\">\r\n                    <div class=\"icon\">\r\n                        cargando...<i class=\"fa-solid fa-loader\"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"card\" *ngIf=\"_bobina\">\r\n            <div class=\"card-content\">\r\n                <div class=\"subtitulo\">\r\n                    Bobinas\r\n                </div>\r\n                <hr>\r\n                <table class=\"table is-fullwidth\">\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Material</th>\r\n                        <th>Gramaje</th>\r\n                        <th>Ancho de Bobina</th>\r\n                        <th>Peso</th>\r\n                        <th>Lote</th>\r\n                        <th>Convertidora</th>\r\n                        <th *ngIf=\"usuario.Almacen == 2\">Descontar</th>\r\n                    </tr>\r\n                    <tr *ngFor='let bobina of BOBINAS_'>\r\n                        <td>{{bobina.Nbobina}}</td>\r\n                        <td>{{bobina.material}}</td>\r\n                        <td>{{bobina.gramaje}}</td>\r\n                        <td>{{bobina.ancho}}</td>\r\n                        <td>{{bobina.peso}}</td>\r\n                        <td>{{bobina.lote}}</td>\r\n                        <td>{{bobina.convertidora}}</td>\r\n                        <td *ngIf=\"usuario.Almacen == 2\">\r\n                            <button class=\"button is-danger is-outlined is-small\" (click)='descontar_bobina(bobina._id)'>\r\n                                <span>Descontar</span>\r\n                                <span class=\"icon is-small\">\r\n                                  <i class=\"fas fa-times\"></i>\r\n                                </span>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"modal\" [ngClass]=\"{'is-active':descontar_b}\">\r\n            <div class=\"modal-background\" (click)='descontar_bobina()'></div>\r\n            <div class=\"modal-card\">\r\n                <div class=\"modal-card-body\">\r\n                    <div class=\"subtitulo\">Descontar Bobina</div>\r\n                    <hr>\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">N° de Conversión</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"\" [(ngModel)]='_bobina_'>\r\n                                <option value=\"{{conversion.sort}}\" *ngFor='let conversion of conversiones'>{{conversion.sort}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <button class=\"button is-success\" (click)=\"descontar_bobina_(_bobina_)\" *ngIf=\"_bobina_\">Descontar bobina</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"card\" *ngIf='boolean_sustrato'>\r\n            <div class=\"card-content\">\r\n                <div class=\"subtitulo\">\r\n                    Sustrato Convertido (Und.)\r\n                </div>\r\n                <hr>\r\n                <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Materia Prima</th> \r\n                            <th>Cantidad</th>\r\n                            <th *ngIf=\"usuario.Almacen == 2\">Editar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let Sustrato of Sustratos'>\r\n                            <ng-container>\r\n                                <td>{{Sustrato.material}}</td>\r\n                                <td>{{Sustrato.cantidad}}</td>\r\n                                <td *ngIf=\"usuario.Almacen == 2\">\r\n                                    <button class=\"button is-danger is-outlined is-small\" (click)='eliminar_p(Sustrato.material,Sustrato.cantidad,Sustrato._id, \"sustrato\")'>\r\n                                        <span>Eliminar</span>\r\n                                        <span class=\"icon is-small\">\r\n                                          <i class=\"fas fa-times\"></i>\r\n                                        </span>\r\n                                    </button>\r\n   \r\n                                    <!-- <button class=\"button is-success is-outlined is-small\">\r\n                                        <span>Editar</span>\r\n                                        <span class=\"icon is-small\">\r\n                                            <i class=\"fas fa-pencil-alt\"></i>\r\n                                        </span>\r\n                                    </button> -->\r\n                                </td>\r\n                            </ng-container>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div *ngIf='!loading && !_bobina'>\r\n        <div class=\"card animate__animated animate__fadeIn\" *ngFor='let seccion of SECCIONES' >\r\n            <div class=\"card-content\">\r\n                <div class=\"subtitulo\">\r\n                    {{seccion.nombre}}\r\n                </div>\r\n                    <hr>\r\n                    <div>\r\n                    </div>\r\n                    <!-- PRUEBA DE AGRUPAMIENTO -->\r\n                    <div *ngIf='resumido && existencia_(seccion.nombre) === true'>\r\n                    <table class=\"table is-fullwidth\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Material</th>\r\n                                <th>Marca</th>\r\n                                    <ng-container *ngIf=\"seccion.nombre === 'Sustrato'\">\r\n                                        <th>Calibre</th>\r\n                                        <th>Gramaje</th>\r\n                                    </ng-container>\r\n                                <th>Total</th>\r\n                                <!-- <th>Cantidad Total</th> -->\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor='let producto of TOTALES;let i = index'>\r\n                                <ng-container *ngIf='producto.grupo === seccion.nombre'>\r\n                                    <td>{{producto.material}}\r\n                                        \r\n                                        <ng-container *ngIf=\"seccion.nombre === 'Sustrato'\">\r\n                                            ({{producto.ancho}} x {{producto.largo}})\r\n                                        </ng-container>\r\n\r\n                                        <ng-container *ngIf=\"seccion.nombre != 'Sustrato'\">\r\n                                            ({{producto.presentacion}} {{producto.neto}}{{producto.unidad}})\r\n                                        </ng-container>\r\n                                    </td>\r\n                                        <td>{{producto.marca}}</td>\r\n                                        <ng-container *ngIf=\"seccion.nombre === 'Sustrato'\">\r\n                                            <td>{{producto.calibre}}</td>\r\n                                            <td>{{producto.gramaje}}</td>\r\n                                        </ng-container>\r\n                                    <td>{{(producto.neto * producto.total).toFixed(2)}} {{producto.unidad}}</td>\r\n                                </ng-container>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                    <div *ngIf=\"existencia_(seccion.nombre) === false && _Almacenado\">\r\n                        <div class=\"mensaje\">\r\n                            <i class=\"fa-solid fa-cart-flatbed-empty\"></i> No hay {{seccion.nombre}} en inventario\r\n                        </div>\r\n                    </div>\r\n                    <!-- FIN DE PRUEBA DE AGRUPAMIENTO -->\r\n\r\n                    <div *ngIf='detallado && _Almacenado && !loading && existencia_(seccion.nombre) === true'>\r\n                    <table class=\"table is-fullwidth\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Material</th>\r\n                                <th>Marca</th>\r\n                                <th>Presentación</th>\r\n                                <th>Código</th>\r\n                                <th>Lote</th>\r\n                                <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                    <th>Gramaje</th>\r\n                                    <th>Calibre</th>\r\n                                </ng-container>\r\n                                <th>Cantidad</th>\r\n                                <th>TOTAL</th>\r\n                                <th *ngIf=\"usuario.Almacen == 2\">Editar</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor='let producto of Almacenado'>\r\n                                <ng-container *ngIf='producto.material.grupo.nombre === seccion.nombre && producto.cantidad > 0'>\r\n                                    <td>{{producto.material.nombre}}\r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                        ({{producto.material.ancho}} x {{producto.material.largo}})\r\n                                    </ng-container></td>\r\n                                    <td>{{producto.material.marca}}</td>\r\n                                    <td>{{producto.material.presentacion}}  {{producto.material.neto}} {{producto.material.unidad}}</td>\r\n                                    <td>{{producto.codigo}}</td>\r\n                                    <td>{{producto.lote}}</td>\r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                        <td>{{producto.material.gramaje}}</td>\r\n                                        <td>{{producto.material.calibre}}</td>\r\n                                    </ng-container>\r\n                                    <td>{{producto.cantidad}}</td>\r\n                                    <td>{{(producto.material.neto * producto.cantidad).toFixed(2)}} {{producto.material.unidad}}.</td>\r\n                                    <td *ngIf=\"usuario.Almacen == 2\">\r\n                                        <!-- <button class=\"button is-danger is-outlined is-small\" (click)='eliminar_p(Sustrato.material,Sustrato.cantidad,Sustrato._id, \"sustrato\")'>\r\n                                            <span>Eliminar</span>\r\n                                            <span class=\"icon is-small\">\r\n                                              <i class=\"fas fa-times\"></i>\r\n                                            </span>\r\n                                        </button> -->\r\n       \r\n                                        <button class=\"button is-success is-outlined is-small\" (click)='Editar(producto._id)'>\r\n                                            <span>Editar</span>\r\n                                            <span class=\"icon is-small\">\r\n                                                <i class=\"fas fa-pencil-alt\"></i>\r\n                                            </span>\r\n                                        </button>\r\n                                    </td>\r\n                                </ng-container>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n\r\n\r\n                    </div>\r\n\r\n                    <table class=\"table is-fullwidth\" *ngIf='detallado && !_Almacenado && !loading && !_bobina'>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Material</th>\r\n                                <ng-container *ngIf=\"seccion.nombre == 'Tinta'\">\r\n                                <th>Color</th>\r\n                                </ng-container>\r\n                                <ng-container *ngIf=\"seccion.nombre == 'Cajas Corrugadas'\">\r\n                                <th>Cinta utiliz.</th>\r\n                                </ng-container>\r\n                                <th>Marca</th>\r\n                                <th>Presentación</th>\r\n                                <!-- <th>Cantidad</th> -->\r\n                                <!-- <th>Codigo</th>\r\n                                <th>Lote</th> -->\r\n                                <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                    <th>Gramaje</th>\r\n                                    <th>Calibre</th>\r\n                                </ng-container>\r\n                                <!-- <th>TOTAL</th> -->\r\n                                <th *ngIf=\"usuario.Almacen == 2\">Editar</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor='let producto of ALMACEN'>\r\n                                <ng-container *ngIf='producto.grupo.nombre === seccion.nombre'>\r\n                                    <td>{{producto.nombre}}\r\n                                        <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                            ({{producto.ancho}} x {{producto.largo}})\r\n                                        </ng-container>\r\n                                    </td>\r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Tinta'\">\r\n                                        <td>{{producto.color}}</td>\r\n                                    </ng-container>\r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Cajas Corrugadas'\">\r\n                                        <td>{{producto.cinta}}</td>\r\n                                    </ng-container>\r\n                                    <td>{{producto.marca}}</td>\r\n                                    <td>{{producto.presentacion}}  {{producto.neto}} {{producto.unidad}}</td>\r\n                                    <!-- <td>{{producto.cantidad}}</td> -->\r\n                                    <!-- <td>{{producto.codigo}}</td>\r\n                                    <td>{{producto.lote}}</td> -->\r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                        <td>{{producto.gramaje}}</td>\r\n                                        <td>{{producto.calibre}}</td>\r\n                                    </ng-container>\r\n                                    <!-- <td>{{producto.neto * producto.cantidad}} {{producto.unidad}}.</td> -->\r\n                                    <td *ngIf=\"usuario.Almacen == 2\">\r\n                                        <!-- <button class=\"button is-danger is-outlined is-small\" (click)='eliminar_p(producto.nombre,producto.cantidad,producto._id)'>\r\n                                            <span>Eliminar</span>\r\n                                            <span class=\"icon is-small\">\r\n                                              <i class=\"fas fa-times\"></i>\r\n                                            </span>\r\n                                        </button> -->\r\n   \r\n                                        <button class=\"button is-success is-outlined is-small\" (click)='Editar_2(producto._id)'>\r\n                                            <span>Editar</span>\r\n                                            <span class=\"icon is-small\">\r\n                                                <i class=\"fas fa-pencil-alt\"></i>\r\n                                            </span>\r\n                                        </button>\r\n                                    </td>\r\n                                </ng-container>\r\n                                \r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Editar Almacenado -->\r\n<div *ngIf='EDICION_ALMACEN'>\r\n<div class=\"modal\" [ngClass]=\"{'is-active':EDICION_ALMACEN}\">\r\n    <div class=\"modal-background\" (click)='edit_almacen()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Modificación de Inventario</div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Categoria:</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"\" (change)='selecciona_producto($event.target.value)' value='{{AlmacenadoId.material.grupo.nombre}}'>\r\n                                <option value=\"{{seccion.nombre}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Producto:</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"Producto_select\" (change)='producto_seleccionado($event.target.value)' [(ngModel)]='AlmacenadoId.material._id' #producto>\r\n                                <ng-container *ngFor='let producto of ALMACEN'>\r\n                                    <ng-container *ngIf='producto.grupo.nombre === product_selected'>\r\n                                        <option value=\"{{producto._id}}\">{{producto.nombre}} ({{producto.presentacion}} {{producto.neto}}{{producto.unidad}})\r\n                                            <ng-container *ngIf=\"producto.ancho\">\r\n                                                ({{producto.ancho}} x {{producto.largo}})\r\n                                            </ng-container>\r\n                                        </option>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Código</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"codigoID\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Lote</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"loteID\" [disabled]=\"!codigoID\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cantidad</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"cantidadID\" [disabled]=\"!loteID\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label for=\"\" class=\"label\">Motivo de edición:</label>\r\n                <textarea rows=\"2\" class=\"textarea\" [(ngModel)]=\"Edition__\"></textarea>\r\n            </div>\r\n            <button class=\"button is-primary\" (click)='_Editar(producto)' *ngIf=\"Edition__\">Editar</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n<!-- FIN Editar  -->\r\n\r\n<!-- Editar inventario  -->\r\n<div  *ngIf='MaterialID'>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':Editar_NUEVO_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Almacen_ep()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Editar Material</div>\r\n            <form>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">\r\n                            Grupo de Material\r\n                        </label>\r\n                        <div class=\"select\">\r\n                            <select (change)='Cambio_opciones($event.target.value)' id='selected' [(ngModel)]=\"MaterialID.grupo._id\" name='grupo'>\r\n                                <option value=\"{{seccion._id}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!-- <div class=\"column\" *ngIf='OTRO'>\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Nombre del Nuevo Grupo</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" formControlName=\"NewControl\">\r\n                        </div>\r\n                    </div>\r\n                </div> -->\r\n            </div>\r\n            <div class=\"columns\" *ngIf=\"caja_\">\r\n                <div class=\"column\">\r\n                    <div class=\"control\">\r\n                        <label class=\"label\">Metros de cinta por caja</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" placeholder=\"Metros de cinta por caja\" [(ngModel)]=\"MaterialID.color\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\"></div>\r\n            </div>\r\n            <div class=\"Tinta\" *ngIf=\"New_color\">\r\n                <div class=\"columns\">\r\n                    <div class=\"column is-4\">\r\n                        <div class=\"columns\">\r\n                            <div class=\"column\">\r\n                                <input type=\"radio\" name=\"color\" id=\"Negro\" value=\"Negro\" (click)=\"define_color2($event.target.value)\" checked>\r\n                                <label> Negro</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Cyan\" value=\"Cyan\" (click)=\"define_color2($event.target.value)\">\r\n                                <label> Cyan</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Magenta\" value=\"Magenta\" (click)=\"define_color2($event.target.value)\">\r\n                                <label> Magenta</label> <br>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <input type=\"radio\" name=\"color\" id=\"Amarillo\" value=\"Amarillo\" (click)=\"define_color2($event.target.value)\">\r\n                                <label> Amarillo</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Pantone\" value=\"Pantone\" (click)=\"define_color2($event.target.value)\">\r\n                                <label> Pantone</label> <br>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-5\">\r\n                        <div class=\"columns\">\r\n                            <div class=\"column is-3\">\r\n                                <label class=\"label\">Color:</label>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <input type=\"text\" class=\"input\" value=\"Negro\" id=\"color\" [(ngModel)]=\"MaterialID.color\" name=\"color\" disabled>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sustrato\" *ngIf='New_Sustrato'>\r\n                <hr>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Ancho</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" [(ngModel)]=\"MaterialID.ancho\" name='ancho'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Largo</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" [(ngModel)]=\"MaterialID.largo\" name='largo'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Gramaje</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" [(ngModel)]=\"MaterialID.gramaje\" name='gramaje'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Calibre</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" [(ngModel)]=\"MaterialID.calibre\" name='calibre'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr>\r\n            </div>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Material</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" [(ngModel)]=\"MaterialID.nombre\" name='material'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Marca</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" [(ngModel)]=\"MaterialID.marca\" name=\"marca\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Presentación</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" [(ngModel)]=\"MaterialID.presentacion\" name=\"presentacion\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"columns\">\r\n                    <div class=\"column \">\r\n                        <div class=\"field has-addons\">\r\n                            <p class=\"control\">\r\n                              <span class=\"select\">\r\n                                <select name=\"unidad\" [(ngModel)]=\"MaterialID.unidad\">\r\n                                    <option value=\"Kg\">Kg.</option>\r\n                                    <option value=\"Und\">Und.</option>\r\n                                    <option value=\"L\">L.</option>\r\n                                </select>\r\n                              </span>\r\n                            </p>\r\n                            <p class=\"control\">\r\n                              <input class=\"input\" type=\"text\" placeholder=\"Neto por unidad\" [(ngModel)]=\"MaterialID.neto\" name=\"neto\">\r\n                            </p>\r\n                          </div>\r\n                        <!-- <div class=\"field\">\r\n                            <label class=\"label\">Neto por Unidad</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"neto\">\r\n                            </div>\r\n                        </div> -->\r\n                    </div>\r\n                    <!-- <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Código</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"codigo\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Lote</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"lote\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Cantidad</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"cantidad\">\r\n                            </div>\r\n                        </div>\r\n                    </div> -->\r\n\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label for=\"\" class=\"label\">Motivo de edición:</label>\r\n                    <textarea name=\"edition\" rows=\"2\" class=\"textarea\" [(ngModel)]=\"Edition__2\"></textarea>\r\n\r\n                </div>\r\n                <button class=\"button is-primary\" (click)=\"Editar_Material_F()\" *ngIf=\"Edition__2\">Editar</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n</div>\r\n<!-- FIN de inventario -->\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':_NUEVO_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Nuevo_producto()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Ingreso de Inventario</div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Categoria:</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"Nuevoproducto\" (change)='selecciona_producto($event.target.value)'>\r\n                                <option value=\"0\">Selecciona Categoria</option>\r\n                                <option value=\"{{seccion.nombre}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Producto:</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"Producto_select\" (change)='producto_seleccionado($event.target.value)' disabled #producto>\r\n                                <option value=\"0\">Selecciona Producto</option>\r\n                                <ng-container *ngFor='let producto of ALMACEN'>\r\n                                    <ng-container *ngIf='producto.grupo.nombre === product_selected'>\r\n                                        <option value=\"{{producto._id}}\">{{producto.nombre}} ({{producto.marca}} - {{producto.presentacion}} {{producto.neto}}{{producto.unidad}})\r\n                                            <ng-container *ngIf=\"producto.ancho\">\r\n                                                ({{producto.ancho}} x {{producto.largo}})\r\n                                            </ng-container>\r\n                                        </option>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\" *ngIf='_producto_seleccionado'>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Código</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"codigo\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Lote</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"lote\" [disabled]=\"!codigo\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cantidad</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"cantidad\" [disabled]=\"!lote\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button class=\"button is-primary\" [disabled]=\"!cantidad\" (click)='almacenar(producto)'>Finalizar</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVO_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Almacen()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Nuevo Material</div>\r\n            <form\r\n            autocomplete=\"on\"\r\n            [formGroup]=\"InventarioForm\"\r\n            (ngSubmit)=\"Almacenar()\"\r\n            >\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">\r\n                            Grupo de Material\r\n                        </label>\r\n                        <div class=\"select\">\r\n                            <select (change)='Cambio_opciones($event.target.value)' id='selected' value='otros'>\r\n                                <option value=\"{{seccion._id}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                                <option value=\"otros\">Nuevo</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\" *ngIf='OTRO'>\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Nombre del Nuevo Grupo</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" formControlName=\"NewControl\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\" *ngIf=\"caja_\">\r\n                <div class=\"column\">\r\n                    <div class=\"control\">\r\n                        <label class=\"label\">Metros de cinta por caja</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" placeholder=\"Metros de cinta por caja\" formControlName='cinta'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\"></div>\r\n            </div>\r\n            <div class=\"Tinta\" *ngIf=\"New_color\">\r\n                <div class=\"columns\">\r\n                    <div class=\"column is-4\">\r\n                        <div class=\"columns\">\r\n                            <div class=\"column\">\r\n                                <input type=\"radio\" name=\"color\" id=\"Negro\" value=\"Negro\" (click)=\"define_color($event.target.value)\" checked>\r\n                                <label> Negro</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Cyan\" value=\"Cyan\" (click)=\"define_color($event.target.value)\">\r\n                                <label> Cyan</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Magenta\" value=\"Magenta\" (click)=\"define_color($event.target.value)\">\r\n                                <label> Magenta</label> <br>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <input type=\"radio\" name=\"color\" id=\"Amarillo\" value=\"Amarillo\" (click)=\"define_color($event.target.value)\">\r\n                                <label> Amarillo</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Pantone\" value=\"Pantone\" (click)=\"define_color($event.target.value)\">\r\n                                <label> Pantone</label> <br>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-5\">\r\n                        <div class=\"columns\">\r\n                            <div class=\"column is-3\">\r\n                                <label class=\"label\">Color:</label>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <input type=\"text\" class=\"input\" value=\"Negro\" id=\"color\" formControlName=\"color\" disabled>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sustrato\" *ngIf='New_Sustrato'>\r\n                <hr>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Ancho</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName='ancho'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Largo</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName='largo'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Gramaje</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName='gramaje'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Calibre</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName='calibre'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr>\r\n            </div>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Material</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName=\"producto\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Marca</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName=\"marca\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Presentación</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName=\"presentacion\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"columns\">\r\n                    <div class=\"column \">\r\n                        <div class=\"field has-addons\">\r\n                            <p class=\"control\">\r\n                              <span class=\"select\">\r\n                                <select formControlName=\"unidad\">\r\n                                    <option value=\"Kg\">Kg.</option>\r\n                                    <option value=\"Und\">Und.</option>\r\n                                    <option value=\"L\">L.</option>\r\n                                </select>\r\n                              </span>\r\n                            </p>\r\n                            <p class=\"control\">\r\n                              <input class=\"input\" type=\"text\" placeholder=\"Neto por unidad\" formControlName=\"neto\">\r\n                            </p>\r\n                          </div>\r\n                        <!-- <div class=\"field\">\r\n                            <label class=\"label\">Neto por Unidad</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"neto\">\r\n                            </div>\r\n                        </div> -->\r\n                    </div>\r\n                    <!-- <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Código</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"codigo\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Lote</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"lote\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Cantidad</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"cantidad\">\r\n                            </div>\r\n                        </div>\r\n                    </div> -->\r\n\r\n                </div>\r\n                <button class=\"button is-primary\">Finalizar</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':CONSULTAB}\">\r\n    <div class=\"modal-background\" (click)='check_bobinas()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Bobinas</div>\r\n                        <table class=\"table is-fullwidth\">\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>Material</th>\r\n                                <th>Gramaje</th>\r\n                                <th>Ancho de Bobina</th>\r\n                                <th>peso</th>\r\n                            </tr>\r\n                            <tr *ngFor='let bobina of BOBINAS_'>\r\n                                <td>{{bobina.Nbobina}}</td>\r\n                                <td>{{bobina.material}}</td>\r\n                                <td>{{bobina.gramaje}}</td>\r\n                                <td>{{bobina.ancho}}</td>\r\n                                <td>{{bobina.peso}}</td>\r\n                            </tr>\r\n                        </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':BOBINAS}\">\r\n    <div class=\"modal-background\" (click)='Modal_bobinas()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <form\r\n            autocomplete=\"on\"\r\n            [formGroup]=\"BobinaForm\"\r\n            (ngSubmit)=\"nuevaBobina()\"\r\n            >\r\n            <div class=\"subtitulo\">Nueva Bobina</div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Numero de bobina</label>\r\n                    <input type=\"text\" class=\"input\" formControlName=\"Nbobina\">\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Material</label>\r\n                    <div class=\"select\">\r\n                        <select name=\"\" id=\"\" formControlName=\"material\" (change)=\"buscarGramaje($event.target.value)\">\r\n                            <option value=\"{{sustrato}}\" *ngFor=\"let sustrato of _sustratos_\">{{sustrato}}</option>\r\n                        </select>\r\n                    </div>    \r\n                <!-- <input type=\"text\" class=\"input\" formControlName=\"material\"> -->\r\n\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Gramaje</label>\r\n                <div class=\"select\">\r\n                    <select name=\"\" id=\"\" formControlName=\"gramaje\" (change)=\"buscarAncho($event.target.value)\">\r\n                        <option value=\"{{gramaje.gramaje}}\" *ngFor=\"let gramaje of _gramajes_\">{{gramaje.gramaje}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Ancho de bobina</label>\r\n                    <div class=\"select\">\r\n                        <select name=\"\" id=\"\" formControlName=\"ancho\">\r\n                            <option value=\"{{ancho.ancho}}\" *ngFor=\"let ancho of _ancho_\">{{ancho.ancho}}</option>\r\n                        </select>\r\n                    </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Peso</label>\r\n                    <input type=\"text\" class=\"input\" formControlName=\"peso\">\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Lote</label>\r\n                    <input type=\"text\" class=\"input\" formControlName=\"lote\">\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Convertidora</label>\r\n                    <input type=\"text\" class=\"input\" formControlName=\"convertidora\">\r\n            </div>\r\n            <button class=\"button is-primary\">Nueva Bobina</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':CONVERSION}\">\r\n    <div class=\"modal-background\" (click)='modal_Conversion()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Conversión</div> \r\n            \r\n            <div class=\"separador\">\r\n                De peso a Hojas\r\n            </div>\r\n            <br>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Material</label>\r\n                <div class=\"select\">\r\n                    <select (change)='Buscar_Bobina($event)' id='bobina_selected'>\r\n                        <option value=\"null\">Selecciona Sustrato</option>\r\n                        <ng-container *ngFor='let producto of SUSTRATO_CONVERSION'>\r\n\r\n                            <option value='{{producto[0]._id}}'>{{producto[0].nombre}} - {{producto[0].ancho}} x {{producto[0].largo}} - Gram.{{producto[0].gramaje}}</option>\r\n                        </ng-container>\r\n                    </select>\r\n                </div>\r\n            </div> \r\n            <div class=\"field\">\r\n                <div class=\"label\">Peso (t)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Peso($event)' id='_peso'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Gramaje (g/m²)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Gramaje($event.target.value)' id='_gramaje' disabled>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Ancho (cm)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Ancho($event.target.value)' id='_ancho' disabled>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Largo (cm)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Largo($event)' id='_largo' disabled>\r\n                </div>\r\n            </div>\r\n            <hr>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Convertidora</label>\r\n                <input type=\"text\" class=\"input\" placeholder=\"convertidora\" id=\"convertidora\">\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Observación</label>\r\n                <textarea class=\"textarea\" id=\"observacion\" placeholder=\"Observacion\"></textarea>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <b>Cantidad Hojas: </b> {{HOJAS}} <br> \r\n                    <button class=\"button is-primary\" (click)='Generar_Conversion()'>Generar una Conversión</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"separador\">\r\n                De Hojas a Peso\r\n            </div>\r\n            <br>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Cantidad (Hojas)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Hojas_($event)'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Gramaje (g/m²)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='300' (change)='Gramaje_($event)'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Ancho (cm)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Ancho_($event)'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Largo (cm)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Largo_($event)'>\r\n                </div>\r\n            </div>\r\n            <hr>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <b>Peso: </b> {{PESO_}}\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':eliminacion}\">\r\n    <div class=\"modal-background\" (click)='modal_eliminacion();'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <h1>{{name_p_e}} x {{cantidad_p_e}}</h1>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Razon de Eliminacion</label>\r\n                <div class=\"control\">\r\n                    <textarea class=\"textarea\" placeholder=\"Motivo de eliminación\" #motivo></textarea>\r\n                </div>\r\n            </div>\r\n            <button class=\"button is-danger\" (click)='confirmar_eliminacion(motivo)'>Eliminar Producto</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':reporte}\">\r\n    <div class=\"modal-background\" (click)='modal_reporte()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <h1 class=\"subtitulo\">Resumen De Inventario</h1>\r\n            <hr>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Desde:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"date\" #desde>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Hasta:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"date\" #hasta>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button class=\"button is-primary\" (click)='descargarInventario(desde, hasta)'>Descargar inventario</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { PdfMakeWrapper, Txt, Img, Table, Cell, Columns, Stack } from 'pdfmake-wrapper';\r\nimport * as pdfFonts from \"pdfmake/build/vfs_fonts\";\r\nimport * as moment from 'moment';\r\n\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  fileName= 'ExcelSheet.xlsx';\r\n\r\n  public resumido:boolean = false;\r\n  public detallado:boolean = true;\r\n\r\n  public NUEVO_PRODUCTO:boolean = false;\r\n  public ALMACEN;\r\n  public SECCIONES\r\n\r\n  public PESO= 0\r\n  public GRAMAJE = 300\r\n  public ANCHO= 0\r\n  public LARGO= 0\r\n  public HOJAS = 0\r\n\r\n  public PESO_= 0\r\n  public GRAMAJE_ = 300\r\n  public ANCHO_= 0\r\n  public LARGO_= 0\r\n  public HOJAS_ = 0\r\n\r\n  empty:boolean = true;\r\n\r\n  public OTRO:boolean = true;\r\n  public Gs;\r\n\r\n  public CONVERSION:boolean = false;\r\n  public BOBINAS:boolean = false;\r\n  public CONSULTAB:boolean = false;\r\n\r\n  public BOBINAS_;\r\n  public product_selected;\r\n  public _producto_seleccionado;\r\n\r\n  public boolean_sustrato:boolean = false;\r\n  public Sustratos;\r\n\r\n  public New_Sustrato:boolean = false;\r\n\r\n  public Mat_Selected;\r\n  public Num_Bobina\r\n\r\n  public MATERIALES_NECESARIOS:boolean = false;\r\n  public _NUEVO_PRODUCTO:boolean = false;\r\n  public EDICION_ALMACEN:boolean = false;\r\n\r\n  public DESCUENTOS = [];\r\n\r\n  public name_p_e\r\n  public cantidad_p_e\r\n  public id_p_e\r\n  public eliminacion:boolean = false;\r\n  public eliminar_sustrato:boolean = false;\r\n\r\n  public reporte:boolean = false;\r\n\r\n\r\n  public AlmacenadoId;\r\n  public MaterialID;\r\n\r\n  public loading:boolean = true;\r\n\r\n  public _bobina:boolean = false;\r\n  public descontar_b:boolean = false;\r\n\r\n  codigoID = '';\r\n  loteID = '';\r\n  cantidadID = '';\r\n\r\n  codigo = '';\r\n  lote = '';\r\n  cantidad = '';\r\n\r\n  public New_color:boolean = false;\r\n  public caja_:boolean = false;\r\n\r\n  solicitud:boolean = false;\r\n  asignacion:boolean = false;\r\n\r\n\r\n\r\n  public _Almacenado:boolean = true;\r\n  public Editar_NUEVO_PRODUCTO:boolean = false;\r\n\r\n  public TOTALES = [\r\n    {\r\n      material:null,\r\n      marca:null,\r\n      calibre:null,\r\n      gramaje:null,\r\n      total:null,\r\n      grupo:null,\r\n      presentacion:null,\r\n      neto:null,\r\n      unidad:null,\r\n      ancho:null,\r\n      largo:null\r\n    }\r\n  ];\r\n\r\n  public _bobina_ = ''\r\n  \r\n\r\n  public Almacenado = [];\r\n\r\n\r\n  InventarioForm:FormGroup = this.fb.group({\r\n    ancho:[''],\r\n    largo:[''],\r\n    gramaje:[''],\r\n    calibre:[''],\r\n    producto:['', Validators.required],\r\n    marca:['',Validators.required],\r\n    presentacion:['', Validators.required],\r\n    unidad:['',Validators.required],\r\n    neto:['', Validators.required],\r\n    color:['Negro',Validators.required],\r\n    cinta:[''],\r\n    // codigo:['',Validators.required],\r\n    // cantidad:['', Validators.required],\r\n    // lote:['', Validators.required],\r\n    NewControl:['']\r\n  });\r\n\r\n  BobinaForm:FormGroup = this.fb.group({\r\n    Nbobina:['', Validators.required],\r\n    material:['CARTON REV. BLANCO', Validators.required],\r\n    gramaje:['', Validators.required],\r\n    ancho:['', Validators.required],\r\n    peso:['', Validators.required],\r\n    lote:['', Validators.required],\r\n    convertidora:['',Validators.required]\r\n  });\r\n\r\n\r\n  constructor(private fb:FormBuilder,\r\n              private api:RestApiService) { \r\n                this.usuario = api.usuario;\r\n              }\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.BuscarAlmacen();\r\n    this.getAalmacenado();\r\n    this.BuscarGruposEnAlmacen();\r\n    // this.getSustratos();\r\n    this.porConfirmar();\r\n    this.totalizar_materiales()\r\n    this.Gs = (<HTMLInputElement>document.getElementById('selected')).value\r\n    this.Buscar_conversiones()\r\n    this.getbobinas();\r\n    this.getOrdenes();\r\n  }\r\n\r\n  public usuario\r\n\r\n  public orden;\r\n  getOrdenes(){\r\n    this.api.getOrden()\r\n    .subscribe( (resp:any) => {\r\n      this.orden = resp;\r\n    } )\r\n\r\n  }\r\n\r\n  showOrden(){\r\n    console.log(this.orden)\r\n  }\r\n\r\n  agregarRequisicion(e){\r\n    this.necesario.push(e)\r\n  }\r\n\r\n  public necesario;\r\n\r\n  porConfirmar(){\r\n    this.api.getMaterialesPorConfirmar()\r\n      .subscribe((resp:any)=>{\r\n        this.necesario = resp;\r\n      })\r\n  }\r\n\r\n  define_color(e){\r\n    if(e != 'Pantone'){\r\n      this.InventarioForm.get('color').setValue(e);\r\n      (<HTMLInputElement>document.getElementById('color')).value = e;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById('color')).value = '';\r\n      (<HTMLInputElement>document.getElementById('color')).disabled = false;\r\n    }\r\n  }\r\n\r\n  Modal_Almacen_ep(){\r\n    if(this.Editar_NUEVO_PRODUCTO){\r\n      this.Editar_NUEVO_PRODUCTO = false;\r\n    }else{\r\n      this.Editar_NUEVO_PRODUCTO = true;\r\n    }\r\n  }\r\n\r\n  modal_solicitud(){\r\n    if(this.solicitud){\r\n      this.solicitud = false\r\n    }else{\r\n      this.solicitud = true\r\n    }\r\n  }\r\n  modal_asignacion(){\r\n    if(this.asignacion){\r\n      this.asignacion = false\r\n    }else{\r\n      this.asignacion = true\r\n    }\r\n  }\r\n\r\n  existencia_(seccion){\r\n\r\n    let existencia = this.Almacenado.find(x => x.material.grupo.nombre === seccion)\r\n\r\n    if(existencia){\r\n      return true\r\n    }else{\r\n      return false\r\n    }\r\n\r\n  }\r\n\r\n  public _sustratos_ = []\r\n  buscarSustratos(){\r\n    let sustratos = this.ALMACEN.filter(x => x.grupo.nombre == 'Sustrato')\r\n    for(let i=0; i<sustratos.length; i++){\r\n      let sustrato = this._sustratos_.find(x=> x == sustratos[i].nombre);\r\n      if(!sustrato){\r\n        this._sustratos_.push(sustratos[i].nombre)\r\n      }\r\n    }\r\n  }\r\n\r\n  public _gramajes_ = []\r\n  buscarGramaje(e){\r\n    this._gramajes_ = []\r\n    let sustratos = this.ALMACEN.filter(x => x.nombre == e)\r\n    // console.log(sustratos,'15515151515151515151515151515151')\r\n    for(let i=0; i<sustratos.length; i++){\r\n      let gramaje = this._gramajes_.find(x=> x.gramaje == sustratos[i].gramaje);\r\n      if(!gramaje){\r\n        this._gramajes_.push(sustratos[i])\r\n        }\r\n    }\r\n    console.log(this._gramajes_,'GRAMAGRAMAGRAMA')\r\n  }\r\n\r\n  public _ancho_ = []\r\n  buscarAncho(e){\r\n    this._ancho_ = []\r\n    let sustratos = this.ALMACEN.filter(x => x.gramaje == e)\r\n    for(let i=0; i<sustratos.length; i++){\r\n      let ancho = this._ancho_.find(x=> x.ancho == sustratos[i].ancho);\r\n      if(!ancho){\r\n        this._ancho_.push(sustratos[i])\r\n        }\r\n    }\r\n  }\r\n\r\n  define_color2(e){\r\n    if(e != 'Pantone'){\r\n      this.MaterialID.color = e;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById('color')).disabled = false;\r\n      (<HTMLInputElement>document.getElementById('color')).value = '';\r\n    }\r\n  }\r\n\r\n  Editar_2(id){\r\n    this.Modal_Almacen_ep()\r\n    this.api.getMaterialesID(id)\r\n      .subscribe((resp:any)=>{\r\n        this.MaterialID = resp;\r\n        if(resp.grupo.nombre === 'Tinta'){\r\n          this.New_color = true;\r\n        }\r\n        if(resp.grupo.nombre === 'Cajas Corrugadas'){\r\n          this.caja_ = true;\r\n        }\r\n        console.log(this.MaterialID,'ok')\r\n      })\r\n  }\r\n\r\n  Editar_Material_F(){\r\n    let grupo = this.MaterialID.grupo._id;\r\n\r\n    this.MaterialID.grupo = grupo;\r\n\r\n    console.log(this.MaterialID)\r\n\r\n    this.api.putMaterialID(this.MaterialID._id, this.MaterialID)\r\n          .subscribe((resp:any)=>{\r\n            this.Modal_Almacen_ep();\r\n            this.getAalmacenado();\r\n                this.BuscarAlmacen();\r\n                this.totalizar_materiales();\r\n                Swal.fire({\r\n                  position:'center',\r\n                  icon:'success',\r\n                  title:'Material editado con exito!',\r\n                  showConfirmButton: false,\r\n                  timer:1500\r\n                })\r\n\r\n          })\r\n  }\r\n\r\n  Editar(id){\r\n    this.edit_almacen()\r\n    this.api.getAlmacenadoID(id)\r\n      .subscribe((resp:any)=>{\r\n        this.AlmacenadoId = resp;\r\n        this.selecciona_producto(this.AlmacenadoId.material.grupo.nombre)\r\n        this.codigoID = this.AlmacenadoId.codigo;\r\n        this.loteID = this.AlmacenadoId.lote;\r\n        this.cantidadID = this.AlmacenadoId.cantidad;\r\n\r\n      })\r\n  }\r\n\r\n  _Editar(producto){\r\n    let body = {\r\n      material:this.AlmacenadoId.material._id,\r\n      codigo:this.codigoID,\r\n      lote:this.loteID,\r\n      cantidad:this.cantidadID\r\n\r\n      \r\n    }\r\n    \r\n    this.api.putAlmacenadoID(this.AlmacenadoId._id, body)\r\n    .subscribe((resp:any)=>{\r\n      this.edit_almacen();\r\n      Swal.fire({\r\n        position:'center',\r\n        icon:'success',\r\n        title:'El inventario fue editado con exito',\r\n        showConfirmButton: false,\r\n        timer:1500\r\n      })\r\n      this.getAalmacenado();\r\n      this.BuscarAlmacen();\r\n      this.totalizar_materiales();\r\n      this.codigoID = ''\r\n      this.loteID = ''\r\n      this.cantidadID = ''\r\n      this.AlmacenadoId = ''\r\n    })\r\n    \r\n  }\r\n  \r\n  public edit_almacen(){\r\n    if(this.EDICION_ALMACEN){\r\n      this.EDICION_ALMACEN = false;\r\n    }else{\r\n      this.EDICION_ALMACEN = true;\r\n    }\r\n  }\r\n\r\n  Almacenes(e){\r\n    if(e == 'Almacenada'){\r\n      this._Almacenado = true;\r\n      this._bobina = false;\r\n    }else if(e == 'Bobinas'){\r\n      this._Almacenado = false;\r\n      this._bobina = true;\r\n    }else{\r\n      this._Almacenado = false;\r\n      this._bobina = false;\r\n    }\r\n  }\r\n\r\n  getAalmacenado(){\r\n    this.api.getAlmacenado()\r\n      .subscribe((resp:any)=>{\r\n        this.Almacenado = resp;\r\n        this.totalizar_materiales();\r\n      })\r\n  }\r\n\r\n  Cambio_opciones(e){\r\n    if(e === 'otros'){\r\n      this.OTRO = true\r\n    }else{\r\n      this.OTRO = false;\r\n      this.Gs = e;\r\n    }\r\n\r\n    if(e === '61f92a1f2126d717f004cca6'){\r\n      this.New_Sustrato = true;\r\n    }else{\r\n      this.New_Sustrato = false;\r\n    }\r\n\r\n    if(e === '61fd54e2d9115415a4416f17'){\r\n      this.New_color = true;\r\n    }else{\r\n      this.New_color = false;\r\n    }\r\n\r\n    if(e === '61fd7a8ed9115415a4416f74'){\r\n      this.caja_ = true;\r\n    }else{\r\n      this.caja_ = false\r\n    }\r\n\r\n  }\r\n\r\n  public Edition__ = '';\r\n  public Edition__2 = '';\r\n\r\n  public Nuevo_producto(){\r\n    if(this._NUEVO_PRODUCTO){\r\n      this._NUEVO_PRODUCTO = false;\r\n    }else{\r\n      this._NUEVO_PRODUCTO = true;\r\n    }\r\n\r\n  }\r\n\r\n  public Modal_Almacen(){\r\n    if(this.NUEVO_PRODUCTO){\r\n      this.NUEVO_PRODUCTO = false;\r\n    }else{\r\n      this.NUEVO_PRODUCTO = true;\r\n    }\r\n  }\r\n\r\n  public Modal_bobinas(){\r\n    if(this.BOBINAS){\r\n      this.BOBINAS = false;\r\n    }else{\r\n      this.BOBINAS = true;\r\n      this.buscarSustratos()\r\n    }\r\n  }\r\n\r\n  public modal_Conversion(){\r\n    if(this.CONVERSION){\r\n      this.CONVERSION = false;\r\n    }else{\r\n      this.CONVERSION = true;\r\n    }\r\n  }\r\n\r\n  public modal_reporte(){\r\n    if(this.reporte){\r\n      this.reporte = false;\r\n    }else{\r\n      this.reporte = true;\r\n    }\r\n  }\r\n\r\n  public check_bobinas(){\r\n    if(this.CONSULTAB){\r\n      this.CONSULTAB = false;\r\n    }else{\r\n      this.CONSULTAB = true;\r\n    }\r\n  }\r\n\r\n  public bobina__;\r\n  descontar_bobina(bobina?){\r\n    if(this.descontar_b){\r\n      this.descontar_b = false;\r\n    }else{\r\n      this.descontar_b = true;\r\n      this.bobina__ = bobina;\r\n    }\r\n  }\r\n  descontar_bobina_(numero){\r\n    let data = {\r\n      bobina:this.bobina__,\r\n      numero\r\n    }\r\n    this.api.deleteBobina(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          text:resp,\r\n          icon:'info',\r\n          showConfirmButton:false\r\n        });\r\n        this.getbobinas();\r\n        this.descontar_bobina();\r\n        this.Buscar_conversiones();\r\n      })\r\n  }\r\n\r\n  BuscarGruposEnAlmacen(){\r\n    this.loading = true;\r\n    this.api.GetGrupoMp()\r\n      .subscribe((resp:any)=>{\r\n        this.SECCIONES = resp\r\n        this.loading = false;\r\n      })\r\n  }\r\n\r\n  BuscarAlmacen(){\r\n    this.loading = true;\r\n    this.api.getAlmacen()\r\n      .subscribe((resp:any) => {\r\n        this.ALMACEN = resp.materiales;\r\n        this.totalizar_materiales()\r\n        this.loading = false;\r\n      })\r\n  }\r\n\r\n\r\n  selecciona_producto(e){\r\n    if(e == 0){\r\n      (<HTMLInputElement>document.getElementById('Producto_select')).disabled = true;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById('Producto_select')).disabled = false;\r\n      this.product_selected = e;\r\n    }\r\n  }\r\n\r\n  almacenar(producto){\r\n    let data = {\r\n      material:producto.value,\r\n      codigo:this.codigo,\r\n      lote:this.lote,\r\n      cantidad:this.cantidad\r\n    }\r\n\r\n    this.api.postAlmacenado(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          position:'center',\r\n          icon:'success',\r\n          title:'Nueva materia prima agregada',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n        })\r\n        this.Nuevo_producto();\r\n        this.BuscarAlmacen();\r\n        this.getAalmacenado();\r\n        this.codigo = '';\r\n        this.lote = '';\r\n        this.cantidad ='';\r\n        (<HTMLInputElement>document.getElementById('Nuevoproducto')).value = \"0\";\r\n      })\r\n  }\r\n\r\n  producto_seleccionado(e){\r\n    if(e == 0){\r\n      this._producto_seleccionado = false\r\n      this.codigo = '';\r\n      this.lote = '';\r\n      this.cantidad = '';\r\n    }else{\r\n      this._producto_seleccionado = true\r\n    }\r\n  }\r\n  \r\n\r\n  Almacenar(){\r\n\r\n    let grupo;\r\n\r\n    if(this.OTRO){\r\n    grupo = this.InventarioForm.get('NewControl').value\r\n    }\r\n    else{\r\n      grupo = this.Gs;\r\n    }\r\n\r\n\r\n    const data = {\r\n      producto: this.InventarioForm.get('producto').value,\r\n      marca:this.InventarioForm.get('marca').value,\r\n\r\n      ancho:this.InventarioForm.get('ancho').value,\r\n      largo:this.InventarioForm.get('largo').value,\r\n      gramaje:this.InventarioForm.get('gramaje').value,\r\n      calibre:this.InventarioForm.get('calibre').value,\r\n\r\n\r\n      // cantidad: this.InventarioForm.get('cantidad').value,\r\n      unidad: this.InventarioForm.get('unidad').value,\r\n      presentacion: this.InventarioForm.get('presentacion').value,\r\n      neto: this.InventarioForm.get('neto').value,\r\n      color:this.InventarioForm.get('color').value,\r\n      // codigo: this.InventarioForm.get('codigo').value,\r\n      // lote: this.InventarioForm.get('lote').value,\r\n      cinta:this.InventarioForm.get('cinta').value,\r\n      grupo,\r\n      nuevo:this.OTRO\r\n\r\n    }\r\n\r\n    console.log(this.InventarioForm.get('color').value)\r\n\r\n    if(this.InventarioForm.invalid){\r\n      return\r\n    }\r\n\r\n\r\n\r\n    this.api.PostAlmacen(data)\r\n     .subscribe(resp=>{\r\n        this.InventarioForm.reset();\r\n        this.BuscarAlmacen();\r\n        this.BuscarGruposEnAlmacen();\r\n        this.Modal_Almacen();\r\n        // this.getSustratos();\r\n      })\r\n\r\n   }\r\n\r\n   Peso(e){\r\n    this.PESO = e.target.value\r\n    this.HOJAS = this.PESO*10000000000\r\n    let otro = this.GRAMAJE*this.ANCHO*this.LARGO\r\n    this.HOJAS = this.HOJAS/otro\r\n    this.HOJAS = Math.trunc(this.HOJAS)\r\n    // /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Gramaje(e){\r\n     this.GRAMAJE = e\r\n     this.HOJAS = this.PESO*10000000000\r\n     let otro = this.GRAMAJE*this.ANCHO*this.LARGO\r\n     this.HOJAS = this.HOJAS/otro\r\n     this.HOJAS = Math.trunc(this.HOJAS)\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Ancho(e){\r\n     this.ANCHO = e\r\n     this.HOJAS = this.PESO*10000000000\r\n     let otro = this.GRAMAJE*this.ANCHO*this.LARGO\r\n     this.HOJAS = this.HOJAS/otro\r\n     this.HOJAS = Math.trunc(this.HOJAS)\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Largo(e){\r\n     this.LARGO = e\r\n     this.HOJAS = this.PESO*10000000000\r\n     let otro = this.GRAMAJE*this.ANCHO*this.LARGO\r\n     this.HOJAS = this.HOJAS/otro\r\n     this.HOJAS = Math.trunc(this.HOJAS)\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n\r\n  //  ***********************************************************\r\n  Hojas_(e){\r\n    this.HOJAS_ = e.target.value\r\n    let all = this.HOJAS_ * this.GRAMAJE_*this.ANCHO_*this.LARGO_\r\n    this.PESO_ = all / 10000000000;\r\n    // /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Gramaje_(e){\r\n     this.GRAMAJE_ = e.target.value\r\n     let all = this.HOJAS_ * this.GRAMAJE_*this.ANCHO_*this.LARGO_\r\n     this.PESO_ = all / 10000000000;\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Ancho_(e){\r\n     this.ANCHO_ = e.target.value\r\n     let all = this.HOJAS_ * this.GRAMAJE_*this.ANCHO_*this.LARGO_\r\n     this.PESO_ = all / 10000000000;\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Largo_(e){\r\n     this.LARGO_ = e.target.value\r\n     let all = this.HOJAS_ * this.GRAMAJE_*this.ANCHO_*this.LARGO_\r\n     this.PESO_ = all / 10000000000;\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n  //  ***********************************************************\r\n\r\n\r\n  nuevaBobina(){\r\n    this.api.postNuevaBobina(this.BobinaForm.value)\r\n      .subscribe((resp:any)=>{\r\n        this.BobinaForm.reset();\r\n        this.Modal_bobinas();\r\n        this.getbobinas();\r\n        Swal.fire({\r\n          title:'Nueva Bobina Agregada!',\r\n          text:'Se agregó una nueva bobina al almacen de bobinas',\r\n          icon:'success',\r\n          showConfirmButton:false\r\n        })\r\n      })\r\n  }\r\n\r\n  public SUSTRATO_CONVERSION = [];\r\n\r\n  getbobinas(){\r\n    this.api.getBobina()\r\n      .subscribe((resp:any)=>{\r\n        this.BOBINAS_ = resp;\r\n        for(let i = 0; i<this.BOBINAS_.length; i++){\r\n          let bobina = this.BOBINAS_[i]\r\n          // bobinas\r\n          // material\r\n          // ancho\r\n          // largo\r\n          \r\n          // material \r\n          // nombre\r\n          // ancho\r\n          // largo \r\n\r\n          let sustrato = this.ALMACEN.filter(x => x.nombre == bobina.material && x.gramaje == bobina.gramaje && x.ancho == bobina.ancho)\r\n          if(sustrato){\r\n            this.SUSTRATO_CONVERSION.push(sustrato)\r\n          }\r\n        }\r\n      })\r\n  }\r\n\r\n\r\n  public conversiones = []\r\n  Buscar_conversiones(){\r\n    this.api.getConversiones()\r\n      .subscribe((resp:any)=>{\r\n        this.conversiones = resp;\r\n      })\r\n  }\r\n\r\n  Buscar_Bobina(e){\r\n    let material = this.ALMACEN.find(x => x._id == e.target.value)\r\n\r\n    if(material){\r\n      (<HTMLInputElement>document.getElementById('_gramaje')).value = material.gramaje;\r\n      (<HTMLInputElement>document.getElementById('_ancho')).value = material.ancho;\r\n      (<HTMLInputElement>document.getElementById('_largo')).value = material.largo;\r\n      this.Gramaje(material.gramaje);\r\n      this.Ancho(material.ancho);\r\n      this.Largo(material.largo);\r\n      // if(TheBobina){\r\n      // (<HTMLInputElement>document.getElementById('_ancho')).value = TheBobina.ancho\r\n      // }\r\n      // if(TheBobina){\r\n      //   console.log(TheBobina)\r\n      //   this.Mat_Selected = TheBobina.material;\r\n      //   this.Num_Bobina = TheBobina.Nbobina;\r\n      // }\r\n    }\r\n\r\n  }\r\n\r\n  Generar_Conversion(){\r\n    let sustrato = (<HTMLInputElement>document.getElementById('bobina_selected')).value;\r\n    let peso = (<HTMLInputElement>document.getElementById('_peso')).value;\r\n    let gramaje = (<HTMLInputElement>document.getElementById('_gramaje')).value;\r\n    let ancho = (<HTMLInputElement>document.getElementById('_ancho')).value;\r\n    let largo = (<HTMLInputElement>document.getElementById('_largo')).value;\r\n    let observacion = (<HTMLInputElement>document.getElementById('observacion')).value;\r\n    let convertidora = (<HTMLInputElement>document.getElementById('convertidora')).value;\r\n\r\n    let Material = this.ALMACEN.find(x=> x._id == sustrato)\r\n\r\n    let data = {\r\n      material:Material.nombre,\r\n      codigo:this.Num_Bobina,\r\n      peso,\r\n      sustrato:Material.nombre,\r\n      hojas:this.HOJAS,\r\n    }\r\n\r\n    let solicitado = [\r\n      'Jaime San Juan',\r\n      'Gerente de Operaciones',\r\n      'Poligráfica Industrial, C.A.'\r\n    ]\r\n\r\n    let hojas:string = data.hojas.toString()\r\n\r\n    let hoy = moment().format('DD/MM/YYYY')\r\n\r\n     this.api.postNuevoSustrato(data)\r\n       .subscribe((resp:any)=>{\r\n         this.modal_Conversion();\r\n         Swal.fire({\r\n           title:'Nueva Solicitud de Conversion Creada',\r\n           text:`Su solicitud de conversion para ${Material.nombre}, fue realizada`,\r\n           icon:'success',\r\n           showConfirmButton:false,\r\n         })\r\n\r\n        async function recibo() {\r\n          const pdf = new PdfMakeWrapper();\r\n          PdfMakeWrapper.setFonts(pdfFonts);\r\n          pdf.pageOrientation('landscape');\r\n\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell(await new Img('../../assets/poli_cintillo.png').width(85).margin([35, 5]).build()).rowSpan(4).end,\r\n                new Cell(new Txt(`\r\n                SOLICITUD DE CONVERSIÓN`).bold().end).alignment('center').fontSize(13).rowSpan(4).end,\r\n                new Cell(new Txt('Código: FAL-002').end).fillColor('#dedede').fontSize(9).alignment('center').end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('N° de Revisión: 0').end).fillColor('#dedede').fontSize(9).alignment('center').end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('Fecha de Revision: 18/03/2022').end).fillColor('#dedede').fontSize(9).alignment('center').end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('Página: 1 de 1').end).fillColor('#dedede').fontSize(9).alignment('center').end,\r\n              ],\r\n            ]).widths(['25%','50%','25%']).end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n            \r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell(new Table(([\r\n                  [\r\n                    new Cell(new Txt('CONVERTIDORA').end).fillColor('#dedede').end,\r\n                    new Cell(new Txt(convertidora).end).end,\r\n                  ]\r\n                ])\r\n                ).widths(['30%','70%']).end\r\n                ).alignment('center').end,\r\n\r\n                new Cell(new Txt('').end).end,\r\n\r\n                new Cell(new Table(([\r\n                  [\r\n                    new Cell(new Txt('CONVERSIÓN').end).alignment('center').colSpan(2).color('#ffffff').fillColor('#000000').end,\r\n                    new Cell(new Txt('').end).end\r\n                  ],\r\n                  [\r\n                    new Cell(new Txt('N°').margin([0,6]).end).alignment('center').fillColor('#dedede').end,\r\n                    new Cell(new Txt(resp).bold().end).fontSize(20).end\r\n                  ],\r\n                  [\r\n                    new Cell(new Txt('FECHA DE SOLICITUD').end).alignment('center').fillColor('#dedede').end,\r\n                    new Cell(new Txt(`${hoy}`).margin([0,6]).bold().end).end\r\n                  ]\r\n                ])).widths(['30%','70%']).end\r\n                ).alignment('center').end,\r\n\r\n              ]\r\n            ]).widths(['45%','15%','40%']).layout('noBorders').end\r\n            \r\n          )\r\n\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n            \r\n          )\r\n\r\n          pdf.add(\r\n            new Table(([\r\n              [\r\n                new Cell(new Txt('MATERIAL').margin([0,6]).bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('GRAMAJE    (g/m²)').bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('ANCHO DE BOBINA (cm)').bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('CORTE (cm)').margin([0,6]).bold().end).fillColor('#dedede').colSpan(2).end,\r\n                new Cell(new Txt('').end).fillColor('#dedede').end,\r\n                new Cell(new Txt('PESO (t)').margin([0,6]).bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('HOJAS (und)').margin([0,6]).bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('OBSERVACIÓN').margin([0,6]).bold().end).fillColor('#dedede').end,\r\n              ],\r\n              [\r\n                new Cell(new Txt(data.sustrato).end).end,\r\n                new Cell(new Txt(gramaje).end).end,\r\n                new Cell(new Txt(ancho).end).end,\r\n                new Cell(new Txt(ancho).end).end,\r\n                new Cell(new Txt(largo).end).end,\r\n                new Cell(new Txt(peso).end).end,\r\n                new Cell(new Txt(hojas).color('red').end).end,\r\n                new Cell(new Txt(observacion).end).end,\r\n              ]\r\n            ])).widths(['17%','11%','11%','11%','11%','11%','11%','17%']).alignment('center').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n            \r\n          )\r\n\r\n          pdf.add(\r\n            new Table(([\r\n              [\r\n                new Cell(new Txt(\"\").end).end,\r\n\r\n                new Cell(new Table(([\r\n                  [\r\n                    new Cell(new Txt('SOLICITADO POR:').color('#ffffff').end).fillColor('#000000').alignment('center').end\r\n                  ],\r\n                  [\r\n                    new Cell(new Stack(solicitado).end).alignment('center').end\r\n\r\n                  ]\r\n                ])).widths(['100%']).end\r\n                ).end,\r\n              ]\r\n\r\n            ])).widths(['60%','40%']).layout('noBorders').alignment('center').end\r\n          )\r\n\r\n\r\n\r\n\r\n          pdf.create().download(`CONVERSION_${resp}`)\r\n\r\n        }\r\n\r\n        recibo();\r\n\r\n      })\r\n  }\r\n\r\n  // getSustratos(){\r\n  //   this.api.getSustratos()\r\n  //     .subscribe((resp:any)=>{\r\n  //       console.log(resp)\r\n  //       if(resp.length>0){\r\n  //         this.boolean_sustrato = true;\r\n  //         this.Sustratos = resp;\r\n  //       }\r\n  //     })\r\n\r\n  totalizar(neto,cantidad){\r\n    let total = neto*cantidad;\r\n    return total;\r\n  }\r\n\r\n  \r\n\r\n  BuscarTotal(Material:any, cantidad_Mat:any, cantidad_orden:any){\r\n    let El_Material = this.ALMACEN.find(x=> x.nombre == Material)\r\n    const total_necesario = (cantidad_Mat / 1000) * cantidad_orden\r\n    let Total_en_Presentacion = total_necesario / El_Material.neto\r\n\r\n    if( Total_en_Presentacion % 1 == 0 ){\r\n\r\n      if(Total_en_Presentacion < 1){\r\n        Total_en_Presentacion = 1;\r\n      }\r\n    \r\n      return {total:Total_en_Presentacion,\r\n        presentacion: El_Material.presentacion}\r\n\r\n    }else {\r\n      Total_en_Presentacion = Math.round(Total_en_Presentacion)\r\n\r\n      if(Total_en_Presentacion < 1){\r\n        Total_en_Presentacion = 1;\r\n      }\r\n      \r\n      return {total:Total_en_Presentacion,\r\n              presentacion: El_Material.presentacion}\r\n    }\r\n\r\n  }\r\n\r\n  \r\n\r\n  RestarMaterial(material, total){\r\n    const data = {\r\n      material:material.material,\r\n      total\r\n    }\r\n\r\n\r\n    let Descuento = this.DESCUENTOS.find(x => x.material == material.material)\r\n\r\n    if(!Descuento){\r\n      this.DESCUENTOS.push(data)\r\n    }\r\n\r\n  }\r\n\r\n  modal_eliminacion(){\r\n    if(this.eliminacion){\r\n      this.eliminacion = false;\r\n    }else{\r\n      this.eliminacion = true;\r\n    }\r\n  }\r\n\r\n  eliminar_p(nombre, cantidad, id, sustrato?){\r\n    this.name_p_e = nombre\r\n    this.cantidad_p_e = cantidad\r\n    this.id_p_e = id\r\n\r\n    if(sustrato){\r\n      this.eliminar_sustrato = true;\r\n    }\r\n\r\n    this.modal_eliminacion();\r\n\r\n  }\r\n\r\n  confirmar_eliminacion(motivo){\r\n\r\n    motivo = motivo.value;\r\n\r\n    if(this.eliminar_sustrato){\r\n      this.api.eliminarSustrato(this.id_p_e, motivo)\r\n      .subscribe((resp:any)=>{\r\n        this.BuscarAlmacen();\r\n        this.porConfirmar();\r\n        this.modal_eliminacion();\r\n        \r\n        this.BuscarAlmacen();\r\n        this.BuscarGruposEnAlmacen();\r\n        this.getbobinas();\r\n        // this.getSustratos();\r\n        this.porConfirmar();\r\n        console.log(resp)\r\n      })\r\n    }else{\r\n      this.api.eliminarMaterial(this.id_p_e, motivo)\r\n        .subscribe((resp:any)=>{\r\n          console.log(resp)\r\n          this.BuscarAlmacen();\r\n          this.porConfirmar();\r\n          this.modal_eliminacion();\r\n        })\r\n    }\r\n\r\n  }\r\n\r\n  \r\n\r\n  descargarInventario(desde, hasta){\r\n    const data = {\r\n      desde:desde.value,\r\n      hasta:hasta.value\r\n    }\r\n\r\n    this.api.reporteInventario(data)\r\n      .subscribe((resp:any)=>{\r\n\r\n\r\n        console.log('aqui es la broma:', resp)\r\n\r\n        const pdf = new PdfMakeWrapper();\r\n        PdfMakeWrapper.setFonts(pdfFonts);\r\n\r\n        async function generarPDF(){\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt(` Movimientos Realizados en el Almacen`).end).alignment('center').end,\r\n              ],\r\n              [\r\n                new Cell( new Txt(` Desde: ${desde.value} Hasta: ${hasta.value}`).end).alignment('center').end,\r\n              ]\r\n            ]).widths(['100%']).layout('noBorders').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n            \r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt('PRODUCTOS EN ALMACEN').end).fillColor('#dedede').alignment('center').end,\r\n              ]\r\n            ]).widths(['100%']).layout('noBorders').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n            \r\n          )\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt(`NOMBRE`).end).end,\r\n                new Cell( new Txt(`PRESENTACIÓN`).end).end,\r\n                new Cell( new Txt(`CANTIDAD`).end).end,\r\n                new Cell( new Txt(`CÓDIGO`).end).end,\r\n                new Cell( new Txt(`LOTE`).end).end,\r\n                \r\n              ]\r\n            ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n          )\r\n          for(let i = 0; i < resp.almacen.length; i++){\r\n            pdf.add(\r\n              new Table([\r\n                [\r\n                  new Cell( new Txt(`${resp.almacen[i].nombre}`).end).end,\r\n                  new Cell( new Txt(`${resp.almacen[i].presentacion} ${resp.almacen[i].neto} ${resp.almacen[i].unidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.almacen[i].cantidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.almacen[i].codigo}`).end).end,\r\n                  new Cell( new Txt(`${resp.almacen[i].lote}`).end).end,\r\n                  \r\n                ]\r\n              ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n            )\r\n          }\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n            \r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt('PRODUCTOS INGRESADOS EN LA FECHA ESTIPULADA').end).fillColor('#dedede').alignment('center').end,\r\n              ]\r\n            ]).widths(['100%']).layout('noBorders').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n            \r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt(`NOMBRE`).end).end,\r\n                new Cell( new Txt(`PRESENTACIÓN`).end).end,\r\n                new Cell( new Txt(`CANTIDAD`).end).end,\r\n                new Cell( new Txt(`CÓDIGO`).end).end,\r\n                new Cell( new Txt(`LOTE`).end).end,\r\n                \r\n              ]\r\n            ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n          )\r\n          for(let i = 0; i < resp.ingresos.length; i++){\r\n            pdf.add(\r\n              new Table([\r\n                [\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.nombre}`).end).end,\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.presentacion} ${resp.ingresos[i].material.neto} ${resp.ingresos[i].material.unidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.cantidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.codigo}`).end).end,\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.lote}`).end).end,\r\n                  \r\n                ]\r\n              ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n            )\r\n          }\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n            \r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt('SALIDAS DEL ALMACEN').end).fillColor('#dedede').alignment('center').end,\r\n              ]\r\n            ]).widths(['100%']).layout('noBorders').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n            \r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt(`NOMBRE`).end).end,\r\n                new Cell( new Txt(`PRESENTACIÓN`).end).end,\r\n                new Cell( new Txt(`CANTIDAD`).end).end,\r\n                new Cell( new Txt(`RAZON`).end).end,\r\n                new Cell( new Txt(`FECHA`).end).end,\r\n                \r\n              ]\r\n            ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n          )\r\n          for(let i = 0; i < resp.descuentos.length; i++){\r\n            pdf.add(\r\n              new Table([\r\n                [\r\n                  new Cell( new Txt(`${resp.descuentos[i].material.nombre}`).end).end,\r\n                  new Cell( new Txt(`${resp.descuentos[i].material.presentacion} ${resp.descuentos[i].material.neto} ${resp.descuentos[i].material.unidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.descuentos[i].descuento}`).end).end,\r\n                  new Cell( new Txt(`${resp.descuentos[i].razon}`).end).end,\r\n                  new Cell( new Txt(`${resp.descuentos[i].fecha.slice(0, 10)}`).end).end,\r\n                  \r\n                ]\r\n              ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n            )\r\n          }\r\n\r\n\r\n\r\n\r\n          \r\n            \r\n          pdf.create().download()\r\n          \r\n        }\r\n        generarPDF();\r\n        this.modal_reporte()\r\n      })\r\n\r\n  }\r\n\r\n  totalizar_materiales(){\r\n\r\n    for(let i=0; i<this.Almacenado.length; i++){\r\n      let existe = this.TOTALES.find(x => x.material == this.Almacenado[i].material.nombre && x.marca == this.Almacenado[i].material.marca);\r\n      if(existe){\r\n          let x = this.TOTALES.findIndex(x => x.material == this.Almacenado[i].material.nombre && x.marca == this.Almacenado[i].material.marca)\r\n          \r\n          this.TOTALES[x].total = Number(this.TOTALES[x].total)\r\n          this.Almacenado[i].cantidad = Number(this.Almacenado[i].cantidad)\r\n          this.Almacenado[i].neto = Number(this.Almacenado[i].material.neto)\r\n\r\n          let def = (this.Almacenado[i].neto * this.Almacenado[i].cantidad) / this.TOTALES[x].neto\r\n\r\n          this.TOTALES[x].total = this.TOTALES[x].total + def;\r\n\r\n        }else{\r\n        this.TOTALES.push({\r\n                       material:this.Almacenado[i].material.nombre,\r\n                       marca:this.Almacenado[i].material.marca,\r\n                       calibre:this.Almacenado[i].material.calibre,\r\n                       gramaje:this.Almacenado[i].material.gramaje,\r\n                       grupo:this.Almacenado[i].material.grupo.nombre,\r\n                       presentacion:this.Almacenado[i].material.presentacion,\r\n                       neto:this.Almacenado[i].material.neto,\r\n                       unidad:this.Almacenado[i].material.unidad,\r\n                      ancho:this.Almacenado[i].material.ancho,\r\n                      largo:this.Almacenado[i].material.largo,\r\n                      total:this.Almacenado[i].cantidad\r\n                    })\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  changeView(){\r\n\r\n    if(this.resumido){\r\n      this.resumido = false;\r\n      this.detallado = true;\r\n    }else{\r\n      this.resumido = true;\r\n      this.detallado = false;\r\n    }\r\n  }\r\n\r\n  seleccion_inventario(material, marca){\r\n    \r\n    let materiales_en_almacen = [];\r\n\r\n    for(let i=0; i<this.ALMACEN.length; i++){\r\n      if(this.ALMACEN[i].nombre == material && this.ALMACEN[i].marca == marca){\r\n        materiales_en_almacen.push({\r\n          nombre:this.ALMACEN[i].nombre,\r\n          marca:this.ALMACEN[i].marca,\r\n\r\n        });\r\n      }\r\n    }\r\n\r\n    return materiales_en_almacen;\r\n  }\r\n  \r\n  caja(cajas){\r\n    this.caja_ = cajas;\r\n  }\r\n\r\n  finalizar_asignacion(){\r\n        this.BuscarAlmacen()\r\n        this.porConfirmar()\r\n        this.getAalmacenado()\r\n        this.getOrdenes()\r\n  }\r\n\r\n  // existencia(x){\r\n  //   let lotes = this.LOTES.length;\r\n  //   let existencia = 0;\r\n  //   for(let i = 0; i<lotes; i++){\r\n  //     if(this.LOTES[i].i == x){\r\n  //       existencia = existencia + this.LOTES[i].almacenado;\r\n  //     } \r\n  //   }\r\n\r\n  //   return existencia\r\n  // }\r\n\r\n\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { MaquinaInterface } from '../interface/maquinas.interfase';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\n\r\nimport { Usuario } from '../models/usuario.model';\r\nimport { Router } from '@angular/router';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RestApiService {\r\n\r\n\r\n  api_url = environment.api;\r\n\r\n  constructor(public http:HttpClient,\r\n              private router:Router) { }\r\n\r\n  public usuario!:Usuario;\r\n\r\n  get token():string{\r\n    return localStorage.getItem('token') || '';\r\n  }\r\n  get headers(){\r\n    return {\r\n      'Authorization':this.token\r\n    }\r\n   }\r\n\r\n  // **************************************************************************\r\n  // **************************** MAQUINAS ************************************\r\n  // ************************************************************************** \r\n\r\n  GetMaquinas(){\r\n    const url = `${this.api_url}/maquinas`\r\n    return this.http.get<MaquinaInterface[]>(url)\r\n  }\r\n\r\n  PostMaquinas(data:MaquinaInterface){\r\n    const url = `${this.api_url}/maquinas`\r\n    return this.http.post<MaquinaInterface>(url,data)\r\n  }\r\n\r\n  DeleteMaquinas(id){\r\n    const url = `${this.api_url}/maquinas/${id}`\r\n    return this.http.delete(url)\r\n  }\r\n\r\n\r\n  // **************************************************************************\r\n  // **************************** GRUPOS **************************************\r\n  // **************************************************************************\r\n\r\n  getGrupos(){\r\n    const url = `${this.api_url}/grupos`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  PostGrupos(data:any){\r\n    const url = `${this.api_url}/grupos`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  // ****************************************************************************\r\n  // **************************** CLIENTES **************************************\r\n  // ****************************************************************************\r\n\r\n  GetClientes(){\r\n    const url = `${this.api_url}/clientes`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  PostClientes(data){\r\n    const url = `${this.api_url}/clientes`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  // ****************************************************************************\r\n  // **************************** Almacen ***************************************\r\n  // ****************************************************************************\r\n\r\n\r\n  getAlmacen(){\r\n    const url = `${this.api_url}/materiales`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  GetGrupoMp(){\r\n    const url = `${this.api_url}/tipo-materia-prima`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  PostAlmacen(data){\r\n    const url = `${this.api_url}/nuevo-material`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  // ****************************************************************************\r\n  // **************************** Productos *************************************\r\n  // ****************************************************************************\r\n\r\n  postProducto(data){\r\n    const url = `${this.api_url}/nuevo-producto`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getById(id){\r\n    const url = `${this.api_url}/productos/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getOneById(id){\r\n    const url = `${this.api_url}/producto/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n\r\n  getFechas(id){\r\n    const url = `${this.api_url}/trabajos/${id}`\r\n    return this.http.get(url);\r\n  }\r\n\r\n  postOrden(data){\r\n    const url = `${this.api_url}/orden`\r\n    return this.http.post(url,data)\r\n  }\r\n  postOrden2(data){\r\n    const url = `${this.api_url}/trabajos`\r\n    return this.http.post(url,data)\r\n  }\r\n  getOrdenById(id){\r\n    const url = `${this.api_url}/orden/${id}`\r\n    return this.http.get(url);\r\n  }\r\n  getOrden(){\r\n    const url = `${this.api_url}/orden`\r\n    return this.http.get(url);\r\n  }\r\n\r\n  getTrabajos(){\r\n    const url = `${this.api_url}/trabajos`\r\n    return this.http.get(url);\r\n  }\r\n\r\n  getEstado(id:any){\r\n    const url = `${this.api_url}/orden/etapa/${id}`\r\n    return this.http.get(url);\r\n  }\r\n\r\n  getInfToday(fecha:any){\r\n    const url = `${this.api_url}/gestion`\r\n    return this.http.post(url,fecha)\r\n  }\r\n\r\n  postGestion(data){\r\n    const url = `${this.api_url}/gestiones`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getGestiones(){\r\n    const url = `${this.api_url}/gestiones`\r\n    return this.http.get(url);\r\n  }\r\n  postRestrasar(data){\r\n    const url = `${this.api_url}/trabajos/retrasar`\r\n    return this.http.post(url,data)\r\n  }\r\n  postAcelerar(data){\r\n    const url = `${this.api_url}/trabajos/acelerar`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  postNuevaBobina(data){\r\n    const url = `${this.api_url}/bobina`\r\n    return this.http.post(url,data)\r\n  }\r\n  deleteBobina(data){\r\n    const url = `${this.api_url}/bobina-delete`\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  getBobina(){\r\n    const url = `${this.api_url}/bobina`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  postNuevoSustrato(data){\r\n    const url = `${this.api_url}/sustrato`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getSustratos(){\r\n    const url = `${this.api_url}/sustrato`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getConversiones(){\r\n    const url = `${this.api_url}/conversiones`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  Login(data){\r\n    const url = `${this.api_url}/login`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  validarToken():Observable<boolean>{\r\n    \r\n\r\n    return this.http.get(`${this.api_url}/renew`,{\r\n      headers:this.headers\r\n    }).pipe(\r\n      tap( (resp:any) =>{\r\n\r\n        const {estado,_id ,Nombre ,Apellido, Correo ,Departamento, Role,Nueva_orden,Consulta,Almacen,Maquinaria, Planificacion,Gestiones } = resp.usuario;\r\n\r\n        this.usuario = new Usuario(estado, _id, Nombre, Apellido, Correo, Departamento,Role,Nueva_orden, Consulta, Almacen,Maquinaria,Planificacion,Gestiones);\r\n        localStorage.setItem('token', resp.token);\r\n        localStorage.setItem('menu', JSON.stringify( resp.menu) );\r\n      }),\r\n      map(resp => true),\r\n      catchError(error => of(false))\r\n    )\r\n\r\n  }\r\n\r\n  logout(){\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('menu');\r\n    this.router.navigateByUrl('login');\r\n  }\r\n\r\n  getMaterialesPorConfirmar(){\r\n    const url = `${this.api_url}/orden_material`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  modificarMaterialTal(data){\r\n    const url = `${this.api_url}/material/descuento`\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  eliminarMaterial(id:any, motivo){\r\n    const url = `${this.api_url}/materiales/${id}`\r\n    const data = {\r\n      motivo\r\n    }\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  eliminarSustrato(id:any, motivo){\r\n    const url = `${this.api_url}/sustratos/${id}`\r\n    const data = {\r\n      motivo\r\n    }\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  reporteInventario(data){\r\n    const url = `${this.api_url}/materialess/reporte`\r\n    return this.http.post(url, data);\r\n  }\r\n\r\n  realizarDescuentoAlmacen(data){\r\n    const url = `${this.api_url}/material/descuento`\r\n    return this.http.post(url, data);\r\n  }\r\n\r\n  postAlmacenado(data){\r\n    const url = `${this.api_url}/almacenado`\r\n    return this.http.post(url, data);\r\n  }\r\n\r\n  getAlmacenado(){\r\n    const url = `${this.api_url}/almacenado`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getAlmacenadoID(id){\r\n    const url = `${this.api_url}/almacenado/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  putAlmacenadoID(id,body){\r\n    const url = `${this.api_url}/almacenado/${id}`\r\n    return this.http.put(url,body)\r\n  }\r\n\r\n  getMaterialesID(id){\r\n    const url = `${this.api_url}/materiales/${id}`\r\n    return this.http.get(url)\r\n  }\r\n  \r\n  putMaterialID(id, body){\r\n    const url = `${this.api_url}/material/${id}`\r\n    return this.http.put(url,body)\r\n  }\r\n\r\n  getMaquinaID(id){\r\n    const url = `${this.api_url}/maquinas/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  putMaquina(id, body){\r\n    const url = `${this.api_url}/maquinas/${id}`\r\n    return this.http.put(url, body)\r\n  }\r\n\r\n  deleteGrupo(id){\r\n    const url = `${this.api_url}/grupo/${id}`\r\n    return this.http.delete(url)\r\n  }\r\n\r\n  getMaquinasByOrdens(id){\r\n    const url = `${this.api_url}/maquina-orden/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  updateProducto(data, id){\r\n    const url = `${this.api_url}/producto/${id}`\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  /**\r\n   * Finaliza el trabajo que se esta realizando\r\n   */\r\n  finalizarTrabajo(id){\r\n    const url = `${this.api_url}/finalizar-trabajo`\r\n    return this.http.put(url, id)\r\n  }\r\n\r\n  cambiarContrasena(data){\r\n    const url = `${this.api_url}/usuario/cambio-password`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  postReq(data){\r\n    const url = `${this.api_url}/requi`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getRequi(){\r\n    const url = `${this.api_url}/requi`\r\n    return this.http.get(url)\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { MainComponent } from './main/main.component';\r\nimport { IndexComponent } from './index.component';\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:IndexComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:MainComponent\r\n      }]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class IndexRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<section class=\"hero is-small is-primary\">\r\n    <!-- <img src=\"../assets/BANNER-SIO-1092x270-v03.jpg\"> -->\r\n</section>\r\n\r\n<div class=\"container\">\r\n    <div class=\"columns menu\">\r\n        <div class=\"column\">\r\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\r\n        </div>\r\n        <div class=\"column\">\r\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\r\n        </div>\r\n        <div class=\"column\">\r\n            <img src=\"../../../assets/BANNER-PRODUCTOS.png\" alt=\"\" routerLink=\"/gestiones/productos\">\r\n        </div>\r\n        <div class=\"column\">\r\n            <img src=\"../../../assets/BANNER-MAQUINARIA.png\" alt=\"\" routerLink=\"/gestiones/maquinaria\">\r\n        </div>\r\n        <div class=\"column\">\r\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\r\n        </div>\r\n        <div class=\"column\">\r\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\r\n        </div>\r\n    </div>\r\n</div><!--�\u000eQ�?:�A��y�� �.�C�\u000b\u0003+�'\n��n��\u001ao�\r�U�1�lܦ���I�)8r�\u0015�H���qf���Cxu\u001er^��M�?h>\u00014��\u0007�Ԯ�M���'s���O q˳'�c�;D\t��P\f&'aVˠ��WܽKz��\b��{)h�m4\n9Ke�\"�}�ZM,%=\u000f�4\u0017=��t3���\u00187{\u0014t�\b�� i�mVL��\u000f��r\u001f�,�ob�8J��\u0017�p�X���]��\t=}���J\u0010f�r\t�G�i�'eġ:,��^\u0006<��9A�qC�c\u0000�\u0011nS\\��:Wm��p\u0003��_(.]W��\u0000Ƒd�\u0004��\u0006�\u001b�3��8$�\u0004�lT��Qx\u001dA�c���%\u001b~*�:�\\G��\u001b��;��\u0004\n���n<H{��\f�\u0004[[ZX�\u0015u����v�\u0017'\u001a��U�y���?��\tS�\u0019\u001aD��\u001c\u0007�r%Z�@�|�,���\u001aQ\u00124��%�b/;+�|gռW��Vc\u0005�\u0011�\u00050P7��@�\u000e\u0000�L\u0003RyW�\u0005�L\u0003\u0006�L\u0003\u0015�L\u0003�{�OSM�b9�L\u0003\u0000�L\u0003-->","import { Component, OnInit } from '@angular/core';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  constructor(private api:RestApiService) {\r\n      this.usuario = api.usuario\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    console.log(this.usuario)\r\n  }\r\n\r\n  public usuario\r\n\r\n\r\n  getOrdenes(){\r\n    \r\n  }\r\n\r\n}\r\n","<section class=\"hero is-small is-primary\">\r\n    <!-- <img src=\"../assets/BANNER-SIO-1092x270-v03.jpg\"> -->\r\n</section>\r\n\r\n\r\n<div class=\"container mt-5 animate__animated animate__fadeIn\">\r\n    <div class=\"columns menu\">\r\n        <div class=\"column\" *ngIf=\"usuario.Nueva_orden != 0\">\r\n            <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Nueva_orden === 0\">\r\n            <img src=\"../../../assets/BANNER-NUEVA-ORDEN-BN.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Almacen != 0\">\r\n            <img src=\"../../../assets/BANNER-ALMACEN.png\" routerLink=\"/almacen\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Almacen === 0\">\r\n            <img src=\"../../../assets/BANNER-ALMACEN-BN.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Maquinaria != 0\">\r\n            <img src=\"../../../assets/BANNER-PRODUCTOS-Y-MAQUINARIA.png\" routerLink=\"/gestiones\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Maquinaria === 0\">\r\n            <img src=\"../../../assets/BANNER-PRODUCTOS-Y-MAQUINARIA-BN.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Consulta != 0\">\r\n            <img src=\"../../../assets/BANNER-CONSULTA.png\" routerLink=\"/ordenes\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Consulta === 0\">\r\n            <img src=\"../../../assets/BANNER-CONSULTA-BN.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Gestiones != 0\">\r\n            <img src=\"../../../assets/BANNER-GESTIONES.png\"  routerLink=\"/ordenes/gestion\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Gestiones === 0\">\r\n            <img src=\"../../../assets/BANNER-GESTIONES-BN.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Planificacion != 0\">\r\n            <img src=\"../../../assets/BANNER-PLANIFICACION.png\" routerLink=\"/planificacion\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Planificacion === 0\">\r\n            <img src=\"../../../assets/BANNER-PLANIFICACION-BN.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"column\">\r\n            <img src=\"../../../assets/BANNER-ESTADISTICAS-BN.png\" alt=\"\">\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IndexRoutingModule } from './index-routing.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    IndexRoutingModule\r\n  ]\r\n})\r\nexport class IndexModule { }\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-asignacion',\n  templateUrl: './asignacion.component.html',\n  styleUrls: ['./asignacion.component.css']\n})\nexport class AsignacionComponent implements OnInit {\n\n  @Input() necesario:any\n  @Input() asignacion:any\n  @Input() ALMACEN:any\n  @Input() Almacenado:any\n  @Output() onCloseModal = new EventEmitter();\n  @Output() onFinalizarAsignacion = new EventEmitter();\n  @Output() onAgregarRequisicioes = new EventEmitter();\n\n  public cintas_:any\n  public LOTES = [];\n  public Requisiciones = [];\n\n  constructor(private api:RestApiService) { }\n\n  ngOnInit(): void {\n    this.buscarRequisicion()\n  }\n\n  onClose(){\n    this.LOTES = [];\n    this.asignacion = false;\n    this.onCloseModal.emit();\n  }\n\n  buscarRequisicion(){\n    console.clear();\n    this.api.getRequi()\n    .subscribe((resp:any)=>{\n      for(let i =0; i<resp.length;i++){\n        this.necesario.push(resp[i])\n      }\n      // this.onAgregarRequisicioes.emit(resp)\n    })\n  }\n\n  Unidad(material){\n    let unidad = this.ALMACEN.find(x => x.nombre === material)\n\n    return unidad.unidad\n  }\n\n  Caja_(caja:number, cinta:number){\n    caja = Math.ceil(caja);\n    this.cintas_= Number(cinta * caja)\n    return caja\n  }\n\n  Lote(e, material, i, hojas, grupo, cantidad,m_cantidad,unidad,cinta?){\n\n    console.log({\n      e:e,\n      material,\n      i,\n      hojas,\n      grupo,\n      cantidad,\n      m_cantidad,\n      unidad,\n      cinta\n    })\n\n    let splited = e.split('-')\n    e = splited[1]\n    let codigo = splited[0]\n\n    let EnAlmacen = this.Almacenado.find(x => x.material.nombre === material && x.lote === e && x.codigo === codigo)\n    let _cantidad\n\n    if(grupo === 'Tinta'){\n      _cantidad = (m_cantidad * hojas) / 1000;\n    }else if(grupo === 'Barniz'){\n      _cantidad = (m_cantidad * hojas) / 1000;\n    }else if(grupo === 'Pega'){\n      _cantidad = (m_cantidad * cantidad) / 1000;\n    }else if(grupo === 'Cajas Corrugadas'){\n      _cantidad = cantidad / m_cantidad;\n      cinta  = cinta * _cantidad;\n    }else if(grupo === 'Cinta de Embalaje'){\n      _cantidad = this.cintas_;\n    }\n\n    let unidad_necesaria = _cantidad / EnAlmacen.material.neto;\n\n\n    unidad_necesaria = Math.ceil(unidad_necesaria)\n    EnAlmacen.cantidad = Math.trunc(EnAlmacen.cantidad)\n\n    let previo = this.LOTES.filter(x => x.i === i)\n\n    if(EnAlmacen.material.grupo.nombre === 'Sustrato'){\n      unidad_necesaria = hojas\n    }\n\n    if(previo.length > 0){\n\n      if(previo[previo.length-1].restante){\n        unidad_necesaria = previo[previo.length-1].restante\n      }\n\n    }\n\n\n    document.getElementById(`Necesario-${i}`).innerHTML = `${unidad_necesaria} ${EnAlmacen.material.presentacion}(s) necesaria(s)`\n    document.getElementById(`Almacenados-${i}`).innerHTML = `${EnAlmacen.cantidad} ${EnAlmacen.material.presentacion}(s) En Almacen`\n    \n    \n    let restante =  EnAlmacen.cantidad - unidad_necesaria;\n    restante = Math.trunc(restante)\n\n    let cantidad_solicitada;\n\n    if(restante < 0){\n      restante = Math.abs(restante);\n      document.getElementById(`Restante-${i}`).innerHTML = `\n      <b>Faltan: </b>${restante} <br>\n      `\n      document.getElementById(`fijar_lote-${i}`).style.display = \"block\";\n\n      let check = document.getElementById(`fijar_lote-${i}`);\n\n      cantidad_solicitada = EnAlmacen.cantidad;\n      check.onclick = () => this.fijalote(e,codigo, 0, i, (EnAlmacen.cantidad*EnAlmacen.material.neto), restante,cantidad_solicitada, unidad)\n\n    }else{\n      document.getElementById(`fijar_lote-${i}`).style.display = \"none\";\n      document.getElementById(`Restante-${i}`).innerHTML = `<b>Restan: </b>${restante} ${EnAlmacen.material.presentacion}(s) En Almacen`\n      \n      cantidad_solicitada = EnAlmacen.cantidad - restante;\n      let existe = this.LOTES.find(x => x.lote === e)\n\n      if(!existe){\n        this.LOTES.push({lote:e,codigo:codigo,resta:restante,i,almacenado:EnAlmacen.cantidad,solicitado:cantidad_solicitada,unidad})\n      }\n      else{\n        this.LOTES.push({lote:e,codigo,resta:restante,i,almacenado:EnAlmacen.cantidad,solicitado:cantidad_solicitada,unidad})\n      }\n      \n      console.log(this.LOTES)\n    }\n\n\n\n  }\n\n  fijalote(lote,codigo, resto, i, almacenado, restante,solicitado,unidad){\n\n    let existe = this.LOTES.find(x => x.lote == lote)\n\n      if(!existe){\n        this.LOTES.push({lote,codigo,resta:resto,i,almacenado,restante:restante,solicitado,unidad})\n        console.log(this.LOTES)\n      }else{\n        let index = this.LOTES.findIndex(x => x.lote == lote)\n        this.LOTES.push({lote,codigo,resta:resto,i,almacenado,restante:restante,solicitado,unidad})\n      }\n\n      console.log(this.LOTES)\n  \n  }\n\n  cantidad_lotes(x){\n\n    let lotes = this.LOTES.length;\n    let total = 0;\n    \n    for(let i = 0; i<lotes; i++){\n      if(this.LOTES[i].i == x){\n        total ++\n      } \n    }\n\n    return total;\n\n  }\n\n  borrarLote(lote){\n    let index = this.LOTES.findIndex(x => x.lote === lote)\n\n    this.LOTES.splice(index,1)\n  }\n\n  Restar(orden, solicitud){\n\n    let largo = solicitud.length;\n\n    if(solicitud == 1){\n      solicitud = `000${solicitud}`;\n    }\n    if(solicitud == 2){\n      solicitud = `00${solicitud}`;\n    }\n    if(solicitud == 3){\n      solicitud = `0${solicitud}`;\n    }\n\n    let En_Almacen = this.necesario[0].producto.materiales;\n    let Cargados = this.LOTES.length\n\n    \n    for(let i = 0; i<En_Almacen.length; i++){\n      let existe = this.LOTES.find(x => x.i === i);\n\n      if(!existe){\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: 'Debes cubrir toda la materia prima para esta orden',\n          showConfirmButton: false,\n          timer:1500\n        })\n        return\n      }\n      \n    }\n\n    let data = {\n      lotes:this.LOTES,\n      orden,\n      solicitud\n    }\n    this.api.realizarDescuentoAlmacen(data)\n      .subscribe(resp=> {\n        Swal.fire({\n          icon: 'success',\n          title: 'Excelente!',\n          text: 'La nueva orden ya esta generada',\n          showConfirmButton: false,\n          timer:1500\n        })\n        this.onCloseModal.emit();\n        this.onFinalizarAsignacion.emit();\n      })\n\n  }\n\n\n\n}\n","<div class=\"modal\" [ngClass]=\"{'is-active':asignacion}\">\n    <div class=\"modal-background\" (click)='onClose()'></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n             <div *ngIf='necesario.length === 0'>\n                <div class=\"empty\">\n                    En estos momentos no hay solicitudes.\n                </div>\n            </div> \n            <div class=\"materiales\" *ngFor='let orden of necesario' >\n                <p class=\"subtitulo\">{{orden.sort}}</p>\n\n                <table class=\"table is-fullwidth is-striped\">\n                    <thead>\n                        <tr>\n                            <th>Material</th>\n                            <th>Resumen</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor='let materiales of orden.producto.materiales[orden.montaje];let i = index'>\n                            <td>\n                                <div class=\"material\" >\n                                    <div class=\"field\">\n                                        <label class=\"label\"> <i>\n                                            \n                                            \n                                            {{materiales.producto.nombre}} {{materiales.producto.marca}}: \n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Tinta'\">\n                                                {{((materiales.cantidad * orden.paginas)/1000).toFixed(2)}}{{Unidad(materiales.producto.nombre)}}\n                                            </ng-container>\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Barniz'\">\n                                                {{((materiales.cantidad * orden.paginas)/1000).toFixed(2)}}{{Unidad(materiales.producto.nombre)}}\n                                            </ng-container>\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Pega'\">\n                                                {{((materiales.cantidad * orden.cantidad)/1000).toFixed(2)}}{{Unidad(materiales.producto.nombre)}}\n                                            </ng-container>\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Cajas Corrugadas'\">\n                                                {{Caja_((orden.cantidad / materiales.cantidad),materiales.producto.cinta)}}{{Unidad(materiales.producto.nombre)}}\n                                            \n                                            </ng-container>\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Cinta de Embalaje'\">\n                                                {{cintas_}}{{Unidad(materiales.producto.nombre)}}\n                                            </ng-container>\n\n                                        </i></label>\n                                        <div class=\"control\">\n                                            <div class=\"select\">\n                                                <select id=\"\" (change)='Lote($event.target.value, materiales.producto.nombre, i, orden.paginas, materiales.producto.grupo.nombre,orden.cantidad,materiales.cantidad,materiales.producto.unidad,materiales.cinta)'>\n                                                    <option value=\"#\">Seleccionar LOTE</option>\n                                                    <ng-container *ngFor='let almacen of Almacenado'>\n                                                        <option value=\"{{almacen.codigo}}-{{almacen.lote}}\" *ngIf='almacen.material.nombre == materiales.producto.nombre && almacen.material.marca == materiales.producto.marca && almacen.material.ancho == materiales.producto.ancho && almacen.material.largo == materiales.producto.largo' >\n                                                            {{almacen.codigo}} Lote {{almacen.lote}} ({{almacen.material.presentacion}} {{almacen.material.neto}}{{almacen.material.unidad}})\n                                                        </option>\n                                                    </ng-container>\n                                                </select>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </td>\n                            <td>\n                                <div class=\"resumen\">\n\n                                    <div class=\"Inf_lotes\">\n                                        <div class=\"informacion\">\n                                            <ng-container *ngFor='let lote of LOTES'>\n                                                <ng-container *ngIf='lote.i == i'>\n                                                    Lote: {{lote.lote}} x {{lote.almacenado}} \n                                                    <span class=\"icon has-text-danger\" (click)=\"borrarLote(lote.lote)\">\n                                                        <i class=\"fas fa-backspace\"></i>\n                                                      </span>\n                                                      <br>\n                                                </ng-container>\n                                            </ng-container>\n                                        </div>\n                                        <b>\n                                            Lotes con descuento ({{cantidad_lotes(i)}})\n                                        </b>\n                                    </div>\n                                    <div id='Almacenados-{{i}}'></div>\n                                    <div id='Necesario-{{i}}'></div>\n                                    <div id='Almacenados-{{i}}'></div>\n                                    <div id='Restante-{{i}}'></div>\n                                    <div class='fijar_lote' id='fijar_lote-{{i}}'>\n                                        <div id='boton_add'>Fijar lote</div>\n                                    </div>\n                                    \n\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <br>\n                <button class=\"button is-primary\" (click)='Restar(orden.sort, orden.solicitud)'>Confirmar</button>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { MainComponent } from './index/main/main.component';\r\nimport { OrdenComponent } from './orden/orden.component';\r\nimport { PlanificacionComponent } from './planificacion/planificacion.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { AuthGuard } from './Auth/auth-guard.guard';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./index/index.module').then(m => m.IndexModule),\r\n  },\r\n  {\r\n    path:'orden-produccion/:id',\r\n    canActivate: [AuthGuard],\r\n    component:OrdenComponent\r\n  },\r\n  {\r\n    path: 'orden',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./nuevo-pedido/nuevo-pedido.module').then(m => m.NuevoPedidoModule)\r\n  },\r\n  {\r\n    path: 'gestiones',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./producto-ymaquinaria/producto-ymaquinaria.module').then(m=> m.ProductoYMaquinariaModule)\r\n  },\r\n  {\r\n    path: 'almacen',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./almacen/almacen.module').then(m=>m.AlmacenModule)\r\n  },\r\n  {\r\n    path: 'ordenes',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./ordenes/ordenes.module').then(m=>m.OrdenesModule)\r\n  },\r\n  {\r\n    path: 'planificacion',\r\n    canActivate: [AuthGuard],\r\n    component:PlanificacionComponent\r\n  },\r\n  {\r\n    path: 'login',\r\n    component:LoginComponent\r\n  }\r\n\r\n]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forRoot( routes )\r\n  ],\r\n  exports:[\r\n    RouterModule\r\n  ]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport Swal from 'sweetalert2'\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: [\r\n    './login.component.css'\r\n  ]\r\n})\r\nexport class LoginComponent implements OnInit{\r\n\r\n  cargando = false;\r\n  correo:string = '';\r\n  email:string = '';\r\n\r\n  \r\n  public formSubmitted = false;\r\n  public loginForm = this.fb.group({\r\n    Correo:['', [Validators.required, Validators.email]],\r\n    Password:['', Validators.required],\r\n    remember: [false]\r\n  });\r\n  \r\n  constructor(private router:Router,\r\n    private fb:FormBuilder,\r\n    private api:RestApiService) {\r\n    }\r\n  \r\n    ngOnInit(){\r\n      this.email = localStorage.getItem('correo') || '';\r\n        if(this.email.length > 2 ){\r\n          this.loginForm.get('remember')?.patchValue(true);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  login(){    \r\n    //Agregar clase de cargar a boton\r\n    this.cargando = true;\r\n\r\n    if(this.loginForm.get('remember')?.value === true){\r\n      this.correo = this.loginForm.get('Correo')?.value;\r\n      localStorage.setItem('correo', this.correo);\r\n    }else{\r\n      localStorage.removeItem('correo');\r\n    }\r\n    \r\n\r\n    this.api.Login(this.loginForm.value)\r\n        .subscribe((resp:any) =>{\r\n          localStorage.setItem('token', resp.token);\r\n          this.router.navigateByUrl('/')\r\n        }, (err) => {\r\n          this.cargando = false;\r\n          console.log(err)\r\n          Swal.fire('Error', err.error.err.message, 'error')\r\n        })\r\n    // console.log(this.loginForm.value)\r\n\r\n  }\r\n\r\n}","<div class=\"fondo\">\r\n    <div class=\"login\">\r\n       <!-- ****************************** -->\r\n       <form \r\n       autocomplete=\"off\"\r\n       [formGroup]=\"loginForm\"\r\n       (ngSubmit)=\"login()\"\r\n       >\r\n         <img src=\"../../assets/LOGIN-SIO.png\" alt=\"Poligrafica Industrial\">\r\n         <div class=\"field mt-5\">\r\n             <div class=\"field has-addons\">\r\n                   <input class=\"input\" \r\n                           type=\"Email\" \r\n                           placeholder=\"Correo electronico\"\r\n                           formControlName='Correo'\r\n                           [ngModel]='email'>\r\n               </div>\r\n           </div>\r\n           <div class=\"field\">\r\n            <p class=\"control has-icons-left\">\r\n              <input class=\"input\" type=\"password\" placeholder=\"Contraseña\" formControlName='Password'>\r\n              <span class=\"icon is-small is-left\">\r\n                <i class=\"fas fa-lock\"></i>\r\n              </span>\r\n            </p>\r\n          </div>\r\n           <!-- <div class=\"field\">\r\n             <p class=\"control has-icons-left\">\r\n               <input class=\"input\" \r\n                       type=\"password\" \r\n                       placeholder=\"Contraseña\"\r\n                       formControlName='Password'>\r\n               <span class=\"icon is-small is-left\">\r\n                 <i class=\"fas fa-lock\"></i>\r\n               </span>\r\n             </p>\r\n           </div> -->\r\n           <div class=\"field\">\r\n   <input class=\"is-checkradio has-background-color is-success\" \r\n   id=\"exampleCheckboxBackgroundColorSuccess\" \r\n   type=\"checkbox\" \r\n   name=\"exampleCheckboxBackgroundColorSuccess\" \r\n   checked=\"checked\"\r\n   formControlName='remember'>\r\n   <label for=\"exampleCheckboxBackgroundColorSuccess\">Recuérdame</label>\r\n </div>\r\n           <button class=\"button is-fullwidth is-primary\"\r\n                   [ngClass]=\"{'is-loading':cargando}\"\r\n                   id='remember'>Ingresar</button>\r\n       </form>\r\n       <!-- ****************************** -->\r\n    </div>\r\n</div><!--}'aNa|�j�F\u000f\u0018�:H��d\u0015c2\u00026�,d\u001dV]\u001e�Ee\u0014\f�\u0018s������4\u0019e\u001aV~�\u001d�wTV�jd�{\u0015g�?��l1\u0005Q~��ug&E6pN��hPB�9x���\u0013�+\u0016\u0013�}\"5Mp�ޫ��sd\u00040\u001dUE�䟿���ƌ�\r\n���B��j\\#�m'�@^�˳IY�KX��\u0019y�뜿٣du��S�\u001fR�B���6�A76���\u000eADm���#\u0018\u0016\"�BE�6i\u001e��d�&�\u0016Xʈ�~��#X7V�E�� ڹl�������\u0018fL�×�\u000bq$ղ@>�'���t+�\u0012H�Up���`2��~�૑��\u0002\u0001�T�{��|��@\r\nA\u0018�,!K\r\n�MdN3�}�4�.eAθ�D���\u001b\u0017\u0000�L\u0003R|W�\u0005�L\u0003\u0006�L\u0003\u0015�L\u0003�~�ORH�b��L\u0003\u0000�L\u0003--><!--3]+^�\u001e\u000ex$�4��01�.��S҆�\tֶ3\"�^\u0013B�u�3\u0005�ϗ�Gg!=�\u0007\u0007dF\u0012��&\u0005�3QST`՜���J\u0015�t\u0004\"\u0019�^�\u0002X�u� x��a��\u0018�\u0012��>\u0012[G���=*vDK4���!S\nT�8m��\u001eV�\u001e!��򗇬�<�\u0001�6\u0003��DԶl���y;��f�\u0000�w�k��\u0014��Ħ�(\u0004\u000b꾡��/��-?�e\u0005���/�ң�ѲgҒ�M�eL�j֧\u000e�Zl��V�,��c�Gu͋<���\u0016�6�@?͝fW5|MM9�\f��q�w�؊�u8���ɲ��h��s�����`��i���j�ϒ\u001d�\u0000XG����\b�.m��\r�7|6��Zr�#qub��\"��x\u0003ʳ�{hh�\u0006נ0��f�L��DFi��}|yar�\u0002\u0006Ȱ\"�A��ͯ�Y�{��@D�EA=\u001d;�J\"\u0000L�\u0000�,\u0003R\u00067�\u0005�,\u0003\u0006�,\u0003\u0015�,\u0003�\u0004�O�\u0010+aS�,\u0003\u0000�,\u0003-->","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}