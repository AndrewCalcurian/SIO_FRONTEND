{"version":3,"sources":["webpack:///src/app/ordenes/despachos/despachos.component.ts","webpack:///src/app/ordenes/despachos/despachos.component.html","webpack:///src/app/producto-ymaquinaria/productos/productos.component.ts","webpack:///src/app/producto-ymaquinaria/productos/productos.component.html","webpack:///src/app/producto-ymaquinaria/maquinaria/maquinaria.component.ts","webpack:///src/app/producto-ymaquinaria/maquinaria/maquinaria.component.html","webpack:///src/app/almacen/almacen-routing.module.ts","webpack:///src/app/models/usuario.model.ts","webpack:///src/app/ordenes/gestion/solcitud/solcitud.component.ts","webpack:///src/app/ordenes/gestion/solcitud/solcitud.component.html","webpack:///src/app/producto-ymaquinaria/producto-ymaquinaria.module.ts","webpack:///src/app/Auth/twoStep.guard.ts","webpack:///src/app/producto-ymaquinaria/producto-ymaquinaria-routing.module.ts","webpack:///src/app/estadisticas/estadisticas.component.ts","webpack:///src/app/estadisticas/estadisticas.component.html","webpack:///src/app/cotizacion/gestion/gestion.component.ts","webpack:///src/app/cotizacion/gestion/gestion.component.html","webpack:///src/app/laboratorio/index/index.component.ts","webpack:///src/app/laboratorio/index/index.component.html","webpack:///src/app/laboratorio/laboratorio.component.ts","webpack:///src/app/laboratorio/laboratorio.component.html","webpack:///src/app/cotizacion/main/main.component.ts","webpack:///src/app/cotizacion/main/main.component.html","webpack:///src/environments/environment.ts","webpack:///src/app/laboratorio/materia-prima/materia-prima.component.ts","webpack:///src/app/laboratorio/materia-prima/materia-prima.component.html","webpack:///src/app/ordenes/gestion/despacho/despacho.component.ts","webpack:///src/app/ordenes/gestion/despacho/despacho.component.html","webpack:///src/app/producto-ymaquinaria/producto-ymaquinaria.component.ts","webpack:///src/app/producto-ymaquinaria/producto-ymaquinaria.component.html","webpack:///src/app/cotizacion/cotizacion.module.ts","webpack:///src/app/shared/navbar/navbar.component.ts","webpack:///src/app/shared/navbar/navbar.component.html","webpack:///src/app/almacen/almacen.module.ts","webpack:///src/app/estadisticas/adicionales/adicionales.component.ts","webpack:///src/app/estadisticas/adicionales/adicionales.component.html","webpack:///src/app/services/subir-archivos.service.ts","webpack:///src/app/Auth/auth-guard.guard.ts","webpack:///src/app/ordenes/ordenes-routing.module.ts","webpack:///src/app/ordenes/gestion/gestion.component.ts","webpack:///src/app/ordenes/gestion/gestion.component.html","webpack:///src/app/estadisticas/gestiones/gestiones.component.ts","webpack:///src/app/estadisticas/gestiones/gestiones.component.html","webpack:///src/app/nuevo-pedido/consulta-orden/consulta-orden.component.ts","webpack:///src/app/nuevo-pedido/consulta-orden/consulta-orden.component.html","webpack:///src/app/laboratorio/laboratorio-routing.module.ts","webpack:///src/app/ordenes/main/main.component.ts","webpack:///src/app/ordenes/main/main.component.html","webpack:///src/app/ordenes/gestion/devolucion/devolucion.component.ts","webpack:///src/app/ordenes/gestion/devolucion/devolucion.component.html","webpack:///src/app/shared/shared.module.ts","webpack:///src/app/laboratorio/producto-terminado/producto-terminado.component.ts","webpack:///src/app/laboratorio/producto-terminado/producto-terminado.component.html","webpack:///src/app/cotizacion/cotizacion-routing.module.ts","webpack:///src/app/ordenes/ordenes.component.ts","webpack:///src/app/ordenes/ordenes.component.html","webpack:///src/app/nuevo-pedido/nuevo-pedido.module.ts","webpack:///src/app/laboratorio/laboratorio.module.ts","webpack:///src/app/almacen/almacen.component.ts","webpack:///src/app/almacen/almacen.component.html","webpack:///src/app/orden/orden.component.html","webpack:///src/app/orden/orden.component.ts","webpack:///node_modules/moment/locale sync ^\\.\\/.*$","webpack:///src/app/nuevo-pedido/main/main.component.ts","webpack:///src/app/nuevo-pedido/main/main.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/planificacion/planificacion.component.ts","webpack:///src/app/planificacion/planificacion.component.html","webpack:///src/app/cotizacion/etiqueta/etiqueta.component.ts","webpack:///src/app/cotizacion/etiqueta/etiqueta.component.html","webpack:///src/app/nuevo-pedido/index/index.component.ts","webpack:///src/app/nuevo-pedido/index/index.component.html","webpack:///src/app/nuevo-pedido/nuevo-pedido.component.ts","webpack:///src/app/nuevo-pedido/nuevo-pedido.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/pipe/unicos.pipe.ts","webpack:///src/app/index/index.component.ts","webpack:///src/app/index/index.component.html","webpack:///src/app/nuevo-pedido/orden-compra/orden-compra.component.ts","webpack:///src/app/nuevo-pedido/orden-compra/orden-compra.component.html","webpack:///src/app/cotizacion/pre-facturacion/pre-facturacion.component.html","webpack:///src/app/cotizacion/pre-facturacion/pre-facturacion.component.ts","webpack:///src/app/nuevo-pedido/nuevo-pedido-routing.module.ts","webpack:///src/app/estadisticas/estadisticas-routing.module.ts","webpack:///src/app/estadisticas/main/main.component.ts","webpack:///src/app/estadisticas/main/main.component.html","webpack:///src/app/estadisticas/consumo/consumo.component.ts","webpack:///src/app/estadisticas/consumo/consumo.component.html","webpack:///src/app/token-validation/token-validation.component.ts","webpack:///src/app/token-validation/token-validation.component.html","webpack:///src/app/bar-chart/bar-chart.component.html","webpack:///src/app/bar-chart/bar-chart.component.ts","webpack:///src/app/ordenes/ordenes.module.ts","webpack:///src/app/estadisticas/estadisticas.module.ts","webpack:///src/app/almacen/main/confirmacion/confirmacion.component.ts","webpack:///src/app/almacen/main/confirmacion/confirmacion.component.html","webpack:///src/app/almacen/main/main.component.html","webpack:///src/app/almacen/main/main.component.ts","webpack:///src/app/services/rest-api.service.ts","webpack:///src/app/index/index-routing.module.ts","webpack:///src/app/ordenes/detalles/detalles.component.ts","webpack:///src/app/ordenes/detalles/detalles.component.html","webpack:///src/app/laboratorio/main/main.component.ts","webpack:///src/app/laboratorio/main/main.component.html","webpack:///src/app/producto-ymaquinaria/main/main.component.ts","webpack:///src/app/producto-ymaquinaria/main/main.component.html","webpack:///src/app/index/main/main.component.ts","webpack:///src/app/index/main/main.component.html","webpack:///src/app/estadisticas/despachos/despachos.component.ts","webpack:///src/app/estadisticas/despachos/despachos.component.html","webpack:///src/app/index/index.module.ts","webpack:///src/app/almacen/main/asignacion/asignacion.component.ts","webpack:///src/app/almacen/main/asignacion/asignacion.component.html","webpack:///src/app/app-routing.module.ts","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.component.html","webpack:///src/app/cotizacion/consulta-facturacion/consulta-facturacion.component.ts","webpack:///src/app/cotizacion/consulta-facturacion/consulta-facturacion.component.html","webpack:///src/main.ts","webpack:///src/app/cotizacion/cotizacion.component.ts","webpack:///src/app/cotizacion/cotizacion.component.html","webpack:///$_lazy_route_resource lazy namespace object"],"names":["DespachosComponent","api","onCloseModal","Ordenes_seleccionadas","dated","Almacenes_edicion","Almacen__","hoy","format","despacho","emit","orden","select","ORDENES","find","x","sort","existe","op","push","producto","cantidad","cantidad_o","oc","destino","almacen","index","findIndex","splice","e","i","date","observacion","console","log","Selected","BuscarAlmacenes","subscribe","resp","almacenes","fire","title","showDenyButton","showCancelButton","confirmButtonText","denyButtonText","icon","then","result","isConfirmed","fecha_m","PostDespacho","fecha","onClose","text","showConfirmButton","isDenied","Orden_Selected","Observar","selector","templateUrl","styleUrls","ProductosComponent","subirArchivo","fb","baseUrl","NUEVO_CLIENTE","MATERIALES_NECESARIOS","NUEVO_PRODUCTO","EJEMPLARES","POST","SUSTRATO","Sus_Done","dimensiones","_producto_seleccionado","montajes","i_montajes","i_montajes_","necesidad","listo","cinco","seis","siete","ocho","new_almacen","cargando","VER_PRODUCTO","OneProduct","cliente","nombre","codigo","grupo","_id","version","ejemplares","fibra","post","sustrato","marca","calibre","gramaje","materiales","ClienteForm","group","required","rif","direccion","contactos","contactoInput","item_Selected","Nombre_contact","enable_contact","Cargo_contact","Edit_cliente","edicion","EDITAR_PRODUCTO","usuario","obtenerGrupodeMateriales","BuscarGruposEnAlmacen","obtenerClientes","obtenerMateriales","obtenerGrupos","cliente_id","document","getElementById","value","n","event","ImgSubir","target","files","getElementsByClassName","innerHTML","name","a","b","c","d","cargo","email","trato","actualizarFoto","img","verProducto","product_selected","hidden","clase","toString","disabled","MATERIALES","reduce","map","obj","set","Map","values","Included","includes","indexOf","TROQUEL","Math","abs","buscar","input","campo","focus","buscarSiExiste","material","nuevo","id","data","GetGrupoMp","GRUPOS_MATERIA","GetClientes","CLIENTES","clientes","get","setValue","invalid","timer","PostClientes","reset","getAlmacen","getGrupos","GRUPOS","grupos","valor","inde","SECCIONES","cod_cliente","postProducto","Modal_Producto","buscar_producto","ancho","tamano","length","largo","DirFibra","pop","cliente_selected","style","display","addEventListener","putCliente","getById","PRODUCTOS","productos","Material","size","updateProducto","editar","getOneById","Modal_Producto_E","material2","deleted","ImageProducto","ver_Modal_Producto","Modal_Cliente","addCliente","nombre_cont","cargo_cont","email_cont","agregarContactoNuevo","add_almacen","post_impresion","Ejemplar","finalizar","CambiarImagen","subirImagen","cambiarCalculo","editar_producto","MaquinariaComponent","NUEVA_MAQUINA","NUEVO_GRUPO","MAQUINAS","FUNCIONES","FASES","EDITAR_MAQUINA","maquinaForm","tipo","colores","cph","ObtenerMaquinas","Edicion_Modal_Maquina","getMaquinaID","MaquinaID","toUpperCase","putMaquina","position","PostMaquinas","GetMaquinas","maquinas","obtenerTipos","confirmButtonColor","cancelButtonColor","cancelButtonText","BorrarMaquina","EliminarGrupo","deleteGrupo","DeleteMaquinas","este","nuevoTipo","tipos","PostGrupos","Modal_Maquina","nuevaMaquina","Modal_Grupo","agregarTipo","routes","path","component","children","AlmacenRoutingModule","forChild","declarations","imports","Usuario","estado","Nombre","Apellido","Correo","Departamento","Role","Nueva_orden","Consulta","Almacen","Maquinaria","Planificacion","Gestiones","Despacho","Estadisticas","Precios","pin","SolcitudComponent","Otro","por_confirmar","_materiales","almacenado","mat","getAlmacenado","filter","bs_","toLowerCase","getGRupos","Orden_seleccionada","orden_selected","montaje","undefined","solicitud","requisicion","motivo","aprobado","getAlmacenadoID2","Number","toFixed","postReq","iteration","_i","num","materiales_fr","TraerMateriales","ProductoYMaquinariaModule","TwoStep","router","route","state","ValidarVerificacion","pipe","isAuth","navigateByUrl","providedIn","ProductoYMaquinariaRoutingModule","EstadisticasComponent","GestionComponent","escalas","carga_clientes","nueva_columna_","consulta_precios","producto_seleccionado","newTable","input_precio","escala","agregar","Descripcion","desc","Ordenes","carga_ordenes","Despachos","cargar_despachos","cargar_previo","Escala","PrecioXunidad","cargo_productos","tasa","Nueva_Escala","putIntervalo","intervalos","El_producto","descripcion","precio","GetEscalaByCliente","Cliente_selected","tets","getEscala","montaj","postEscala","getDespachosbyOrden","separado","split","producto_selected","cantidad_selected","GetOneEscala","MonitorBCV","split_dolar","Escalas","escalas_modal","cancelar_intervalo","DeleteEscala","Intl","NumberFormat","IndexComponent","LaboratorioComponent","MainComponent","environment","production","MateriaPrimaComponent","Materiales","sustrato_modal","tinta_modal","fuente_modal","caja_modal","plancha_modal","Edited_sustrato","Edited_fuente","Edited_caja","Edited_plancha","preparacion_tinta","test","Sustrato","Tintas","Quimicos","Cajas","Planchas","OTRO","New_Sustrato","New_color","caja_","_Sustrato","_Tintas","_Solucion","_Cajas","_Plancha","InventarioForm","presentacion","unidad","neto","color","cinta","NewControl","preparacion_pendiente","buscarAlmacen","Gs","PostAlmacen","Modal_Almacen","timerProgressBar","fuente_selected","caja_selected","plancha_selected","info","teq","updateManyMateriales","ECT","chemical","ph","conductividad","sustrato_selected","gramaje_e","calibre_e","cobb","curling","blancura","tinta_selected","preparacion","putAgregarformula","modal_tintas_","Sustrato__","Tintas__","Cajas__","Solucion__","Plancha__","Almacenar","Cambio_opciones","DespachoComponent","ProductoYMaquinariaComponent","CotizacionModule","NavbarComponent","usuarioService","cambio_cont","pass1","pass2","logout","correo","pass","cambiarContrasena","cambiar","AlmacenModule","AdicionalesComponent","SubirArchivosService","api_url","archivo","url","formData","FormData","append","fetch","method","headers","localStorage","getItem","body","json","ok","err","message","AuthGuard","validarToken","OrdenesRoutingModule","TRABAJOS","NUEVA_GESTION","FASE","HOY","jo","edit","devolucion","almacen__","Tarea","getMaquinas","getGestiones","getOrdenes","getDespachos","cadena","factura","substr","y","PutDespachos","checked","documento","certificado","parcial","iterator","BuscarAlmacen","PutDespacho","GetDespacho","getOrden","fecha_formateada","value_hojas","separator","Ejemplares","value_productos","ceil","maquina","trabajo","dias","postRestrasar","fechaI","fecha_lapsos","fechaI_lapso","lapso","diff","postAcelerar","fase","hojas_","productos_","gest","GESTIONES","hojas","CompararTama","restante","long","_productos","_hojas","Actual","redondear","Rproductos","Rhojas","postGestion","modal_nueva_gestion","getTrabajos","Long","finalizarTrabajo","calcular_Productos","calcular_Hojas","GestionesComponent","closemodal","modal_gestiones","g_trabajos","g_gestiones","ConsultaOrdenComponent","selected","all_","getOrdenesDeCompra","Orden","width","putOrdenesDeCompra","MostarOrden","LaboratorioRoutingModule","detalle","loading","obtenerTrabajos","reverse","orden_detalle","orden_id","cantidad_d","cantidad_do","estado2","DevolucionComponent","repeticion","Data_devolucion","getLotes","devoluciones","final","dataArr","Set","orden_","slice","malas","id_","String","filtrado","lote","iter","_lote","_codigo","comparativa","postDevolucion","putCerrarLotes","seleccionarMateriales","SharedModule","exports","ProductoTerminadoComponent","canActivate","CotizacionRoutingModule","OrdenesComponent","NuevoPedidoModule","LaboratorioModule","AlmacenComponent","OrdenComponent","snapshot","paramMap","getOrdenById","PRODUCTO","demasia","paginas","ejemplares_montados","paginas_sin_demasia","hojas_imprimir","hojas_demasia","inputAttributes","autocapitalize","showLoaderOnConfirm","preConfirm","login","response","Error","error","showValidationMessage","allowOutsideClick","isLoading","getMaquinasByOrdens","Maquinas","putOrden","EditarOrden","z","fecha_o","utc","fecha_s","cantidad_","NumToLet","maquinasDB","peliculas","tintas","barniz","cantidad_barniz","b_name","b_marc","b_und","cant_barniz","pega","cantidad_pega","pega_nombre","pega_marca","pega_unidad","cant_pega","caja","cant_cajas","cinta_","cantidad_cajas","Nombre_sustrato","tintas_color","tintas_marca","Estandar_de_color","e_c","peli","cantidad_tinta","tinta","pdf","setFonts","generarPDF","margin","build","rowSpan","end","bold","alignment","fontSize","fillColor","widths","add","ln","colSpan","layout","border","i_ancho","i_largo","create","download","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","keys","webpackContextKeys","Object","resolve","module","NUEVA_ORDEN","cs","ps","os","Cantidad_ejemplares","Ejemplares_montados","Fases","SinMaterial","oc_","fo_","ae_","observacion_","TOTALES","total","CANTIDAD","_CANTIDAD","restantes","OrdenesDeCompra","demasia_","Almacenado","OrdenesdeCompra","aja","OrdenSelected","ordenesFiltered","CLIENTE","ALMACEN","totalizar_materiales","indexOF","ProductodeProductos","Cantidad_de_orden","Fecha_solicitada","Fecha_S","fecha_recepcion","respuesta","OC","Demasia","sinMarca","cantidades","necesario","EnAlmacen","def","resto","restantes_","SUSTRATO_EN_ALMACEN","buscar_tintas","resta","modal_nueva_orden","getFechas","HorasAgregadas","fecha_","after","isAfter","MaquinaSelected2","hoymas3","orden_compra","ordencompra","postOrden","fases","Data","pos","postOrden2","navigate","OrdenDeCompraSeleccionada","Cantidad","Fecha_s","cambios","AppComponent","PlanificacionComponent","cargado","week","ObtenerDespachos","mes","ano","getDaysFromDate","obtenerOrdenes","month","year","months","startDate","endDate","clone","endOf","dateSelect","diffDays","numberDays","round","arrayDays","Array","parseInt","dayObject","indexWeek","isoWeekday","monthSelect","flag","prevDate","subtract","nextDate","day","monthYear","parse","objectDate","dateValue","funcion","betas","despach","funcion_","changeMonth","Impreso","EtiquetaComponent","ordenes","valido","loaded","visto","getDespachados","Despachados","__orden__","getOrdenById2","__Cajas","__orden","__gestiones","gestiones","trabajos","__producto_por_caja","isInteger","trunc","gestion","cantidad__","unidades__","sustrado","puntoYcoma","copias","ImprimirPDF","seleccionar_orden","copyTags","NuevoPedidoComponent","AppModule","provide","useValue","providers","bootstrap","UnicosPipe","pure","OrdenCompraComponent","producto__","ORDEN_COMPRA","Fecha_entrega","_Fecha_entrega","Loaded","__Fecha","DATOS","produc","_i_","fecha_entrega","postOrdenDeCompra","PreFacturacionComponent","Observacion","Validacion","Modificacion","ModificaciondeEscala","ModificaciondePrecio","resumido","resumen","INDEX","confirmed","tipo_documento","n_documento","numero_facturacion","fecha_facturacion","Facturacion","getDespachosYOrdenes","preFacuracion","Tasa","Modificacion_close","buscarEscala","nueva","search","findLast","closeModal","facturado","codigo_name","procesos","incluye","Date","getDate","dia","getMonth","getFullYear","firma","escale","precioUSD","precioBS","SubtotalUSD","SubtotalBS","cargos","Numer","pre","aumentoPre","italics","closeFacturacion","confirmar","Editar_Cantidad_en_OC","Editar_Cantidad_despachada","modificarModal","habilitarBoton","resumir","NuevoPedidoRoutingModule","EstadisticasRoutingModule","Lotes","despachos","requisiciones","adicionales","sinBusqueda","vacio","Tinta","Amarillo","Cyan","Magenta","Negro","Otros_c","Barniz_load","Cajas_loading","Pega_loading","modal_despacho","despachos_filtrado","Devolucion_Barniz","producto_form","clientes_form","DetallesTinta","Sustratos_suma","total_sustrato","Sustrato_load","detalles_sustratos","detalles_tintas","peso_carton","peso_hojas","Tinta_load","Suma_Tintas","c_lotes","c_devoluciones","lote_mayor","modal_consumos","detalles_pega","detalles_barniz","D_Negro","D_Amarillo","D_Cyan","D_Magenta","D_Pantone","D_Tintas","scrollIntoView","Ej_montados","consumos","GetDespachoByOrden","despachos_orden","descuento","Producto_select","Marca","Barniz","Pega","Devolucion_Pega","Caja","Devolucion_Caja","devoluciones_totales","salida","labels","Pega_chart","destroy","type","datasets","label","backgroundColor","borderColor","hoverOffset","cajas","Caja_chart","maxBarThickness","borderWidth","xAxisID","options","indexAxis","plugins","legend","scales","beginAtZero","ticks","maxTicksLimit","barniz_char","Total_Barniz","Devolucion_Total_barniz","Total_barniz_acuoso","sustrato_char","asignados","Papel","Carton","Productos_by_client","busqueda_clientes","busqueda_orden","chart","detalle_tintas","Colores_devueltos","Pantone","aspectRatio","yAxisID","Ancho","Largo","Calibre","Gramaje","w","all","peso","EA_Cantidad","Trabajos","cant","desde","hasta","EstadisticasOrden","mensaje","lotes","Adicionales","sumaDevoluciones","createChart","SustratoChar","BarnizChart","CajasChart","PegaChart","client","alert","dev","len","busquedaInteligente","ConsumoComponent","devoluc","TokenValidationComponent","nuevo_pin","sin_autorizar","pin1","pin2","crearPin","TwoStepsValidation","setItem","token_two","BarChartComponent","Edicion","inicio","registros","formato_","GetOneProducto","repeat","show","array","impresora_aprobada","troqueladora_aprobada","guillotina_aprobada","pegadora_aprobada","diseno_producto","diseno_montaje","direccion_fibra","unidades_tonelada","area","porcentaje","tamano_sustrato","Area_impresion","Desperdicio","replace","paletizado","distribucion","aereo","producto_cerrado","tamano_cerrado","generarEspecificacion","pageOrientation","pageSize","tamano_desplegado","pageBreak","DescargarPDF","OrdenesModule","EstadisticasModule","ConfirmacionComponent","onReset","buscarPendientes","getRequiEspera","Pendiente","confirmacion","UpdateRequi","DeleteRequi","fileName","detallado","PESO","GRAMAJE","ANCHO","LARGO","HOJAS","PESO_","GRAMAJE_","ANCHO_","LARGO_","HOJAS_","empty","CONVERSION","BOBINAS","CONSULTAB","boolean_sustrato","_NUEVO_PRODUCTO","EDICION_ALMACEN","DESCUENTOS","eliminacion","eliminar_sustrato","reporte","_bobina","descontar_b","codigoID","loteID","cantidadID","pedido","asignacion","_Almacenado","Editar_NUEVO_PRODUCTO","listFiltered","_bobina_","Dev_","Bobillas","searchTerm$","OnDestroy$","BobinaForm","Nbobina","convertidora","_sustratos_","Test_UniqueObjectNewMap_valuesAsArr","_calibre_","_gramajes_","_ancho_","precioID","Edition__","Edition__2","ButtonsEdit","Bobina_index","SUSTRATO_CONVERSION","BobinasSencillas","conversiones","I_f","I_r","getAalmacenado","porConfirmar","Buscar_conversiones","getbobinas","getDevolucion","filterList","next","term","item","DeleteDevolucion","Modal_Devolucion","putDevolucion","Devoluciones","getMaterialesPorConfirmar","seccion","existencia","sustratos","newArray_test","UniqueArrayforMarca","Test_UniqueObject","Test_UniqueObjectNewMap","Test_UniqueObjectNewMap_keys","Test_UniqueObjectNewMap_values","splitted","e1","MaterialID","Modal_Almacen_ep","getMaterialesID","putMaterialID","edit_almacen","getAlmacenadoID","AlmacenadoId","selecciona_producto","putAlmacenadoID","buscarSustratos","bobina","bobina__","numero","deleteBobina","descontar_bobina","BOBINAS_","putBobinas","postAlmacenado","Nuevo_producto","otro","splited","postNuevaBobina","Modal_bobinas","Convertidora","BobinasEnConvertidora","getBobina","sumada","getConversiones","Num_Bobina","solicitado","postNuevoSustrato","modal_Conversion","recibo","cantidad_Mat","cantidad_orden","El_Material","total_necesario","Total_en_Presentacion","Descuento","name_p_e","cantidad_p_e","id_p_e","modal_eliminacion","eliminarSustrato","eliminarMaterial","reporteInventario","ingresos","descuentos","razon","modal_reporte","materiales_en_almacen","Requisicion","finalizar_asignacion","agregarRequisicion","Almacenes","almacenar","check_bobinas","nuevaBobina","buscarGramaje","buscarCalibre","buscarAncho","seleccionar_material","Buscar_Bobina","Peso","Generar_Conversion","Hojas_","Gramaje_","Ancho_","Largo_","confirmar_eliminacion","descargarInventario","RestApiService","http","token","JSON","stringify","menu","headers2","removeItem","put","IndexRoutingModule","DetallesComponent","CargarOrdenes","dato","updateTrabajo","buscarTrabajos","buscarGestiones","buscarDespachos","BuscarMaquinas","CerrarOrden","gestiones_","Total_Despachado","ids","ready","chart_rendimiento","perdida","rendimiento","asignadas","ctx","getContext","percent","sumaCantidades","showChart","IndexModule","AsignacionComponent","onFinalizarAsignacion","onAgregarRequisicioes","cintas_","LOTES","Requisiciones","buscarRequisicion","getRequi","exist","necesaria","m_cantidad","Mname","_cantidad","_cinta_","unidad_necesaria","Descuentos","previo","thisShit","cantidad_solicitada","check","onclick","fijalote","requi","En_Almacen","Cargados","_existe","realizarDescuentoAlmacen","loadChildren","m","AppRoutingModule","forRoot","LoginComponent","formSubmitted","loginForm","Password","remember","patchValue","Login","ConsultaFacturacionComponent","Clientes","m_cliente","m_fecha","m_orden","Total_Bs","Total_USD","Total_Bs_N","Total_USD_N","Facturas","Notas","NOTAS","getDespachadoTodos","ObtenerClientes","element","classList","remove","getDespachoFechas","charAt","getDespachoCliente","Select_opcion","bootstrapModule","CotizacionComponent","webpackEmptyAsyncContext","Promise"],"mappings":"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","file":"main-es5.js","sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport * as moment from 'moment';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-despachos',\n  templateUrl: './despachos.component.html',\n  styleUrls: ['./despachos.component.css']\n})\nexport class DespachosComponent implements OnInit {\n\n  @Input() despacho:any\n  @Input() ORDENES:any\n  @Output() onCloseModal = new EventEmitter();\n\n  public Ordenes_seleccionadas = [];\n  public dated:boolean = false;\n  public date;\n  public hoy;\n\n  constructor(private api:RestApiService) { }\n\n  ngOnInit(): void {\n    this.hoy = moment().format('yyyy-MM-DD');\n  }\n\n  onClose(){\n    this.despacho = false;\n    this.onCloseModal.emit();\n  }\n\n  Orden_Selected(orden){\n    // console.log()\n    let select = this.ORDENES.find(x => x.sort === orden)\n    if(select){\n      let existe = this.Ordenes_seleccionadas.find(x => x.op === orden)\n      if(!existe){\n\n        this.Ordenes_seleccionadas.push(\n          {\n            op:select.sort,\n            producto:select.producto.producto,\n            cantidad:select.cantidad_o,\n            oc:select.orden,\n            destino:select.almacen\n          })\n        }\n    }\n  }\n\n  eliminar_Selected(op){\n    let index = this.Ordenes_seleccionadas.findIndex(x => x.op === op)\n    this.Ordenes_seleccionadas.splice(index, 1);\n  }\n\n  change_value(e, i){\n    this.Ordenes_seleccionadas[i].cantidad = e;\n    // console.log(this.Ordenes_seleccionadas)\n  }\n\n  fecha(e){\n    if(!e){\n      this.dated = false\n    }else{\n      this.dated = true;\n      this.date = e;\n    }\n  }\n  public observacion;\n  Observar(e){\n    this.observacion = e;\n    console.log(this.observacion)\n  }\n\n  public Almacenes_edicion = []\n  public Almacen__:boolean = false;\n  public Selected;\n  BuscarAlmacen(producto, i){\n    this.Almacenes_edicion = [];\n    this.Almacen__ = true;\n    this.Selected = i;\n    this.api.BuscarAlmacenes(producto)\n      .subscribe((resp:any)=>{\n        console.log(resp)\n        this.Almacenes_edicion.push(resp.almacenes)\n        console.log(this.Almacenes_edicion)\n        return resp;\n      })\n  }\n\n  SeleccionarAlmacen(e,i){\n    if(e != '#'){\n      this.Ordenes_seleccionadas[i].destino = e\n      this.Almacen__ = false\n    }else{\n      return\n    }\n  }\n\n  despachar(){\n    Swal.fire({\n      title: '¿Generar nuevo despacho y notificar al equipo?',\n      showDenyButton: true,\n      showCancelButton: false,\n      confirmButtonText: 'Si, generar',\n      denyButtonText: `Cancelar`,\n      icon:'question'\n    }).then((result) => {\n      /* Read more about isConfirmed, isDenied below */\n      if (result.isConfirmed) {\n        let fecha_m = moment(this.date).format('DD-MM-yyyy')\n\n        this.api.PostDespacho({fecha:fecha_m,\n                               despacho:this.Ordenes_seleccionadas,\n                               observacion:this.observacion})\n          .subscribe((resp:any)=>{\n\n            this.date = '';\n            this.dated = false;\n            this.Ordenes_seleccionadas = [];\n            this.onClose();\n            Swal.fire({title:'Generado!', text:'', icon:'success',showConfirmButton:false,})\n          })\n      } else if (result.isDenied) {\n        Swal.fire({\n          title:'Verifica la información',\n          text:'Puedes verificar la información y planificar un despacho, cuando quieras',\n          icon:'info',\n          showConfirmButton:false,\n        })\n      }\n    })\n  }\n\n\n}\n","<div class=\"modal\" [ngClass]=\"{'is-active':despacho}\">\n    <div class=\"modal-background\" (click)='onClose()'></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <div class=\"subtitulo\">\n                Planificar despachos\n            </div>\n            <hr>\n            <div class=\"columns\">\n                <div class=\"column is-3\">\n                    <div class=\"control\">\n                        <label class=\"label\">Fecha del despacho</label>\n                        <input type=\"date\" class=\"input\" (change)=\"fecha($event.target.value)\" [min]=\"hoy\">\n                    </div>\n                </div>\n                <div class=\"column is-3\">\n                    <div class=\"control\">\n                        <label class=\"label\">Seleccionar Orden</label>\n                        <div class=\"select\">\n                            <select name=\"\" id=\"\" (change)=\"Orden_Selected($event.target.value)\">\n                                <option value=\"0\" >Seleccionar Orden</option>\n                                <option value=\"{{orden.sort}}\" *ngFor=\"let orden of ORDENES.reverse()\">{{orden.sort}}</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"column\" *ngIf=\"Ordenes_seleccionadas.length > 0 && dated\">\n                    <div class=\"control\">\n                        <label for=\"\" class=\"label\"> </label>\n                        <button class=\"button is-success\" (click)=\"despachar()\">Notificar despacho</button>\n                    </div>\n                </div>\n            </div>\n            <hr>\n            <table class=\"table is-fullwidth\">\n                <thead>\n                    <tr>\n                        <th>Orden producción</th>\n                        <th>Producto</th>\n                        <th>Cantidad</th>\n                        <th>Orden de compra</th>\n                        <th>Destino</th>\n                        <th> </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor=\"let despachos of Ordenes_seleccionadas;index as i\">\n                        <td>{{despachos.op}}</td>\n                        <td>{{despachos.producto}}</td>\n                        <td>\n                            <input type=\"number\" class=\"input\" (change)=\"change_value($event.target.value, i)\" value=\"{{despachos.cantidad}}\" max=\"{{despachos.cantidad}}\" >\n                        </td>\n                        <td>{{despachos.oc}}</td>\n                        <td>\n                            <ng-container *ngIf=\"!Almacen__ || Selected != i\">\n                                {{despachos.destino}}\n                                <i class=\"fas fa-map-marker-alt\" (click)=\"BuscarAlmacen(despachos.producto, i)\"></i>\n                            </ng-container>\n                            <ng-container *ngIf=\"Almacen__ && Selected === i\">\n                                <div class=\"select\">\n                                    <select name=\"\" id=\"\" (change)=\"SeleccionarAlmacen($event.target.value, i)\">\n                                        <option value=\"#\">Seleccionar Almacen</option>\n                                        <option value=\"{{almacen}}\" *ngFor=\"let almacen of Almacenes_edicion[0]\">{{almacen}}</option>\n                                    </select>\n                                </div>\n                            </ng-container>\n                        </td>\n                        <td>   <i class=\"fas fa-trash-alt\" (click)=\"eliminar_Selected(despachos.op)\"></i></td>\n                    </tr>\n                </tbody>\n            </table>\n            <textarea class=\"textarea is-info\" placeholder=\"Observación\" rows=\"2\" (change)=\"Observar($event.target.value)\"></textarea>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport Swal from 'sweetalert2';\r\nimport { Subscriber, timer } from 'rxjs';\r\nimport { SubirArchivosService } from 'src/app/services/subir-archivos.service';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-productos',\r\n  templateUrl: './productos.component.html',\r\n  styleUrls: ['./productos.component.css']\r\n})\r\nexport class ProductosComponent implements OnInit {\r\n\r\n  baseUrl = environment.api\r\n\r\n  public NUEVO_CLIENTE:boolean = false;\r\n  public CLIENTES;\r\n  public MATERIALES;\r\n  public MATERIALES_NECESARIOS = [];\r\n  public NUEVO_PRODUCTO:boolean = false;\r\n  public GRUPOS;\r\n\r\n  public ImageProducto;\r\n\r\n  public EJEMPLARES = [];\r\n  public POST = [];\r\n  public TROQUEL\r\n\r\n  public SECCIONES;\r\n\r\n  public GRUPOS_MATERIA;\r\n\r\n  public PRODUCTOS;\r\n  public SUSTRATO = [];\r\n\r\n  public Sus_Done:boolean = false;\r\n\r\n  public dimensiones = []\r\n\r\n  product_selected;\r\n  _producto_seleccionado:boolean = false;\r\n\r\n  montajes = 1;\r\n  i_montajes = 0;\r\n  i_montajes_ = 0;\r\n\r\n  necesidad = 0;\r\n  listo:boolean = true;\r\n  \r\n  cinco:boolean = true;\r\n  seis:boolean = true;\r\n  siete:boolean = true;\r\n  ocho:boolean = true;\r\n\r\n  public ImgSubir:File;\r\n\r\n\r\n  almacenes = [];\r\n  public new_almacen = ''\r\n  public cargando = false;\r\n\r\n  public VER_PRODUCTO:boolean = false;\r\n  OneProduct:any = {producto:'',\r\n                          cliente:{\r\n                            nombre:'',\r\n                            codigo:''\r\n                          },\r\n                          grupo:{_id:''},\r\n                          codigo:'',\r\n                          version:'',\r\n                          ejemplares:[],\r\n                          dimensiones:'',\r\n                          fibra:'',\r\n                          post:[],\r\n                          sustrato:[{\r\n                            nombre:'',\r\n                            marca:'',\r\n                            calibre:'',\r\n                            gramaje:''\r\n                          }],\r\n                          materiales:[]};\r\n\r\n  ClienteForm:FormGroup = this.fb.group({\r\n    nombre:['',Validators.required],\r\n    codigo:['',Validators.required],\r\n    rif:['J-',Validators.required],\r\n    direccion:['',Validators.required],\r\n    almacenes:['', Validators.required],\r\n    contactos:['',Validators.required]\r\n  })\r\n\r\n  constructor(private api:RestApiService,\r\n              private subirArchivo:SubirArchivosService,\r\n              private fb:FormBuilder) { \r\n                this.usuario = api.usuario\r\n              }\r\n\r\n  ngOnInit(): void {\r\n    this. obtenerGrupodeMateriales();\r\n    this.BuscarGruposEnAlmacen();\r\n    this.obtenerClientes();\r\n    this.obtenerMateriales();\r\n    this.obtenerGrupos();\r\n    let cliente_id = (<HTMLInputElement>document.getElementById('cliente_Seleccionado')).value;\r\n    // this.buscar_producto(cliente_id);\r\n  }\r\n  public usuario\r\n\r\n  NumToLet(n){\r\n    switch(n)\r\n    {\r\n        case 0: return \"A\";\r\n        case 1: return \"B\";\r\n        case 2: return \"C\";\r\n        case 3: return \"D\";\r\n        case 4: return \"E\";\r\n        case 5: return \"F\";\r\n        case 6: return \"G\";\r\n        case 7: return \"H\";\r\n        case 8: return \"I\";\r\n    }\r\n\r\n  }\r\n\r\n  CambiarImagen( event:any ){\r\n    this.ImgSubir = (event.target).files[0];\r\n    document.getElementsByClassName('file-name')[0].innerHTML = this.ImgSubir.name;\r\n  }\r\n\r\n  public contactos = []\r\n  public contactoInput:boolean = false;\r\n  agregarContactoNuevo(a,b,c,d){\r\n    this.contactoInput = true;\r\n    this.contactos.push({nombre:a,cargo:b,email:c,trato:d});\r\n    (<HTMLInputElement>document.getElementById('Nombre_cn')).value = '';\r\n    (<HTMLInputElement>document.getElementById('Cargo_cn')).value = '';\r\n    (<HTMLInputElement>document.getElementById('Email_cn')).value = '';\r\n    return\r\n  }\r\n\r\n  contact_delete(i){\r\n    this.contactos.splice(i,1)\r\n  }\r\n\r\n  subirImagen(){\r\n    this.cargando = true;\r\n    this.subirArchivo.actualizarFoto(this.ImgSubir, 'producto', this.OneProduct._id )\r\n    .then(img => {\r\n      if(img){\r\n        this.usuario.img = img;\r\n        document.getElementsByClassName('file-name')[0].innerHTML = 'Sin archivo...';\r\n        this.ImgSubir = null;\r\n      }\r\n      this.verProducto(this.OneProduct._id)\r\n      this.verProducto(this.OneProduct._id)\r\n      this.cargando = false;\r\n      });\r\n  }\r\n\r\n  public item_Selected = null\r\n  producto_seleccionado(e){\r\n    if(e === 0){\r\n      this._producto_seleccionado = false;\r\n    }else{\r\n      this.item_Selected = e\r\n      this._producto_seleccionado = true;\r\n      if(this.product_selected == 'Sustrato'){\r\n        this._producto_seleccionado = false;\r\n        document.getElementById('cant').hidden = true;\r\n      }else{\r\n        this._producto_seleccionado = true;\r\n        document.getElementById('cant').hidden = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  selecciona_producto(e){\r\n    let clase = this.i_montajes.toString()\r\n    if(e === \"#\"){\r\n      (<HTMLInputElement>document.getElementById(clase)).disabled = true;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById(clase)).disabled = false;\r\n      // alert(clase)\r\n      this.product_selected = e;\r\n      if(this.product_selected != 'Sustrato'){\r\n        this.MATERIALES = [...this.MATERIALES.reduce((map, obj) => map.set({nombre:obj.nombre,marca:obj.marca}, obj), new Map()).values()];\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  selecciona_producto2(e){\r\n    let clase = this.i_montajes_.toString()\r\n    if(e == 0){\r\n      (<HTMLInputElement>document.getElementById(`x-${clase}`)).disabled = true;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById(`x-${clase}`)).disabled = false;\r\n      this.product_selected = e;\r\n      if(this.product_selected != 'Sustrato'){\r\n        this.MATERIALES = [...this.MATERIALES.reduce((map, obj) => map.set({nombre:obj.nombre,marca:obj.marca}, obj), new Map()).values()];\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  post_impresion(e){\r\n    let Included = this.POST.includes(e);\r\n    if(!Included){\r\n      this.POST.push(e);\r\n    }else{\r\n      let i = this.POST.indexOf(e)\r\n      this.POST.splice(i, 1)\r\n    }\r\n\r\n    // console.log(this.POST)\r\n  }\r\n\r\n  troquel(e){\r\n    this.TROQUEL = e.target.value;\r\n  }\r\n\r\n  Ejemplar(e){\r\n    if(!this.EJEMPLARES[this.i_montajes]){\r\n      this.EJEMPLARES[this.i_montajes] = ''\r\n    }\r\n    this.EJEMPLARES[this.i_montajes] = e;\r\n  }\r\n\r\n  public Modal_Cliente(){\r\n    if(this.NUEVO_CLIENTE){\r\n      this.NUEVO_CLIENTE = false;\r\n    }else{\r\n      this.NUEVO_CLIENTE = true;\r\n    }\r\n  }\r\n\r\n  public Modal_Producto(){\r\n    if(this.NUEVO_PRODUCTO){\r\n      this.NUEVO_PRODUCTO = false;\r\n    }else{\r\n      this.NUEVO_PRODUCTO = true;\r\n    }\r\n  }\r\n\r\n  public ver_Modal_Producto(){\r\n    if(this.VER_PRODUCTO){\r\n      this.VER_PRODUCTO = false;\r\n    }else{\r\n      this.VER_PRODUCTO = true;\r\n      this.i_montajes = 0;\r\n      this.listo = true;\r\n    }\r\n  }\r\n\r\n  sumaTintas(n){\r\n\r\n    if(this.listo){\r\n      this.listo = false;\r\n      this.necesidad = n - 5;\r\n      return n + Math.abs(this.necesidad);\r\n    }else{\r\n      return n + Math.abs(this.necesidad);\r\n    }\r\n  }\r\n\r\n  cambiarCalculo(){\r\n    this.listo = true;\r\n  }\r\n\r\n  add_almacen(){\r\n    this.almacenes.push(this.new_almacen)\r\n    this.new_almacen = ''\r\n  }\r\n\r\n  delete_this_almacen(i){\r\n    let buscar = this.almacenes.find(x => x == i)\r\n    let index = this.almacenes.indexOf(buscar)\r\n    this.almacenes.splice(index,1)\r\n  }\r\n\r\n  enable(input){\r\n    let campo = (<HTMLInputElement>document.getElementById(input)).disabled;\r\n\r\n    if(campo){\r\n      (<HTMLInputElement>document.getElementById(input)).disabled = false;\r\n      (<HTMLInputElement>document.getElementById(input)).focus();\r\n    } else {\r\n      (<HTMLInputElement>document.getElementById(input)).disabled = true;\r\n      let buscarSiExiste = this.MATERIALES_NECESARIOS.find(c => c.material == input);\r\n      if(buscarSiExiste){\r\n        let index = this.MATERIALES_NECESARIOS.indexOf(buscarSiExiste)\r\n        this.MATERIALES_NECESARIOS.splice(index, 1)\r\n      }\r\n  }\r\n}\r\n\r\njust_a_sec(e){\r\n  let nuevo = this.MATERIALES_NECESARIOS.find(c => c.material == e.target.id);\r\n  let index;\r\n  if(!nuevo){\r\n    let data = {\r\n      material:e.target.id,\r\n      cantidad:e.target.value\r\n    }\r\n\r\n    this.MATERIALES_NECESARIOS.push(data)\r\n  }else{\r\n    index = this.MATERIALES_NECESARIOS.indexOf(nuevo)\r\n    this.MATERIALES_NECESARIOS[index].cantidad = e.target.value\r\n  }\r\n}\r\n\r\n  obtenerGrupodeMateriales(){\r\n    this.api.GetGrupoMp()\r\n      .subscribe((resp:any)=>{\r\n        this.GRUPOS_MATERIA = resp;\r\n      })\r\n  }\r\n  obtenerClientes(){\r\n    this.api.GetClientes()\r\n      .subscribe((resp:any) =>{\r\n        this.CLIENTES = resp.clientes\r\n      })\r\n  }\r\n\r\n  public Nombre_contact:boolean = false;\r\n  nombre_cont(e){\r\n    if(e === ''){\r\n      this.Nombre_contact = false\r\n    }\r\n    else{\r\n      this.Nombre_contact = true\r\n    }\r\n  }\r\n\r\n  public enable_contact:boolean = false\r\n  email_cont(e){\r\n    if(e === ''){\r\n      this.enable_contact = false\r\n    }\r\n    else{\r\n      this.enable_contact = true\r\n    }\r\n  }\r\n\r\n  public Cargo_contact:boolean = false\r\n  cargo_cont(e){\r\n    if(e === ''){\r\n      this.Cargo_contact = false\r\n    }else{\r\n      this.Cargo_contact = true\r\n    }\r\n  }\r\n\r\n  addCliente(){\r\n\r\n    if(this.contactoInput){\r\n      this.contactoInput = false;\r\n      return\r\n    }\r\n\r\n    this.ClienteForm.get('almacenes').setValue(this.almacenes)\r\n    this.ClienteForm.get('contactos').setValue(this.contactos)\r\n\r\n    if(this.ClienteForm.invalid) {\r\n      Swal.fire({\r\n        title:'Oops!',\r\n        text:'Debes rellenar todos los campos para continuar',\r\n        icon:'error',\r\n        showConfirmButton:false,\r\n        timer:1500\r\n      })\r\n      return;\r\n    }\r\n    \r\n\r\n    this.api.PostClientes(this.ClienteForm.value)\r\n        .subscribe((resp:any)=>{\r\n          this.obtenerClientes();\r\n          this.ClienteForm.reset();\r\n          this.NUEVO_CLIENTE = false;\r\n          this.almacenes = []\r\n          this.contactos = []\r\n          Swal.fire({\r\n            title:'Excelente!',\r\n            text:'Se registro nuevo cliente',\r\n            showConfirmButton:false,\r\n            icon:'success',\r\n            timer:2000\r\n          })\r\n        })\r\n  }\r\n\r\n  //--------------------- PRODUCTOS----\r\n\r\n  obtenerMateriales(){\r\n    this.api.getAlmacen()\r\n      .subscribe((resp:any)=>{\r\n        this.MATERIALES = resp.materiales\r\n        // console.log(this.MATERIALES)\r\n      })\r\n  }\r\n\r\n  obtenerGrupos(){\r\n    this.api.getGrupos()\r\n      .subscribe((resp:any)=>{\r\n        this.GRUPOS = resp.grupos\r\n        // console.log(this.GRUPOS,'GRUPOOOOS')\r\n      })\r\n  }\r\n\r\n  Ordenar_Producto(){\r\n    let valor = (<HTMLInputElement>document.getElementById('material_Necesario')).value\r\n    let inde = this.MATERIALES_NECESARIOS.includes(valor);\r\n\r\n    if(!inde){\r\n      this.MATERIALES_NECESARIOS.push(valor)\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  BuscarGruposEnAlmacen(){\r\n    this.api.GetGrupoMp()\r\n      .subscribe((resp:any)=>{\r\n        this.SECCIONES = resp\r\n        // alert('THIS IS WORKING')\r\n        // console.log(this.SECCIONES,'SECCIONEEEES');\r\n      })\r\n  }\r\n\r\n  finalizar(){\r\n\r\n    // let name = (<HTMLInputElement>document.getElementById('sustrato_name')).value\r\n\r\n    // let marca = (<HTMLInputElement>document.getElementById('sustrato_marca')).value\r\n    // let gramaje = (<HTMLInputElement>document.getElementById('sustrato_gramaje')).value\r\n    // let calibre = (<HTMLInputElement>document.getElementById('sustrato_calibre')).value\r\n\r\n    // let sustrato = {\r\n    //   nombre:name,\r\n    //   marca,\r\n    //   gramaje,\r\n    //   calibre\r\n    // }\r\n\r\n\r\n    let data = {\r\n      cliente: (<HTMLInputElement>document.getElementById('cliente_Seleccionado')).value,\r\n      producto:(<HTMLInputElement>document.getElementById('nombre_nuevo_producto')).value,\r\n      grupo:(<HTMLInputElement>document.getElementById('grupo_producto')).value,\r\n      cod_cliente:(<HTMLInputElement>document.getElementById('cod_cliente')).value,\r\n      materiales: this.MATERIALES_NECESARIOS,\r\n      post:this.POST,\r\n      ejemplares:this.EJEMPLARES,\r\n      // sustrato: sustrato,\r\n      codigo:(<HTMLInputElement>document.getElementById('cod_producto')).value,\r\n      version:(<HTMLInputElement>document.getElementById('version')).value,\r\n      edicion:(<HTMLInputElement>document.getElementById('edicion')).value,\r\n      montajes:this.montajes\r\n    }\r\n\r\n    \r\n    this.api.postProducto(data)\r\n      .subscribe((resp:any)=>{\r\n        this.Modal_Producto();\r\n        let cliente_id = (<HTMLInputElement>document.getElementById('cliente_Seleccionado')).value;\r\n        this.buscar_producto(cliente_id);\r\n      })\r\n  }\r\n\r\n  ancho(e){\r\n    let ancho = e.target.value;\r\n    \r\n    this.dimensiones.push(ancho);\r\n    let tamano = this.dimensiones.length\r\n\r\n    const largo = (<HTMLInputElement>document.getElementById('largo'))\r\n    const DirFibra = (<HTMLInputElement>document.getElementById('d_fibra'))\r\n\r\n    largo.disabled = false;\r\n\r\n    if(ancho == ''){\r\n      this.dimensiones = []\r\n\r\n      largo.value = ''\r\n      largo.disabled = true;\r\n      DirFibra.disabled = true;\r\n    }\r\n\r\n    if(largo.value != ''){\r\n      DirFibra.disabled = false\r\n    }\r\n    \r\n  }\r\n\r\n  largo(e){\r\n    let largo = e.target.value;\r\n\r\n    let tamano = this.dimensiones.length;\r\n    \r\n    const DirFibra = (<HTMLInputElement>document.getElementById('d_fibra'))\r\n    \r\n    if(largo == ''){\r\n      this.dimensiones.pop();\r\n      DirFibra.disabled = true;\r\n    }\r\n    \r\n    if(largo != ''){\r\n      if(tamano>1){\r\n        this.dimensiones.pop();\r\n      }\r\n      this.dimensiones.push(largo);\r\n      DirFibra.disabled = false;\r\n    }\r\n      // }else{\r\n    //   DirFibra.disabled = false;\r\n    // }\r\n\r\n\r\n  }\r\n\r\n  public Edit_cliente:boolean = false;\r\n  public cliente_selected\r\n  Modal_Edit_cliente(){\r\n    if(this.Edit_cliente){\r\n      this.Edit_cliente = false\r\n    }else{\r\n      this.Edit_cliente = true\r\n    }\r\n  }\r\n\r\n  ElminarAlmacen(i){\r\n    this.cliente_selected.almacenes.splice(i,1)\r\n    console.log(this.cliente_selected)\r\n    // delete(this.cliente_selected.almacenes[i])\r\n    var x = document.getElementById(i)\r\n    x.style.display = \"none\";  \r\n    (<HTMLInputElement>document.getElementById(i)).disabled;\r\n    document.getElementById(i).addEventListener('change', (event) => {\r\n      (<HTMLInputElement>document.getElementById(i)).disabled;\r\n    })\r\n  }\r\n\r\n  AgregarAlmacen(almacen){\r\n    this.cliente_selected.almacenes.push(almacen)\r\n  }\r\n\r\n  Editar_Cliente(){\r\n    this.api.putCliente(this.cliente_selected, this.cliente_selected._id)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          title:'Editado',\r\n          text:'Se realizó la actualización de información de este cliente',\r\n          icon:'success',\r\n          showConfirmButton:false\r\n        })\r\n      })\r\n  }\r\n  \r\n  public edicion:boolean = false\r\n  buscar_producto(e){\r\n    this.api.getById(e)\r\n      .subscribe((resp:any)=>{\r\n        this.PRODUCTOS = resp.productos;\r\n        // console.log(this.PRODUCTOS)\r\n      });\r\n\r\n      if(e == \"\"){\r\n        (<HTMLInputElement>document.getElementById('NP_button')).disabled = true;\r\n        this.edicion = false\r\n      }else{\r\n        (<HTMLInputElement>document.getElementById('NP_button')).disabled = false;\r\n        console.log(e)\r\n        this.cliente_selected = this.CLIENTES.find(x=> x._id === e)\r\n        console.log( this.cliente_selected)\r\n        this.edicion = true\r\n      }\r\n  }\r\n\r\n  // sustratos(e){\r\n\r\n  //   this.SUSTRATO = [];\r\n\r\n  //   this.SUSTRATO.push(e.target.value);\r\n\r\n  //   this.Sus_Done = true;\r\n\r\n    \r\n  // }\r\n  NuevoSustrato(){\r\n    this.SUSTRATO = [];\r\n    this.Sus_Done = false;\r\n  }\r\n\r\n  add_materia2(producto, cantidad){\r\n\r\n    let i = this.i_montajes.toString();\r\n\r\n    producto = (<HTMLInputElement>document.getElementById(i)).value\r\n    cantidad = (<HTMLInputElement>document.getElementById(`cantidad${this.i_montajes}`)).value\r\n\r\n    let Material = this.MATERIALES.find(x => x._id === producto);\r\n\r\n    // console.log(Material, '--' )\r\n\r\n    let size = cantidad\r\n    let name = Material.nombre\r\n\r\n    if(this.product_selected == \"Sustrato\"){\r\n      size = '0'\r\n    }\r\n\r\n    if(Material.ancho){\r\n      name = `${Material.nombre} (${Material.ancho} x ${Material.largo})`;\r\n    }\r\n\r\n    let productos = {\r\n      material:name,\r\n      marca:Material.marca,\r\n      producto:producto,\r\n      cantidad: size\r\n    }\r\n\r\n    // console.log(productos);\r\n\r\n    this.OneProduct.materiales[this.i_montajes].push(productos)\r\n    // console.log(this.MATERIALES_NECESARIOS, 'this')\r\n    // this.MATERIALES_NECESARIOS.push(productos);\r\n\r\n\r\n    // let field_material = (<HTMLInputElement>document.getElementById('field_material'))\r\n    // let field_marca = (<HTMLInputElement>document.getElementById('field_marca'))\r\n    // let field_cantidad = (<HTMLInputElement>document.getElementById('field_cantidad'))\r\n\r\n    // let new_material = {\r\n    //   material:material.value,\r\n    //   marca:marca.value,\r\n    //   cantidad:cantidad.value\r\n    // }\r\n\r\n    // this.MATERIALES_NECESARIOS.push(new_material)\r\n\r\n    // field_cantidad.value = '';\r\n    // field_marca.value = '';\r\n    // field_material.value = '';\r\n  }\r\n\r\nadd_materia3(producto, cantidad){\r\n  let i = this.i_montajes_.toString();\r\n\r\n  producto = (<HTMLInputElement>document.getElementById(`x-${i}`)).value\r\n  cantidad = (<HTMLInputElement>document.getElementById(`xcantidad${this.i_montajes_}`)).value\r\n\r\n\r\n  let Material = this.MATERIALES.find(x => x._id == producto)\r\n\r\n\r\n  // console.log(Material,'/*/*/*/*/*/*/*/*/*/*/*/')\r\n\r\n  let size = cantidad\r\n  let name = Material.nombre\r\n\r\n  if(this.product_selected == \"Sustrato\"){\r\n    size = '0'\r\n  }\r\n\r\n  if(Material.ancho){\r\n    name = `${Material.nombre} (${Material.ancho} x ${Material.largo})`;\r\n  }\r\n\r\n\r\n\r\n  let productos = {\r\n    material:name,\r\n    marca:Material.marca,\r\n    producto:producto,\r\n    cantidad: size\r\n  }\r\n\r\n  if(!this.OneProduct.materiales[this.i_montajes_]){\r\n    this.OneProduct.materiales[this.i_montajes_] = [];\r\n  }\r\n  \r\n  this.OneProduct.materiales[this.i_montajes_].push(productos)\r\n\r\n  this.api.updateProducto(this.OneProduct, this.OneProduct._id)\r\n      .subscribe((resp:any)=>{\r\n        // console.log(resp,'respuesta')\r\n        this.editar(this.OneProduct)\r\n        this.api.getOneById(this.OneProduct._id)\r\n          .subscribe((resp:any)=>{\r\n            // console.log('ok')\r\n          })\r\n          this.Modal_Producto_E()\r\n          this.Modal_Producto_E()\r\n      });\r\n  \r\n  \r\n  \r\n  \r\n\r\n  // this.verProducto(producto)\r\n}\r\n\r\neliminarContacto(i){\r\n  this.cliente_selected.contactos.splice(i,1)\r\n}\r\n\r\n\r\nAgregarContacto(a,b,c,d){\r\n\r\n  this.cliente_selected.contactos.push({nombre:a,\r\n    cargo:b,\r\n    email:c,\r\n    trato:d });\r\n\r\n  (<HTMLInputElement>document.getElementById('Name_c')).value = '';\r\n  (<HTMLInputElement>document.getElementById('Cargo_c')).value = '';\r\n  (<HTMLInputElement>document.getElementById('Email_c')).value = '';\r\n  \r\n}\r\n  \r\nadd_materia(producto, cantidad, id){\r\n\r\n\r\n  console.log(this.item_Selected)\r\n\r\n    let i = this.i_montajes.toString();\r\n\r\n    // producto = (<HTMLInputElement>document.getElementById(producto)).value\r\n    cantidad = (<HTMLInputElement>document.getElementById(`cantidad${this.i_montajes}`)).value\r\n\r\n    let Material = this.MATERIALES.find(x => x._id === this.item_Selected);\r\n\r\n    let size = cantidad\r\n    let name = Material.nombre\r\n\r\n    if(this.product_selected == \"Sustrato\"){\r\n      size = '0'\r\n    }\r\n\r\n    if(Material.ancho){\r\n      name = `${Material.nombre} (${Material.ancho} x ${Material.largo})`;\r\n    }\r\n\r\n    let productos = {\r\n      material:name,\r\n      marca:Material.marca,\r\n      producto:this.item_Selected,\r\n      cantidad: size\r\n    }\r\n\r\n    \r\n    // console.log(productos);\r\n    if(!this.MATERIALES_NECESARIOS[this.i_montajes])\r\n    { \r\n      this.MATERIALES_NECESARIOS[this.i_montajes] = []\r\n    }\r\n    \r\n    this.MATERIALES_NECESARIOS[this.i_montajes].push(productos)\r\n    console.log(this.MATERIALES_NECESARIOS[this.i_montajes])\r\n    // console.log(this.MATERIALES_NECESARIOS, 'this')\r\n    // this.MATERIALES_NECESARIOS.push(productos);\r\n\r\n\r\n    // let field_material = (<HTMLInputElement>document.getElementById('field_material'))\r\n    // let field_marca = (<HTMLInputElement>document.getElementById('field_marca'))\r\n    // let field_cantidad = (<HTMLInputElement>document.getElementById('field_cantidad'))\r\n\r\n    // let new_material = {\r\n    //   material:material.value,\r\n    //   marca:marca.value,\r\n    //   cantidad:cantidad.value\r\n    // }\r\n\r\n    // this.MATERIALES_NECESARIOS.push(new_material)\r\n\r\n    // field_cantidad.value = '';\r\n    // field_marca.value = '';\r\n    // field_material.value = '';\r\n  }\r\n\r\n  Delete_Material(material2){\r\n\r\n        let deleted = this.MATERIALES_NECESARIOS[this.i_montajes].findIndex(x => x.material == material2)\r\n\r\n        console.log(this.MATERIALES_NECESARIOS)\r\n\r\n        this.MATERIALES_NECESARIOS[this.i_montajes].splice(deleted, 1);\r\n  }\r\n  Delete_Material2(material2){\r\n\r\n    // console.log(this.OneProduct.materiales[this.i_montajes])\r\n    let deleted = this.OneProduct.materiales[this.i_montajes_].findIndex(x => x.producto.nombre == material2)\r\n    // console.log(deleted)\r\n\r\n    this.OneProduct.materiales[this.i_montajes_].splice(deleted, 1);\r\n\r\n    // let deleted = this.OneProduct.materiales[this.i_montajes].producto.findIndex(x => x.nombre == material2)\r\n\r\n    // // console.log(deleted)\r\n\r\n    // this.MATERIALES_NECESARIOS.splice(deleted, 1);\r\n}\r\n\r\n  borrarPost(post){\r\n    let i = this.POST.indexOf(post)\r\n\r\n    this.POST.splice(i, 1)\r\n  }\r\n\r\n  borrarPost2(post){\r\n    let i = this.OneProduct.post.indexOf(post)\r\n\r\n    // console.log(i)\r\n\r\n    this.POST.splice(i, 1)\r\n  }\r\n\r\n  editar_producto(){\r\n    \r\n    this.api.updateProducto(this.OneProduct, this.OneProduct._id)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          title:'Producto editado con exito!',\r\n          icon:'success',\r\n          showConfirmButton:false\r\n        })\r\n        this.editar(this.OneProduct)\r\n        this.buscar_producto(this.OneProduct.cliente._id)\r\n        this.Modal_Producto_E()\r\n      });\r\n  }\r\n\r\n  verProducto(producto){\r\n\r\n    this.api.getOneById(producto)\r\n      .subscribe((resp:any)=>{\r\n        this.OneProduct = resp.producto\r\n\r\n        if( this.OneProduct.img) {\r\n          this.ImageProducto =  `${this.baseUrl}/imagen/producto/${this.OneProduct.img}`;\r\n        }else{\r\n          this.ImageProducto = `../../../assets/no-picture.png`;\r\n        }\r\n\r\n        this.ver_Modal_Producto()\r\n      })\r\n  }\r\n  public EDITAR_PRODUCTO:boolean = false;\r\n  Modal_Producto_E(){\r\n    if(this.EDITAR_PRODUCTO){\r\n      this.EDITAR_PRODUCTO = false\r\n    }else{\r\n      this.EDITAR_PRODUCTO = true\r\n      if(this.OneProduct.materiales[this.i_montajes_].length > 0){\r\n        this.EDITAR_PRODUCTO = true\r\n      }\r\n    }\r\n  }\r\n\r\n  editar(producto){\r\n    this.api.getOneById(producto)\r\n      .subscribe((resp:any)=>{\r\n        this.OneProduct = resp.producto;\r\n        // console.log('AQUIIIIIIIIIIIIII', this.OneProduct);\r\n      })\r\n      if(this.OneProduct){\r\n        this.Modal_Producto_E();\r\n      }\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"columns mt-5\">\r\n    <div class=\"column is-3\">\r\n        <div class=\"card\">\r\n            <div class=\"card-content\">\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Cliente:</label>\r\n                    <div class=\"control\">\r\n                        <div class=\"select\">\r\n                            <select id='cliente_Seleccionado' (change)='buscar_producto($event.target.value)' value=''>\r\n                                <option value=\"\">Seleccionar Cliente</option>\r\n                                <option *ngFor='let cliente of CLIENTES' value='{{cliente._id}}'>{{cliente.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button class=\"button is-primary\" (click)='Modal_Cliente()' *ngIf='usuario.Maquinaria == 2 && !edicion'>\r\n                    <span class=\"icon\">\r\n                        <i class=\"fas fa-address-book\"></i>\r\n                    </span>\r\n                    <span>\r\n                        Nuevo Cliente\r\n                    </span>\r\n                </button>\r\n                <button class=\"button is-primary\" (click)='Modal_Edit_cliente()' *ngIf='usuario.Maquinaria == 2 && edicion'>\r\n                    <span class=\"icon\">\r\n                        <i class=\"fas fa-user-edit\"></i>\r\n                    </span>\r\n                    <span>\r\n                        Editar Cliente\r\n                    </span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"column\">\r\n        <div class=\"card\">\r\n            <div class=\"card-content\">\r\n                <div class=\"titulo\">Productos</div>\r\n                <button class=\"button is-primary\" (click)='Modal_Producto()' disabled id='NP_button' *ngIf='usuario.Maquinaria == 2'>\r\n                    <span class=\"icon\">\r\n                        <i class=\"fas fa-list-ol\"></i>\r\n                    </span>\r\n                    <span>\r\n                        Nuevo Producto\r\n                    </span>\r\n                </button>\r\n                <hr>\r\n                <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Especificación</th>\r\n                            <th>Nombre del Producto</th>\r\n                            <th>Ver</th>\r\n                            <th *ngIf='usuario.Maquinaria == 2'>Editar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let producto of PRODUCTOS;let i = index'>\r\n                            <td>E - {{producto.cliente.codigo}} - {{producto.codigo}} - {{producto.version}} - {{producto.edicion}}</td>\r\n                            <td>{{producto.producto}}</td>\r\n                            <td>\r\n                                <button class=\"button is-info is-outlined\" (click)='verProducto(producto._id)'>\r\n                                    <span class=\"icon is-small\">\r\n                                        <i class=\"far fa-eye\"></i>\r\n                                    </span>\r\n                                    <span>Ver</span>\r\n                                </button>\r\n                            </td>\r\n                            <td *ngIf='usuario.Maquinaria == 2'>\r\n                            \r\n                            <button class=\"button is-success is-outlined\" (click)='editar(producto._id)'>\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"far fa-edit\"></i>\r\n                                </span>\r\n                                <span>Editar</span>\r\n                            </button>\r\n                        </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':Edit_cliente}\" *ngIf=\"edicion\">\r\n    <div class=\"modal-background\" (click)=\"Modal_Edit_cliente()\"></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Editar Cliente</div>\r\n            <hr>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Nombre del Cliente:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"cliente_selected.nombre\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Rif:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"cliente_selected.rif\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column is-3\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cód. Cliente:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"cliente_selected.codigo\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Dirección fiscal:</label>\r\n                <textarea class=\"textarea\" placeholder=\"Dirección Fiscal\" [(ngModel)]=\"cliente_selected.direccion\"></textarea>\r\n            </div>\r\n            <table class=\"table is-fullwidth\">\r\n                <tr>\r\n                    <th colspan=\"3\">Contactos:</th>\r\n                </tr>\r\n                <tr *ngFor=\"let contacto of cliente_selected.contactos;index as i\">\r\n                    <td>\r\n                        <label class=\"label\">Nombre:</label>\r\n                                <div class=\"field has-addons\">\r\n                                    <p class=\"control\">\r\n                                        <span class=\"select\">\r\n                                            <select [(ngModel)]=\"cliente_selected.contactos[i].trato\">\r\n                                              <option value=\"Sr.\">Sr.</option>\r\n                                              <option value=\"Sra.\">Sra.</option>\r\n                                            </select>\r\n                                          </span>\r\n                                    </p>\r\n                                    <p class=\"control\">\r\n                                        <input type=\"text\" class=\"input\" id='Nombre_cn' [(ngModel)]=\"cliente_selected.contactos[i].nombre\">\r\n                                    </p>\r\n                                </div>\r\n                        <div class=\"columns\">\r\n                            <div class=\"column is-half\">\r\n                                <div class=\"field\">\r\n                                <label class=\"label\">Cargo:</label>\r\n                                    <div class=\"control\">\r\n                                        <input type=\"text\" class=\"input\" [(ngModel)]=\"cliente_selected.contactos[i].cargo\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"column is-two-thirds\">\r\n                                <div class=\"field\">\r\n                                <label class=\"label\">Correo:</label>\r\n                                    <div class=\"control\">\r\n                                        <input type=\"text\" class=\"input\" [(ngModel)]=\"cliente_selected.contactos[i].email\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                            \r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <div class=\"columns\">\r\n                            <div class=\"column\">\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\"> </label>\r\n                                    <div class=\"control\">\r\n                                        <button class=\"button is-danger is-outlined is-small\" (click)=\"eliminarContacto(i)\">Eliminar</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <table class=\"table is-fullwidth\">\r\n                <tr>\r\n                    <td>\r\n                        <label class=\"label\">Nombre:</label>\r\n                                <div class=\"field has-addons\">\r\n                                    <p class=\"control\">\r\n                                        <span class=\"select\">\r\n                                            <select #trato>\r\n                                              <option value=\"Sr.\">Sr.</option>\r\n                                              <option value=\"Sra.\">Sra.</option>\r\n                                            </select>\r\n                                          </span>\r\n                                    </p>\r\n                                    <p class=\"control\">\r\n                                        <input type=\"text\" class=\"input\" id='Nombre_cn' #Nombre_Contacto>\r\n                                    </p>\r\n                                </div>\r\n                        <div class=\"columns\">\r\n                            <div class=\"column is-half\">\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\">Cargo:</label>\r\n                                    <div class=\"control\">\r\n                                        <input type=\"text\" id=\"Cargo_c\" class=\"input\" #Cargo_Contacto>  \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"column is-two-thirds\">\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\">Email:</label>\r\n                                    <div class=\"control\">\r\n                                        <input type=\"text\" id=\"Email_c\" class=\"input\" #Correo_Contacto>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"columns\">\r\n\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <div class=\"columns\">\r\n                            <div class=\"column\">\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\"> </label>\r\n                                    <div class=\"control\">\r\n                                        <button class=\"button is-success is-outlined is-small\" (click)=\"AgregarContacto(Nombre_Contacto.value, Cargo_Contacto.value, Correo_Contacto.value, trato.value)\">Agregar</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <table class=\"table is-fullwidth\">\r\n                <tr>\r\n                    <th colspan=\"2\">Almacenes</th>\r\n                    \r\n                </tr>\r\n                <tr *ngFor=\"let almacen of cliente_selected.almacenes;index as i\" [id]=\"i\">\r\n                    <td>\r\n                        <input type=\"text\" class=\"input\" [id]='i' [(ngModel)]=\"cliente_selected.almacenes[i]\">\r\n                    </td>\r\n                    <td>\r\n                        <button class=\"button is-danger is-outlined is-small\" (click)=\"ElminarAlmacen(i)\">Eliminar</button>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <table class=\"table is-fullwidth\">\r\n                <tr>\r\n                    <td>\r\n                        <input type=\"text\" class=\"input\" placeholder=\"Nuevo Almacen\" #NewAlmacen>\r\n                    </td>\r\n                    <td>\r\n                        <button class=\"button is-success is-outlined is-small\" (click)=\"AgregarAlmacen(NewAlmacen.value)\">Agregar</button>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <button class=\"button is-success\" (click)=\"Editar_Cliente()\">Finalizar</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVO_CLIENTE}\">\r\n    <div class=\"modal-background\" (click)='Modal_Cliente()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <form\r\n            autocomplete=\"off\"\r\n            [formGroup]=\"ClienteForm\"\r\n            (ngSubmit)=\"addCliente()\">\r\n                <div class=\"subtitulo\">Nuevo Cliente</div>\r\n                <hr>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Nombre del Cliente:</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName='nombre'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Rif:</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName='rif'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Cód. Cliente:</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName='codigo'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Dirección fiscal:</label>\r\n                    <div class=\"control\">\r\n                        <textarea class=\"textarea\" formControlName='direccion'></textarea>\r\n                    </div>\r\n                </div>\r\n                <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                        <th colspan=\"2\">\r\n                            Contactos:\r\n                        </th>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let contacto of contactos;index as i\">\r\n                            <td>\r\n                                <b>Nombre: </b>{{contacto.nombre}} <b>Cargo: </b>{{contacto.cargo}} <br><b>Email: </b>{{contacto.email}}\r\n                            </td>\r\n                            <td>\r\n                                <a (click)=\"contact_delete(i)\"><i class=\"fas fa-trash-alt\" style=\"color: #ff0000;\"></i></a>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <label class=\"label\">Nombre:</label>\r\n                                <div class=\"field has-addons\">\r\n                                    <p class=\"control\">\r\n                                        <span class=\"select\">\r\n                                            <select #trato>\r\n                                              <option value=\"Sr.\">Sr.</option>\r\n                                              <option value=\"Sra.\">Sra.</option>\r\n                                            </select>\r\n                                          </span>\r\n                                    </p>\r\n                                    <p class=\"control\">\r\n                                        <input type=\"text\" class=\"input\" id='Nombre_cn' #Nombre_cn (keydown)=\"nombre_cont($event.target.value)\" (change)=\"nombre_cont($event.target.value)\">\r\n                                    </p>\r\n                                </div>\r\n                                <div class=\"columns\">\r\n                                <div class=\"column is-half\">\r\n                                    <div class=\"field\">\r\n                                        <label class=\"label\">Cargo:</label>\r\n                                        <div class=\"control\">\r\n                                            <input type=\"text\" class=\"input\" id=\"Cargo_cn\" #Cargo_cn (keydown)=\"cargo_cont($event.target.value)\"  (change)=\"cargo_cont($event.target.value)\" [disabled]=\"!Nombre_contact\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"column is-two-thirds\">\r\n                                    <div class=\"field\">\r\n                                        <label class=\"label\">Email:</label>\r\n                                        <div class=\"control\">\r\n                                            <input type=\"email\" class=\"input\" id=\"Email_cn\" required #Email_cn  [disabled]=\"!Cargo_contact\" (keydown)=\"email_cont($event.target.value)\"  (change)=\"email_cont($event.target.value)\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"column\">\r\n\r\n                                </div>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\"> </label>\r\n                                    <div class=\"control\">\r\n                                        <button class=\"button is-success is-outlined\" (click)=\"agregarContactoNuevo(Nombre_cn.value, Cargo_cn.value, Email_cn.value, trato.value)\" [disabled]=\"!enable_contact\">Agregar</button>\r\n                                    </div>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <table class=\"table is-fullwidth\">\r\n                    \r\n                </table>\r\n                <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                        <th>Nombre de almacen</th>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let almacen of almacenes;let i from index\">\r\n                            <td>\r\n                                {{almacen}}\r\n\r\n                                <span class=\"icon\" (click)=\"delete_this_almacen(i)\">\r\n                                    <i class=\"fas fa-times\"></i>\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" id=\"almacen_nuevo\" formControlName='almacenes' [(ngModel)]=\"new_almacen\" name=\"nuevoAlmacen\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <button class=\"button is-success is-outlined\" (click)=\"add_almacen()\" [disabled]=\"!new_almacen\">Agregar</button>\r\n                    </div>\r\n                </div>\r\n                <br>                \r\n                <button class=\"button is-primary\">Nuevo Cliente</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVO_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Producto()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body tabla\">\r\n            <div class=\"subtitulo\">\r\n                Nuevo Producto\r\n            </div>\r\n            <div class=\"separador\">\r\n                Información del producto\r\n            </div>\r\n            <br>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Nombre Producto</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='nombre_nuevo_producto' placeholder=\"Nombre Producto\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Categoria</label>\r\n                        <div class=\"select\">\r\n                            <select id='grupo_producto'>\r\n                                <option *ngFor='let grupo of GRUPOS' value=\"{{grupo._id}}\">{{grupo.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cod. Producto</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='cod_producto' placeholder=\"Código de producto\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Versión</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='version' placeholder=\"Versión\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Especificación</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='edicion' placeholder=\"Especificación\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Código de producto de cliente</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" placeholder=\"Código de producto de cliente\" id=\"cod_cliente\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <input type=\"checkbox\" name=\"troquelado\" id=\"troquelado\" (click)='post_impresion(\"Troquelado\")'><label> Troquelado</label><br>\r\n                    <input type=\"checkbox\" name=\"pegado\" id=\"pegado\" (click)='post_impresion(\"Pegado\")'><label> Pegado</label><br>\r\n                    <input type=\"checkbox\" name=\"corte\" id=\"corte\" (click)='post_impresion(\"Corte Recto\")'><label> Corte Recto</label><br>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Pre Impresión\r\n            </div>\r\n            <br>\r\n\r\n            <!-- <div class=\"columns\"> -->\r\n            \r\n            <div class=\"columns is-3\">\r\n                <div class=\"column\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label for=\"\" class=\"label\">Cantidad de montajes:</label>\r\n                        </div>\r\n                        <div class=\"column is-4\">\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" min=\"1\" max=\"5\" placeholder=\"Cantidad de montajes\" [(ngModel)]=\"montajes\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column \">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label for=\"\" class=\"label\">Montaje:</label>\r\n                        </div>\r\n                        <div class=\"column\">\r\n                            <div class=\"field\">\r\n                                <div class=\"control\">\r\n                                    <div class=\"select\">\r\n                                        <select name=\"montajes\" [(ngModel)]=\"i_montajes\">\r\n                                            <option value=\"{{i}}\" *ngFor=\"let e of [].constructor(montajes); let i = index\">Montaje {{NumToLet(i)}}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Materia Prima - Montaje\r\n            </div>\r\n            <br>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label class=\"label\">Ejemplares montados:</label>\r\n                        </div>\r\n                        <div class=\"column is-4\">\r\n                            <div class=\"field\">\r\n                                <div class=\"control\">\r\n                                    <input type=\"number\" class=\"input\" placeholder=\"Ejemplares montados\" (change)=\"Ejemplar($event.target.value)\" [(ngModel)]=\"EJEMPLARES[i_montajes]\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"materiales\" *ngFor=\"let e of [].constructor(montajes); let i = index\">\r\n                <table class=\"table is-fullwidth\" *ngIf=\"i == i_montajes\">\r\n                    <thead>\r\n                    <tr>\r\n                            <th>Materia</th>\r\n                            <th>Marca</th>\r\n                            <th>Cantidad</th>\r\n                            <th>Eliminar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let Material of MATERIALES_NECESARIOS[i_montajes]'>\r\n                            <td>{{Material.material}} \r\n                                <ng-container *ngIf='Material.ancho'>\r\n                                    ({{Material.ancho}} x {{Material.ancho}})\r\n                                </ng-container>\r\n                            </td>\r\n                            <td>{{Material.marca}}</td>\r\n                            <td>{{Material.cantidad}}</td>\r\n                            <td>\r\n                                <button class=\"button is-danger is-outlined is-small\" (click)='Delete_Material(Material.material)'>\r\n                                    <span class=\"icon is-small\">\r\n                                      <i class=\"fas fa-check\"></i>\r\n                                    </span>\r\n                                    <span>Eliminar</span>\r\n                                  </button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                <div class=\"columns\" *ngIf=\"i == i_montajes\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Categoria:</label>\r\n                            <div class=\"select\">\r\n                                <select name=\"\" id=\"\" (change)='selecciona_producto($event.target.value)'>\r\n                                    <option value=\"#\">Selecciona Categoria</option>\r\n                                    <option value=\"{{seccion.nombre}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"columns\" *ngIf=\"i == i_montajes\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Producto:</label>\r\n                            <div class=\"select\">\r\n                                <select name=\"\" id=\"{{i_montajes}}\" (change)='producto_seleccionado($event.target.value)' #producto>\r\n                                    <option value=\"0\">Selecciona Producto</option>\r\n                                    <ng-container *ngFor='let producto of MATERIALES'>\r\n                                        <ng-container *ngIf='producto.grupo.nombre === product_selected'>\r\n                                            <option value=\"{{producto._id}}\">{{producto.nombre}} ({{producto.marca}})\r\n                                                <ng-container *ngIf='producto.ancho'>\r\n                                                    ({{producto.ancho}} x {{producto.largo}} Gramaje:{{producto.gramaje}} Calibre:{{producto.calibre}}\r\n                                                </ng-container>\r\n                                            </option>\r\n                                        </ng-container>\r\n                                    </ng-container>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\" id='cant'>\r\n                            <label class=\"label\">Cantidad:</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" id='cantidad{{i}}' class=\"input\" #size [disabled]='!_producto_seleccionado'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                    <div class=\"field\" *ngIf=\"i == i_montajes\">\r\n                        <label class=\"label\"></label>\r\n                        <div class=\"control\">\r\n                            <button class=\"button is-success is-outlined\" (click)=\"add_materia(i, size, producto)\">\r\n                                <span class=\"icon is-small\">\r\n                                  <i class=\"fas fa-check\"></i>\r\n                                </span>\r\n                                <span>Agregar</span>\r\n                              </button>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n            <hr>\r\n            <button class=\"button is-primary\" (click)='finalizar()'>Registrar Producto</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':VER_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='ver_Modal_Producto()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <figure class=\"image is-4by5\">\r\n                        <img src=\"{{ImageProducto}}\">\r\n                    </figure>\r\n                </div>\r\n                <div class=\"column is-5\">\r\n                    <table class=\"table\">\r\n                        <thead>\r\n                            <th>\r\n                                Especificación del Producto\r\n                            </th>\r\n                        </thead>\r\n                        <tbody><tr>\r\n                            <td>\r\n           E-{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-{{OneProduct.edicion}}\r\n                            </td></tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <br>\r\n                                    <br>\r\n                                    <div class=\"file is-small has-name is-primary\">\r\n                                        <label class=\"file-label\">\r\n                                          <input class=\"file-input\" type=\"file\" name=\"resume\"\r\n                                          (change)=\"CambiarImagen($event)\">\r\n                                          <span class=\"file-cta\">\r\n                                            <span class=\"file-icon\">\r\n                                              <i class=\"fas fa-upload\"></i>\r\n                                            </span>\r\n                                            <span class=\"file-label\">\r\n                                              Seleccionar Imagen\r\n                                            </span>\r\n                                          </span>\r\n                                          <span class=\"file-name\">\r\n                                            Sin archivo\r\n                                          </span>\r\n                                        </label>\r\n                                      </div>\r\n                                    <!--\r\n                                        \r\n                                    -->\r\n                                    <button class=\"button is-primary mt-5 is-small\"\r\n                                    [disabled]=\"!ImgSubir\"\r\n                                    [ngClass]=\"{'is-loading': cargando}\"\r\n                                    (click)='subirImagen()'>\r\n                                    Cambiar imagen\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Identificación del Producto\r\n            </div>\r\n            <br>\r\n            \r\n            <table class=\"table is-fullwidth\">\r\n                <tr>\r\n                    <th>Cliente:</th>\r\n                    <td>{{OneProduct.cliente.nombre}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <th>Producto:</th>\r\n                    <td>{{OneProduct.producto}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <th>Código del producto:</th>\r\n                    <td>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}</td>\r\n                </tr>\r\n            </table>\r\n\r\n            <div class=\"field\">\r\n                <label class=\"label\">Montaje</label>\r\n                <div class=\"select\">\r\n                    <select id=\"\" class=\"select\" (click)=\"cambiarCalculo()\" name=\"montaje\" [(ngModel)]=\"i_montajes\">\r\n                        <option value=\"{{i}}\" *ngFor=\"let e of [].constructor(OneProduct.montajes); let i = index\">M-{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-{{NumToLet(i)}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"separador\">\r\n                Materia Prima\r\n            </div>\r\n            <br>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>\r\n                        Sustrato\r\n                    </th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                            <td>\r\n                                {{TintaProducto.producto.nombre}} ({{TintaProducto.producto.ancho}} x {{TintaProducto.producto.largo}})\r\n                                <br>\r\n                                <table class=\"table is-bordered\">\r\n                                    <thead>\r\n                                        <th>Calibre (pt.)</th>\r\n                                        <th>Gramaje (g/m²):</th>\r\n                                        <th>Dirección de fibra:</th>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>{{TintaProducto.producto.calibre}}</td>\r\n                                            <td>{{TintaProducto.producto.gramaje}}</td>\r\n                                            <td>{{TintaProducto.producto.largo}}</td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </td>\r\n                        </ng-container>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>\r\n                        Colores Aprobados:\r\n                    </th>\r\n                    <th>\r\n                        Tintas (Marca):\r\n                    </th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                            <td>\r\n                                {{TintaProducto.producto.color}}\r\n                            </td>\r\n                            <td>\r\n                                {{TintaProducto.producto.nombre}}({{TintaProducto.producto.marca}})\r\n                            </td>\r\n                        </ng-container>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>\r\n                        Barniz aprobado \r\n                    </th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Barniz'\">\r\n                            {{TintaProducto.producto.nombre}} ({{TintaProducto.producto.marca}})\r\n                        </ng-container>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <div class=\"separador\">\r\n                Pre impresión\r\n            </div>\r\n            <br>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>\r\n                        Código de peliculas:\r\n                    </th>\r\n                    <td>\r\n                        <ng-container tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes];let i = index\">\r\n                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                <p *ngIf=\"TintaProducto.producto.color === 'Negro'\"><b>Negro:</b>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-\r\n                                    <!-- {{NumToLet(i_montajes)}} -->\r\n                                    <ng-container *ngIf=\"i_montajes == 0\">A</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 1\">B</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 2\">C</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 3\">D</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 4\">E</ng-container>\r\n                                    -1 </p>\r\n                                <p *ngIf=\"TintaProducto.producto.color === 'Cyan'\"><b>Cyan:</b>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-\r\n                                    <ng-container *ngIf=\"i_montajes == 0\">A</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 1\">B</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 2\">C</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 3\">D</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 4\">E</ng-container>\r\n                                    -2 </p>\r\n                                <p *ngIf=\"TintaProducto.producto.color === 'Magenta'\"><b>Magenta:</b>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-\r\n                                    <ng-container *ngIf=\"i_montajes == 0\">A</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 1\">B</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 2\">C</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 3\">D</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 4\">E</ng-container>\r\n                                    -3 </p>\r\n                                <p *ngIf=\"TintaProducto.producto.color === 'Amarillo'\"><b>Amarillo:</b>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-\r\n                                    <ng-container *ngIf=\"i_montajes == 0\">A</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 1\">B</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 2\">C</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 3\">D</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 4\">E</ng-container>\r\n                                    -4 </p>\r\n                                <div *ngIf=\"TintaProducto.producto.color != 'Amarillo' && TintaProducto.producto.color != 'Magenta' && TintaProducto.producto.color != 'Cyan' && TintaProducto.producto.color != 'Negro' \">\r\n                                    <b>{{TintaProducto.producto.color}}:</b> \r\n                                    <ng-container *ngIf=\"cinco\">\r\n                                        {{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-\r\n                                    <ng-container *ngIf=\"i_montajes == 0\">A</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 1\">B</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 2\">C</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 3\">D</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 4\">E</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 0\">\r\n                                        -{{sumaTintas(i, TintaProducto.producto.color)}}\r\n                                    </ng-container>    \r\n                                    <ng-container *ngIf=\"i_montajes != 0\">\r\n                                        -{{sumaTintas(i, TintaProducto.producto.color) - 2}}\r\n                                    </ng-container>    \r\n                                    </ng-container>\r\n                                </div>\r\n                            </ng-container>\r\n                        </ng-container>\r\n                    </td>\r\n                </thead>\r\n            </table>\r\n            <div class=\"separador\">\r\n                Impresión\r\n            </div>\r\n            <br>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>Tamaño de Impresión</th>\r\n                    <th>Ejemplares montados</th>\r\n                </thead>\r\n                <tbody>\r\n                    <td>\r\n                        <table class=\"table is-bordered\">\r\n                            <thead>\r\n                                <th>Ancho</th>\r\n                                <th>Largo</th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                                    <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                        <td>{{TintaProducto.producto.ancho}} cm.</td>\r\n                                        <td>{{TintaProducto.producto.largo}} cm.</td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </td>\r\n                    <td>\r\n                       {{ OneProduct.ejemplares[i_montajes] }} Ejemplares\r\n                    </td>\r\n                </tbody>\r\n            </table>\r\n            <div class=\"separador\">\r\n                Post Impresión\r\n            </div>\r\n            <br>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <ng-container *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Pega'\">\r\n                            <th>Pegamento aprobado</th>\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cajas Corrugadas'\">\r\n                            <th>Cantidad de unidades por caja</th>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Pega'\">\r\n                        <td>\r\n                            {{TintaProducto.producto.nombre}} ({{TintaProducto.producto.marca}})\r\n                        </td>\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cajas Corrugadas'\">\r\n                            <td>{{TintaProducto.cantidad}}</td>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n            <button class=\"button is-small is-info\" routerLink=\"/prueba/{{OneProduct._id}}\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-info-circle\"></i>\r\n                </span>\r\n                <span>\r\n                    Especificación\r\n                </span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':EDITAR_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Producto_E()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body tabla\">\r\n            <div class=\"subtitulo\">\r\n                Editar Producto\r\n            </div>\r\n            <div class=\"separador\">\r\n                Información del producto\r\n            </div>\r\n            <br>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Nombre Producto</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='nombre_nuevo_producto' placeholder=\"Nombre Producto\" [(ngModel)]=\"OneProduct.producto\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Categoria</label>\r\n                        <div class=\"select\">\r\n                            <select id='grupo_producto' [(ngModel)]=\"OneProduct.grupo._id\">\r\n                                <option *ngFor='let grupo of GRUPOS' value=\"{{grupo._id}}\">{{grupo.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cod. Producto</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='cod_producto' placeholder=\"Código de producto\" [(ngModel)]=\"OneProduct.codigo\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Versión</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='version' placeholder=\"Versión\" [(ngModel)]=\"OneProduct.version\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Especificación</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='edicion' placeholder=\"Especificación\" [(ngModel)]=\"OneProduct.edicion\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Código de producto de cliente</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" placeholder=\"Código de producto de cliente\" id=\"cod_cliente\" [(ngModel)]=\"OneProduct.cod_cliente\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <input type=\"checkbox\" name=\"troquelado\" id=\"troquelado\" (click)='post_impresion(\"Troquelado\")'><label> Troquelado</label><br>\r\n                    <input type=\"checkbox\" name=\"pegado\" id=\"pegado\" (click)='post_impresion(\"Pegado\")'><label> Pegado</label><br>\r\n                    <input type=\"checkbox\" name=\"corte\" id=\"corte\" (click)='post_impresion(\"Corte Recto\")'><label> Corte Recto</label><br>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Pre Impresión\r\n            </div>\r\n            <br>\r\n\r\n            <!-- <div class=\"columns\"> -->\r\n            \r\n            <div class=\"columns is-3\">\r\n                <div class=\"column\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label for=\"\" class=\"label\">Cantidad de montajes:</label>\r\n                        </div>\r\n                        <div class=\"column is-4\">\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" min=\"1\" max=\"5\" placeholder=\"Cantidad de montajes\" [(ngModel)]=\"OneProduct.montajes\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column \">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label for=\"\" class=\"label\">Montaje:</label>\r\n                        </div>\r\n                        <div class=\"column\">\r\n                            <div class=\"field\">\r\n                                <div class=\"control\">\r\n                                    <div class=\"select\">\r\n                                        <select name=\"montajes\" [(ngModel)]=\"i_montajes_\">\r\n                                            <option value=\"{{i}}\" *ngFor=\"let e of [].constructor(OneProduct.montajes); let i = index\">Montaje {{NumToLet(i)}}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Materia Prima - Montaje\r\n            </div>\r\n            <br>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label class=\"label\">Ejemplares montados:</label>\r\n                        </div>\r\n                        <div class=\"column is-4\">\r\n                            <div class=\"field\">\r\n                                <div class=\"control\">\r\n                                    <input type=\"number\" class=\"input\" placeholder=\"Ejemplares montados\" (change)=\"Ejemplar($event.target.value)\" [(ngModel)]=\"OneProduct.ejemplares[i_montajes_]\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"materiales\" *ngFor=\"let e of [].constructor(OneProduct.montajes); let i = index\">\r\n                <table class=\"table is-fullwidth\" *ngIf=\"i == i_montajes_\">\r\n                    <thead>\r\n                    <tr>\r\n                            <th>Materia</th>\r\n                            <th>Marca</th>\r\n                            <th>Cantidad</th>\r\n                            <th>Eliminar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let Material of OneProduct.materiales[i_montajes_];index as x'>\r\n                            <td>{{Material.producto.nombre}} \r\n                                <ng-container *ngIf='Material.ancho'>\r\n                                    ({{Material.producto.ancho}} x {{Material.producto.ancho}})\r\n                                </ng-container>\r\n                            </td>\r\n                            <td>{{Material.producto.marca}}</td>\r\n                            <td>\r\n                                <input type=\"text\" class=\"input\" [(ngModel)]=\"OneProduct.materiales[i_montajes_][x].cantidad\">\r\n                            </td>\r\n                            <td>\r\n                                <button class=\"button is-danger is-outlined is-small\" (click)='Delete_Material2(Material.producto.nombre)'>\r\n                                    <span class=\"icon is-small\">\r\n                                      <i class=\"fas fa-check\"></i>\r\n                                    </span>\r\n                                    <span>Eliminar</span>\r\n                                  </button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                <div class=\"columns\" *ngIf=\"i == i_montajes_\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Categoria:</label>\r\n                            <div class=\"select\">\r\n                                <select name=\"\" id=\"\" (change)='selecciona_producto2($event.target.value)'>\r\n                                    <option value=\"0\">Selecciona Categoria</option>\r\n                                    <option value=\"{{seccion.nombre}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"columns\" *ngIf=\"i == i_montajes_\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Producto:</label>\r\n                            <div class=\"select\">\r\n                                <select name=\"\" id=\"x-{{i}}\" (change)='producto_seleccionado($event.target.value)' disabled #producto>\r\n                                    <option value=\"0\"> Selecciona Producto</option>\r\n                                    <ng-container *ngFor='let producto of MATERIALES'>\r\n                                        <ng-container *ngIf='producto.grupo.nombre === product_selected'>\r\n                                            <option value=\"{{producto._id}}\">{{producto.nombre}} ({{producto.marca}})\r\n                                                <ng-container *ngIf='producto.ancho'>\r\n                                                    ({{producto.ancho}} x {{producto.largo}}) Gramaje: {{producto.gramaje}}, Calibre: {{producto.calibre}}\r\n                                                </ng-container>\r\n                                            </option>\r\n                                        </ng-container>\r\n                                    </ng-container>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\" id='cant'>\r\n                            <label class=\"label\">Cantidad:</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" id='xcantidad{{i}}' class=\"input\" #size [disabled]='!_producto_seleccionado'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                    <div class=\"field\" *ngIf=\"i == i_montajes_\">\r\n                        <label class=\"label\"></label>\r\n                        <div class=\"control\">\r\n                            <button class=\"button is-success is-outlined\" (click)=\"add_materia3(i, size)\">\r\n                                <span class=\"icon is-small\">\r\n                                  <i class=\"fas fa-check\"></i>\r\n                                </span>\r\n                                <span>Agregar</span>\r\n                              </button>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n            <hr>\r\n            <button class=\"button is-primary\" (click)=\"editar_producto()\">Editar Producto</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { MaquinaInterface } from 'src/app/interface/maquinas.interfase';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-maquinaria',\r\n  templateUrl: './maquinaria.component.html',\r\n  styleUrls: ['./maquinaria.component.css']\r\n})\r\nexport class MaquinariaComponent implements OnInit {\r\n\r\n  public NUEVA_MAQUINA:boolean = false;\r\n  public NUEVO_GRUPO:boolean = false;\r\n  public MAQUINAS:MaquinaInterface[] = [];\r\n  public FUNCIONES = [];\r\n  public FASES = [];\r\n  public GRUPOS = [];\r\n\r\n  public MaquinaID\r\n\r\n  public EDITAR_MAQUINA:boolean = false;\r\n\r\n\r\n  maquinaForm: FormGroup = this.fb.group({\r\n    nombre:['', Validators.required],\r\n    tipo:['', Validators.required],\r\n    colores:[''],\r\n    cph:['', Validators.required],\r\n  })\r\n\r\n  constructor(private fb:FormBuilder,\r\n              private api:RestApiService) { \r\n                this.usuario = api.usuario\r\n              }\r\n\r\n  ngOnInit(): void {\r\n    this.ObtenerMaquinas();\r\n    this.obtenerGrupos();\r\n  }\r\n\r\n  public usuario\r\n\r\n  public Modal_Maquina(){\r\n    if(this.NUEVA_MAQUINA){\r\n      this.NUEVA_MAQUINA = false;\r\n    }else{\r\n      this.NUEVA_MAQUINA = true;\r\n    }\r\n  }\r\n\r\n  Edicion_Modal_Maquina(){\r\n    if(this.EDITAR_MAQUINA){\r\n      this.EDITAR_MAQUINA = false;\r\n    }else{\r\n      this.EDITAR_MAQUINA = true;\r\n    }\r\n  }\r\n\r\n  EditarMaquina(id){\r\n    this.Edicion_Modal_Maquina();\r\n    this.api.getMaquinaID(id)\r\n      .subscribe((resp:any)=>{\r\n        this.MaquinaID = resp;\r\n      })\r\n  }\r\n\r\n  Finalizar_Edicion_M(){\r\n    this.MaquinaID.tipo = this.MaquinaID.tipo.toUpperCase()\r\n\r\n    this.api.putMaquina(this.MaquinaID._id, this.MaquinaID)\r\n      .subscribe((resp:any)=>{\r\n        this.ObtenerMaquinas();\r\n        this.Edicion_Modal_Maquina()\r\n        Swal.fire({\r\n          position:'center',\r\n          icon:'success',\r\n          title:'Edición realizada con exito',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n\r\n        })\r\n      })\r\n  }\r\n\r\n  nuevaMaquina(){\r\n    this.api.PostMaquinas(this.maquinaForm.value)\r\n      .subscribe(resp =>{\r\n        this.maquinaForm.reset();\r\n        this.NUEVA_MAQUINA = false;\r\n        this.ObtenerMaquinas();\r\n      })\r\n  }\r\n\r\n  ObtenerMaquinas(){\r\n    this.api.GetMaquinas()\r\n      .subscribe(maquinas => {\r\n        this.MAQUINAS = maquinas;\r\n        this.obtenerTipos();\r\n      });\r\n  }\r\n\r\n  BorrarMaquina_(id){\r\n    Swal.fire({\r\n      title:'¿Estas Seguro?',\r\n      text:'No podras revertir esta acción',\r\n      icon:'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor:'#d33',\r\n      cancelButtonText:'Cancelar',\r\n      confirmButtonText: 'Si, Eliminar!'\r\n    }).then((result) => {\r\n      if(result.isConfirmed) {\r\n        this.BorrarMaquina(id)\r\n        Swal.fire({\r\n          position:'center',\r\n          icon:'success',\r\n          title:'Esta maquina ha sido eliminada',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  EliminarGrupo_(id){\r\n    Swal.fire({\r\n      title:'¿Estas Seguro?',\r\n      text:'La eliminación de grupos afecta de manera negativa si ya existen productos creados en el sistema',\r\n      icon:'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor:'#d33',\r\n      cancelButtonText:'Cancelar',\r\n      confirmButtonText: 'Si, Eliminar!'\r\n    }).then((result) => {\r\n      if(result.isConfirmed) {\r\n        this.EliminarGrupo(id)\r\n        Swal.fire({\r\n          position:'center',\r\n          icon:'success',\r\n          title:'Este grupo ha sido eliminado',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  EliminarGrupo(id){\r\n    this.api.deleteGrupo(id)\r\n      .subscribe((resp:any)=>{\r\n        this.obtenerGrupos();\r\n      })\r\n  }\r\n\r\n  BorrarMaquina(id:any){\r\n    this.api.DeleteMaquinas(id)\r\n      .subscribe(resp=>{\r\n        this.ObtenerMaquinas();\r\n      })\r\n  }\r\n\r\n  // ----------------------GRUPOS -------------\r\n\r\n  public Modal_Grupo(){\r\n    if(this.NUEVO_GRUPO){\r\n      this.NUEVO_GRUPO = false\r\n    }else{\r\n      this.NUEVO_GRUPO = true\r\n    }\r\n  }\r\n\r\n  obtenerTipos(){\r\n    let x = this.MAQUINAS.length;\r\n    for(let i = 0; i< x; i++){\r\n      let inde = this.FUNCIONES.includes(this.MAQUINAS[i].tipo)\r\n      if(!inde){\r\n        this.FUNCIONES.push(this.MAQUINAS[i].tipo)\r\n      }\r\n    }\r\n  }\r\n\r\n  agregarTipo(){\r\n    let este = (<HTMLInputElement>document.getElementById('tipos')).value;\r\n    let inde = this.FASES.includes(este)\r\n      if(!inde){\r\n        this.FASES.push(este)\r\n      }\r\n  }\r\n\r\n  obtenerGrupos(){\r\n    this.api.getGrupos()\r\n      .subscribe((resp:any) => {\r\n        this.GRUPOS = resp.grupos\r\n      })\r\n  }\r\n\r\n  nuevoTipo(){\r\n    let name = (<HTMLInputElement>document.getElementById('name')).value;\r\n\r\n    let nuevoTipo = {\r\n      nombre:name,\r\n      tipos:this.FASES\r\n    }\r\n\r\n    // AGREGAR A LA BASE DE DATOS****************\r\n    this.api.PostGrupos(nuevoTipo)\r\n      .subscribe(resp =>{\r\n        this.obtenerGrupos();\r\n        this.NUEVO_GRUPO = false\r\n      })\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n","<div class=\"container mt-5\">\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <div class=\"titulo\">Maquinaria</div>\r\n            <button class=\"button is-primary\" (click)='Modal_Maquina()' *ngIf='usuario.Maquinaria == 2'>Nueva Máquina</button>\r\n            <hr>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Nombre Máquina</th>\r\n                        <th>Función de Máquina</th>\r\n                        <th>Cantidad de Colores</th>\r\n                        <th>Trabajos por Hora</th>\r\n                        <th *ngIf='usuario.Maquinaria == 2'>Modificar Máquina</th>\r\n                    </tr>\r\n                    </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let maquina of MAQUINAS'>\r\n                        <td>{{maquina.nombre}}</td>\r\n                        <td>{{maquina.tipo}}</td>\r\n                        <td>{{maquina.colores}}</td>\r\n                        <td>{{maquina.cph}}</td>\r\n                        <td *ngIf='usuario.Maquinaria == 2'>\r\n                            <button class=\"button is-danger is-outlined\" (click)='BorrarMaquina_(maquina._id)'>\r\n                                <span>Borrar</span>\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"fas fa-trash-alt\"></i>\r\n                                </span>\r\n                              </button>  \r\n                              <button class=\"button is-success is-outlined\" (click)='EditarMaquina(maquina._id)'>\r\n                                <span>Editar</span>\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"far fa-edit\"></i>\r\n                                </span>\r\n                              </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"card mt-5\">\r\n        <div class=\"card-content\">\r\n            <div class=\"titulo\">Grupo de Productos \r\n            </div>\r\n            <button class=\"button is-primary\" (click)='Modal_Grupo()' *ngIf='usuario.Maquinaria == 2'>Nuevo Grupo</button>\r\n            <hr>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th *ngFor=\"let grupo of GRUPOS\">{{grupo.nombre}} \r\n                            <button class=\"button is-danger is-small is-outlined\" (click)='EliminarGrupo_(grupo._id)' *ngIf='usuario.Maquinaria == 2'>\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"fas fa-times\"></i>\r\n                                </span>\r\n                            </button>\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <td *ngFor=\"let grupo of GRUPOS;\">\r\n                        <ul>\r\n                            <li *ngFor='let tipo of grupo.tipos;index as i'>\r\n                                <p>\r\n                                    {{tipo}}\r\n                                </p>\r\n                            </li>\r\n                        </ul>\r\n                    </td>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Editar Maquina -->\r\n<div *ngIf='MaquinaID'>\r\n<div class=\"modal\" [ngClass]=\"{'is-active':EDITAR_MAQUINA}\">\r\n    <div class=\"modal-background\" (click)='Edicion_Modal_Maquina()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n                <div class=\"subtitulo\">Registrar Máquina</div>\r\n                <hr>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Nombre</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"text\" class=\"input\" [(ngModel)]='MaquinaID.nombre' name='nombre'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Función</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"text\" class=\"input\" [(ngModel)]='MaquinaID.tipo' name='tipo'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Colores (Opcional)</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"number\" min='0' class=\"input\" [(ngModel)]='MaquinaID.colores' name='colores'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Trabajo por Hora</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"number\" min='0' class=\"input\" [(ngModel)]='MaquinaID.cph' name='cph'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <button class=\"button is-primary\" (click)='Finalizar_Edicion_M()'>Editar Máquina</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n<!-- Fin Editar Maquina -->\r\n\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVA_MAQUINA}\">\r\n    <div class=\"modal-background\" (click)='Modal_Maquina()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            \r\n            <form\r\n            autocomplete=\"off\"\r\n            [formGroup]=\"maquinaForm\"\r\n            (ngSubmit)=\"nuevaMaquina()\">\r\n                <div class=\"subtitulo\">Registrar Máquina</div>\r\n                <hr>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Nombre</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"text\" class=\"input\" formControlName='nombre'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Funcion</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"text\" class=\"input\" formControlName='tipo'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Colores (Opcional)</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"number\" min='0' class=\"input\" formControlName='colores'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Trabajo por Hora</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"number\" min='0' class=\"input\" formControlName='cph'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <button class=\"button is-primary\">Registrar Nueva Máquina</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVO_GRUPO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Grupo()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Nuevo Grupo de Productos</div>\r\n            <hr>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Nombre del Grupo</label>\r\n                <div class=\"control\">\r\n                    <input type=\"text\" class=\"input\" id='name'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Fases:</label>\r\n                <div class=\"control\">\r\n                    <div class=\"select\">\r\n                        <select (click)='agregarTipo()' id='tipos' value='IMPRESION'>\r\n                            <option *ngFor='let tipo of FUNCIONES' value='{{tipo}}'>{{tipo}}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>proceso</th>\r\n                        <th>Eliminar</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let fase of FASES'>\r\n                        <td>{{fase}}</td>\r\n                        <td><button class=\"button is-primary\">Eliminar</button></td>\r\n                    </tr>\r\n\r\n                </tbody>\r\n            </table>\r\n            <button class=\"button is-primary\" (click)='nuevoTipo()'>Registrar Nueva Grupo de Productos</button>\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AlmacenComponent } from './almacen.component';\r\nimport { MainComponent } from './main/main.component';\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:AlmacenComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:MainComponent\r\n      }]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\n\r\nexport class AlmacenRoutingModule { }\r\n","import { environment } from 'src/environments/environment';\r\n\r\nexport class Usuario {\r\n    constructor(\r\n        public estado: boolean, \r\n        public _id: string,\r\n        public Nombre: string, \r\n        public Apellido: string, \r\n        public Correo: string,\r\n        public Departamento:string,\r\n        public Role: string,\r\n        public Nueva_orden: Number,\r\n        public Consulta:Number,\r\n        public Almacen:Number,\r\n        public Maquinaria:Number,\r\n        public Planificacion:Number,\r\n        public Gestiones:Number,\r\n        public Despacho:Number,\r\n        public Estadisticas:Number,\r\n        public Precios:Number,\r\n        public pin: string\r\n    ) {}\r\n}","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-solcitud',\r\n  templateUrl: './solcitud.component.html',\r\n  styleUrls: ['./solcitud.component.css']\r\n})\r\nexport class SolcitudComponent implements OnInit {\r\n  \r\n  public materiales:any;\r\n  public orden_selected;\r\n  public Otro:boolean = false;\r\n  public grupos;\r\n  public almacenado\r\n  public por_confirmar = []\r\n  public _materiales = []\r\n  public usuario\r\n\r\n\r\n\r\n  @Input() solicitud:any\r\n  @Input() orden:any\r\n  @Output() onCloseModal = new EventEmitter();\r\n\r\n  constructor(private api:RestApiService) {\r\n\r\n    this.usuario = api.usuario\r\n   }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getGRupos(){\r\n    this.api.GetGrupoMp()\r\n      .subscribe((resp:any)=>{\r\n        this.grupos = resp;\r\n        // console.log(this.grupos)\r\n      })\r\n  }\r\n\r\n  quitarMaterial(i){\r\n    this.por_confirmar.splice(i)\r\n    this._materiales.splice(i)\r\n  }\r\n\r\n  cambiarCantidades(i,e){\r\n    this._materiales[i].cantidad = e;\r\n    // console.log(this._materiales)\r\n  }\r\n\r\n  AdjuntarMaterial(e){\r\n    let almacen = this.almacenado.find(x => x.material._id === e)\r\n    this.por_confirmar.push(almacen)\r\n    let mat = this._materiales.push({\r\n      producto:almacen.material._id,\r\n      cantidad:0\r\n    })\r\n    // console.log(this._materiales)\r\n  }\r\n\r\n  mostrarMaterial(e){\r\n    if(e === \"#\"){\r\n    (<HTMLInputElement>document.getElementById('_material_')).disabled = true\r\n    }else{\r\n      this.api.getAlmacenado()\r\n        .subscribe((resp:any)=>{\r\n          (<HTMLInputElement>document.getElementById('_material_')).disabled = false\r\n          this.almacenado = resp.filter(x => x.material.grupo._id === e)\r\n          let bs_= this.almacenado;\r\n          if(e != '61f92a1f2126d717f004cca6'){\r\n            this.almacenado = [...this.almacenado.reduce((map, obj) => map.set(obj.material.nombre, obj), new Map()).values()];\r\n            for(let i=0;i<bs_.length;i++){\r\n              let index = this.almacenado.find(x=> x.material.nombre === bs_[i].material.nombre && x.material.marca === bs_[i].material.marca)\r\n              if(!index){\r\n                this.almacenado.push(bs_[i])\r\n              }\r\n            }\r\n            this.almacenado.sort(function(a, b) {\r\n              if(a.material.nombre.toLowerCase() < b.material.nombre.toLowerCase()) return -1\r\n              if(a.material.nombre.toLowerCase() > b.material.nombre.toLowerCase()) return 1\r\n              return 0\r\n    \r\n            })\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  TraerMateriales(e){\r\n\r\n    // console.log(e)\r\n\r\n    if(e === 'Otro'){\r\n      this.Otro = true;\r\n      this.getGRupos();\r\n    }else{\r\n      let Orden_seleccionada = this.orden.find(x => x.sort == e)\r\n      this.orden_selected = Orden_seleccionada\r\n      this.Otro = false;\r\n      if(Orden_seleccionada){\r\n        this.materiales = Orden_seleccionada.producto.materiales[Orden_seleccionada.montaje]\r\n        console.log(this.materiales,'este')\r\n        this.materiales.sort(function(a, b) {\r\n          if(a.material.nombre.toLowerCase() < b.material.nombre.toLowerCase()) return -1\r\n          if(a.material.nombre.toLowerCase() > b.material.nombre.toLowerCase()) return 1\r\n          return 0\r\n\r\n        })\r\n      }else{\r\n        this.materiales = undefined;\r\n      }\r\n    }\r\n  }\r\n\r\n  onClose(){\r\n    this.solicitud = false;\r\n    this.onCloseModal.emit();\r\n  }\r\n\r\n  FinalizarSolicitu(){\r\n    let requisicion = {\r\n      sort:'#',\r\n      motivo:(<HTMLInputElement>document.getElementById('_motivo')).value,\r\n      usuario:`${this.api.usuario.Nombre} ${this.api.usuario.Apellido}`,\r\n      producto:{\r\n        producto:'N/A',\r\n        materiales:[[]]\r\n      }\r\n    }\r\n\r\n    requisicion.producto.materiales[0] = this._materiales\r\n\r\n    let aprobado = true\r\n\r\n    for(let i=0;i<this._materiales.length;i++){\r\n      this.api.getAlmacenadoID2(this._materiales[i].producto)\r\n        .subscribe((resp:any)=>{\r\n          let cantidad = 0;\r\n          console.log(resp)\r\n          for(let i=0;i<resp.length;i++){\r\n            cantidad = cantidad + Number(resp[i].cantidad)\r\n          }\r\n\r\n          if(cantidad < Number(this._materiales[i].cantidad)){\r\n            Swal.fire({\r\n              title:'Cantidad excedida',\r\n              text:`la cantidad solicitada de ${resp[0].material.nombre} es mayor a la cantidad de producto en el almacen,\r\n              existe en almacen: ${cantidad.toFixed(2)}`,\r\n              icon:'warning',\r\n              showConfirmButton:false\r\n            })\r\n            i = 1000\r\n          }else if(i === this._materiales.length -1){\r\n            this.api.postReq(requisicion)\r\n               .subscribe((resp:any)=>{\r\n                Swal.fire(\r\n                {\r\n                  showConfirmButton:false,\r\n                   title:'Hecho!',\r\n                  text:'Se realizó la solicitud correctamente',\r\n                  icon:'success',\r\n                  timer:5000\r\n                }\r\n              )\r\n              this._materiales = []\r\n              this.onClose()\r\n            })\r\n          }\r\n        })\r\n\r\n        // if(i === this._materiales.length -1){\r\n        //   if(aprobado){\r\n        //     this.api.postReq(requisicion)\r\n        //        .subscribe((resp:any)=>{\r\n        //         Swal.fire(\r\n        //         {\r\n        //           showConfirmButton:false,\r\n        //            title:'Hecho!',\r\n        //           text:'Se realizó la solicitud correctamente',\r\n        //           icon:'success',\r\n        //           timer:5000\r\n        //         }\r\n        //       )\r\n        //       this._materiales = []\r\n        //       this.onClose()\r\n        //     })\r\n        //   }\r\n        // }\r\n    }\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  FinalizarSolicitud(){\r\n\r\n    let iteration = 0\r\n\r\n    let requisicion = {\r\n      sort:this.orden_selected.sort,\r\n      motivo:(<HTMLInputElement>document.getElementById('razon')).value,\r\n      usuario:`${this.api.usuario.Nombre} ${this.api.usuario.Apellido}`,\r\n      producto:{\r\n        producto:this.orden_selected.producto.producto,\r\n        materiales:[[]]\r\n      }\r\n    }\r\n\r\n\r\n  for(let i=0;i<this.materiales.length;i++){\r\n    let _i = i.toString();\r\n\r\n    let cantidad = (<HTMLInputElement>document.getElementById(_i)).value;\r\n    let producto = (<HTMLInputElement>document.getElementById(_i)).name;\r\n\r\n    let num = Number(cantidad)\r\n\r\n    if(num > 0){\r\n\r\n      iteration++\r\n      requisicion.producto.materiales[0].push({\r\n        cantidad,\r\n        producto \r\n      })\r\n    }\r\n\r\n\r\n    // console.log(requisicion)\r\n\r\n\r\n  }\r\n\r\n  let cantidad = (<HTMLInputElement>document.getElementById('100')).value;\r\n  let producto = (<HTMLInputElement>document.getElementById('100')).name;\r\n\r\n  let num = Number(cantidad)\r\n\r\n    if(num > 0){\r\n\r\n      iteration++\r\n      requisicion.producto.materiales[0].push({\r\n        cantidad,\r\n        producto \r\n      })\r\n    }\r\n\r\n  if(iteration>0){\r\n\r\n    let materiales_fr =  requisicion.producto.materiales[0];\r\n\r\n    //test\r\n    for(let i=0;i<materiales_fr.length;i++){\r\n      console.log(materiales_fr[i],'aqui')\r\n      this.api.getAlmacenadoID2(materiales_fr[i].producto)\r\n        .subscribe((resp:any)=>{\r\n          let cantidad = 0;\r\n          console.log(resp,'HABLAME DE TIII')\r\n          for(let i=0;i<resp.length;i++){\r\n            cantidad = cantidad + Number(resp[i].cantidad)\r\n          }\r\n\r\n          if(cantidad < Number(materiales_fr[i].cantidad)){\r\n            Swal.fire({\r\n              title:'Cantidad excedida',\r\n              text:`la cantidad solicitada de ${resp[0].material.nombre} es mayor a la cantidad de producto en el almacen,\r\n              existe en almacen: ${cantidad.toFixed(2)}`,\r\n              icon:'warning',\r\n              showConfirmButton:false\r\n            })\r\n            i = 1000\r\n          }else if(i === materiales_fr.length -1){\r\n            this.api.postReq(requisicion)\r\n               .subscribe((resp:any)=>{\r\n                Swal.fire(\r\n                {\r\n                  showConfirmButton:false,\r\n                   title:'Hecho!',\r\n                  text:'Se realizó la solicitud correctamente',\r\n                  icon:'success',\r\n                  timer:5000\r\n                }\r\n              )\r\n              materiales_fr = []\r\n              this.onClose()\r\n            })\r\n          }\r\n        })\r\n\r\n        // if(i === this._materiales.length -1){\r\n        //   if(aprobado){\r\n        //     this.api.postReq(requisicion)\r\n        //        .subscribe((resp:any)=>{\r\n        //         Swal.fire(\r\n        //         {\r\n        //           showConfirmButton:false,\r\n        //            title:'Hecho!',\r\n        //           text:'Se realizó la solicitud correctamente',\r\n        //           icon:'success',\r\n        //           timer:5000\r\n        //         }\r\n        //       )\r\n        //       this._materiales = []\r\n        //       this.onClose()\r\n        //     })\r\n        //   }\r\n        // }\r\n    }\r\n\r\n    //test\r\n    \r\n  }else{\r\n    Swal.fire(\r\n      {\r\n        showConfirmButton:false,\r\n        title:'Error!',\r\n        text:'Debe ingresar al menos una cantidad de cualquier producto',\r\n        icon:'error'\r\n      }\r\n    )\r\n\r\n    return\r\n  }\r\n\r\n  \r\n  \r\n  \r\n}\r\n\r\n\r\n}\r\n","<div class=\"modal\" [ngClass]=\"{'is-active':solicitud}\">\r\n    <div class=\"modal-background\" (click)=\"onClose()\"></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">\r\n                Solicitud de Material\r\n            </div>\r\n            <hr>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Producto / Orden de producción:</label>\r\n                    <div class=\"select\">\r\n                        <select (change)=\"TraerMateriales($event.target.value)\">\r\n                            <option value=\"\">Selecciona OP</option>\r\n                            <option class=\"option\" value=\"Otro\">Otros Materiales</option>\r\n                            <ng-container *ngIf=\"usuario.Gestiones != 5\">\r\n                                <option class=\"option\" value='{{Orden.sort}}' *ngFor=\"let Orden of orden.reverse()\">{{Orden.sort}}</option>\r\n                            </ng-container>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <hr>\r\n                <table class=\"table is-fullwidth\" *ngIf=\"Otro\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <div class=\"field\">\r\n                                <label class=\"label\">Grupo</label>\r\n                                <div class=\"select\">\r\n                                    <select (change)=\"mostrarMaterial($event.target.value)\">\r\n                                        <option value=\"#\">Grupo</option>\r\n                                        <option value=\"{{grupo._id}}\" *ngFor=\"let grupo of grupos\">{{grupo.nombre}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"column\">\r\n                            <div class=\"field\">\r\n                                <label class=\"label\">Material</label>\r\n                                <div class=\"select\">\r\n                                    <select (change)=\"AdjuntarMaterial($event.target.value)\" id=\"_material_\" disabled>\r\n                                        <option value=\"#\">Material</option>\r\n                                        <option value=\"{{almacen.material._id}}\" *ngFor=\"let almacen of almacenado\">{{almacen.material.nombre}} <ng-container *ngIf=\"almacen.material.ancho\">\r\n                                            {{almacen.material.ancho}} x {{almacen.material.largo}} - (Cal: {{almacen.material.calibre}}, Gramaje: {{almacen.material.gramaje}})\r\n                                        </ng-container> ({{almacen.material.marca}})</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr>\r\n                    <table class=\"table is-fullwidth\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Material</th>\r\n                                <th>Cantidad</th>\r\n                                <th>Eliminar</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let confirmar of por_confirmar; index as i\">\r\n                                <td>{{confirmar.material.nombre}} <ng-container *ngIf=\"confirmar.material.ancho\">\r\n                                    {{confirmar.material.ancho}} x {{confirmar.material.largo}}\r\n                                </ng-container> ({{confirmar.material.marca}})</td>\r\n                                <td>\r\n                                    <input type=\"number\" class=\"input\" (change)=\"cambiarCantidades(i,$event.target.value)\">\r\n                                </td>\r\n                                <td>\r\n                                    <button class=\"button is-danger\" (click)=\"quitarMaterial(i)\">Quitar</button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Motivo</label>\r\n                        <textarea class=\"textarea\" placeholder=\"Motivo\" rows=\"2\" id=\"_motivo\"></textarea>\r\n                    </div>\r\n                    <hr>\r\n                </table>\r\n                <table class=\"table is-fullwidth\" *ngIf=\"orden.length > 0 && materiales && !Otro\">\r\n                    <thead>\r\n                        <th>Material</th>\r\n                        <th>Cantidad Solicitada</th>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let material of materiales; index as i\">\r\n                            <td>\r\n                                {{material.producto.nombre}} \r\n                                <ng-container *ngIf=\"material.producto.ancho\">\r\n                                    {{material.producto.ancho}} x {{material.producto.largo}}\r\n                                </ng-container>\r\n                                ({{material.producto.marca}})\r\n                            </td>\r\n                            <td>\r\n                                <input type=\"number\" class=\"input\" value=\"0\" min=\"0\" id=\"{{i}}\" name=\"{{material.producto._id}}\">\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Cinta de embalaje 3430 (Rela)</td>\r\n                            <td>\r\n                                <input type=\"number\" class=\"input\" value=\"0\" min=\"0\" id=\"100\" name=\"61fd721fd9115415a4416f66\">\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                <div class=\"field\" *ngIf=\"materiales && !Otro\">\r\n                    <div class=\"select\">\r\n                      <!-- <textarea class=\"textarea is-small has-fixed-size\" placeholder=\"Motivo de la solicitud\"></textarea> -->\r\n                        <select name=\"\" id=\"razon\" class=\"selevt\">\r\n                            <option value=\"Fallas asociadas al sustrato\">Fallas asociadas al sustrato</option>\r\n                            <option value=\"Fallas asociadas a la tinta\">Fallas asociadas a la tinta</option>\r\n                            <option value=\"Inconsistencias en el inventario físico\">Inconsistencias en el inventario físico</option>\r\n                            <option value=\"Fallas asociadas al operador de impresión\">Fallas asociadas al operador de impresión</option>\r\n                            <option value=\"Fallas asociadas al operador de corte\">Fallas asociadas al operador de corte</option>\r\n                            <option value=\"Fallas asociadas al operador de troquelado\">Fallas asociadas al operador de troquelado</option>\r\n                            <option value=\"Fallas asociadas al operador de Pegado\">Fallas asociadas al operador de Pegado</option>\r\n                            <option value=\"Fallas del proceso de impresión\">Fallas del proceso de impresión </option>\r\n                            <option value=\"Fallas del proceso de pegado\">Fallas del proceso de pegado</option>\r\n                            <option value=\"Fallas operativa de maquina\">Fallas operativa de maquina</option>\r\n                            <option value=\"Error de estimación de material\">Error de estimación de material</option>\r\n                        </select>\r\n                    </div>\r\n                  </div>\r\n\r\n                <hr *ngIf=\"materiales\">\r\n\r\n                <button class=\"button is-primary\" (click)=\"FinalizarSolicitu()\" *ngIf=\"Otro\">Realizar Solicitud</button>\r\n                <button class=\"button is-primary\" (click)=\"FinalizarSolicitud()\" *ngIf=\"!Otro\">Realizar Solicitud</button>\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MainComponent } from './main/main.component';\r\nimport { ProductoYMaquinariaRoutingModule } from './producto-ymaquinaria-routing.module';\r\nimport { RouterModule, Router } from '@angular/router';\r\nimport { MaquinariaComponent } from './maquinaria/maquinaria.component';\r\nimport { ProductosComponent } from './productos/productos.component';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [MainComponent, MaquinariaComponent, ProductosComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    HttpClientModule,\r\n    ProductoYMaquinariaRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class ProductoYMaquinariaModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { tap } from 'rxjs/operators';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TwoStep implements CanActivate {\r\n\r\n  constructor(private api:RestApiService,\r\n              private router:Router){\r\n                console.log('work')\r\n  }\r\n\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot){\r\n\r\n      return this.api.ValidarVerificacion()\r\n      .pipe(\r\n        tap(isAuth =>{\r\n          if (!isAuth){\r\n            this.router.navigateByUrl('/ventas/verificacion')\r\n          }\r\n        })\r\n      )\r\n  }\r\n  \r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ProductoYMaquinariaComponent } from './producto-ymaquinaria.component';\r\nimport { MainComponent } from './main/main.component';\r\nimport { MaquinariaComponent } from './maquinaria/maquinaria.component';\r\nimport { ProductosComponent } from './productos/productos.component';\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:ProductoYMaquinariaComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:MainComponent\r\n      },\r\n      {\r\n        path:'maquinaria',\r\n        component:MaquinariaComponent\r\n      },\r\n      {\r\n        path:'productos',\r\n        component:ProductosComponent\r\n      }\r\n    ]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class ProductoYMaquinariaRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-estadisticas',\n  templateUrl: './estadisticas.component.html',\n  styleUrls: ['./estadisticas.component.css']\n})\nexport class EstadisticasComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<!-- <app-navbar></app-navbar> -->\n<app-navbar></app-navbar>\n<router-outlet></router-outlet>\n","import { Component, OnInit } from '@angular/core';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-gestion',\n  templateUrl: './gestion.component.html',\n  styleUrls: ['./gestion.component.css']\n})\nexport class GestionComponent implements OnInit {\n\n\n  constructor(private api:RestApiService) { }\n  \n  public escalas = false;\n  public clientes = []\n  public carga_clientes:boolean = true\n\n  public nueva_columna_:boolean = false;\n\n  ngOnInit(): void {\n    this.api.GetClientes()\n      .subscribe((resp:any)=>{\n        this.clientes = resp.clientes\n        console.log(this.clientes)\n        this.carga_clientes = false;\n\n      })\n  }\n\n  Confirm(i,n){\n    document.getElementById(`Confirm${i}`).style.display = 'none';\n    document.getElementById(`Cantidad${i}`).style.display = 'none';\n    document.getElementById(`Precio${i}`).style.display = 'none';\n\n    document.getElementById(`Edit${i}`).style.display = 'block';\n    document.getElementById(`Delete${i}`).style.display = 'block';\n    document.getElementById(`cant_${i}`).style.display = 'block';\n    document.getElementById(`precio_${i}`).style.display = 'block';\n\n\n    this.api.putIntervalo(this.intervalos[n])\n      .subscribe((resp:any)=>{\n        return\n      })\n\n  }\n\n  Delete(i, n){\n    Swal.fire({\n      title: '¿Quieres eliminar este intervalo?',\n      showDenyButton: true,\n      showCancelButton: false,\n      confirmButtonText: 'Eliminar',\n      denyButtonText: `Cancelar`,\n      confirmButtonColor:'#48c78e'\n    }).then((result) => {\n      /* Read more about isConfirmed, isDenied below */\n      if (result.isConfirmed) {\n        this.intervalos[n].escalas.splice(i,1)\n        this.api.putIntervalo(this.intervalos[n])\n        .subscribe((resp:any)=>{\n        Swal.fire({title:'Eliminado', icon:'success', showConfirmButton:false})\n        })\n      } else if (result.isDenied) {\n        Swal.fire({title:'Ningun intervalo de la tabla fue modificado', icon:'info', showConfirmButton:false})\n      }\n    })\n  }\n\n  add_columna(n){\n    document.getElementById(`nuevaColumna${n}`).style.display = 'block'\n  }\n\n  FindDescripcion(e){\n    let El_producto = this.productos.find(x=>x._id == this.producto)\n    this.Descripcion = false;\n    for(let i=0; i<El_producto.materiales[e].length; i++){\n      let grupo = El_producto.materiales[e][i].producto.grupo\n      if(grupo === '61f92a1f2126d717f004cca6'){\n        let descripcion = El_producto.materiales[e][i].producto\n        this.desc = `${descripcion.nombre} (${descripcion.marca}) ${descripcion.ancho}x${descripcion.largo} Calibre:${descripcion.calibre} Gramaje:${descripcion.gramaje} Ejemplares:${El_producto.ejemplares[e]}`\n      }\n    }\n  }\n\n  Edit(i){\n\n    document.getElementById(`Confirm${i}`).style.display = 'block';\n    document.getElementById(`Cantidad${i}`).style.display = 'block';\n    document.getElementById(`Precio${i}`).style.display = 'block';\n\n    document.getElementById(`Edit${i}`).style.display = 'none';\n    document.getElementById(`Delete${i}`).style.display = 'none';\n    document.getElementById(`cant_${i}`).style.display = 'none';\n    document.getElementById(`precio_${i}`).style.display = 'none';\n\n  }\n\n  NumToLet(n){\n    switch(n)\n    {\n        case 0: return \"A\";\n        case 1: return \"B\";\n        case 2: return \"C\";\n        case 3: return \"D\";\n        case 4: return \"E\";\n        case 5: return \"F\";\n        case 6: return \"G\";\n        case 7: return \"H\";\n        case 8: return \"I\";\n    }\n\n  }\n\n  nueva_columna(a,b,n){\n    this.intervalos[n].escalas.push({cantidad:a,precio:b})\n    document.getElementById(`nuevaColumna${n}`).style.display = 'none'\n    this.api.putIntervalo(this.intervalos[n])\n        .subscribe((resp:any)=>{\n        return\n        })\n  }\n\n  public consulta_precios:boolean = true;\n  consultar_precioss(){\n    if(!this.consulta_precios){\n      this.consulta_precios = true\n    }else{\n      this.consulta_precios = false\n    }\n  }\n\n  public producto_seleccionado:boolean = false\n  public montajes = []\n  public producto;\n  public intervalos;\n  select_producto(e){\n    \n    if(e != '#'){\n\n      if(e === 'all'){\n        this.producto_seleccionado = false;\n        this.api.GetEscalaByCliente(this.Cliente_selected)\n          .subscribe((resp:any)=>{\n            this.intervalos = resp\n          })\n\n      }else{\n      this.producto = e;\n      this.montajes = []\n      this.producto_seleccionado = true\n      let tets = this.productos.find(x=>x._id == e)\n      for(let i=0;i<tets.ejemplares.length;i++){\n        this.montajes.push(i)\n      }\n      this.api.getEscala(e)\n        .subscribe((resp:any)=>{\n          this.intervalos = resp\n\n        })}\n    }else{\n      this.producto_seleccionado = false\n    }\n  }\n\n  public newTable:boolean = false\n  New_table(){\n    if(!this.newTable){\n      console.log('aqui')\n      this.newTable = true\n    }else{\n      this.newTable = false\n    }\n  }\n\n  cancelarTabla(){\n    this.desc = 'Debes seleccionar un montaje'\n        this.montaj = [],\n        this.escala = [],\n        this.producto = '';\n        (<HTMLInputElement>document.getElementById('count')).value='';\n        (<HTMLInputElement>document.getElementById('price')).value='';\n        this.newTable = false;\n        this.Descripcion = false;\n  }\n\n  new_escala_vesion(){\n    let data = {\n      descripcion:this.desc,\n      montaje:this.montaj,\n      escalas:this.escala,\n      producto:this.producto,\n      cliente:this.Cliente_selected\n    }\n\n    this.intervalos.push(data)\n\n    this.api.postEscala(data)\n      .subscribe((resp:any)=>{\n        this.desc = 'Debes seleccionar un montaje'\n        this.montaj = [],\n        this.escala = [],\n        this.producto = '';\n        (<HTMLInputElement>document.getElementById('count')).value='';\n        (<HTMLInputElement>document.getElementById('price')).value='';\n        this.newTable = false;\n        this.Descripcion = false;\n        Swal.fire({\n          title:'Hecho',\n          text:'Se creó nueva tabla en este producto',\n          icon:'success',\n          showConfirmButton:false\n        })\n      })\n  }\n\n  delete_escalas(i){\n    this.escala.splice(i,1)\n  }\n\n  public input_precio:boolean = true;\n  cantidad(e){\n    if(e != ''){\n      this.input_precio = false\n    }else{\n      this.input_precio = true\n\n    }\n  }\n\n  public escala = []\n  nueva_escala(a,b){\n    this.escala.push({cantidad:Number(a),precio:Number(b)})\n  }\n\n  public agregar:boolean = true;\n  precio(e){\n    if(e != ''){\n      this.agregar = false\n    }else{\n      this.agregar = true\n\n    }\n  }\n\n  public Descripcion:boolean = false\n  public desc = 'Debe seleccionar un montaje';\n  public montaj;\n  next(a,b){\n    if(a && b){\n      if(b != '#'){\n        this.montaj = b,\n        this.Descripcion = true;\n      }\n    }\n  }\n\n  public Ordenes = []\n  public carga_ordenes:boolean = true;\n  public Cliente_selected;\n  select_cliente(e){\n    if(e != '#'){\n      this.Cliente_selected = e;\n      console.log(this.Cliente_selected)\n      this.api.getById(e)\n        .subscribe((resp:any)=>{\n          this.productos = resp.productos;\n          this.carga_ordenes = false;\n        })\n    }\n  }\n\n  public Despachos = []\n  public cargar_despachos:boolean = true\n  select_orden(e){\n    this.Despachos = []\n    if(e != '#'){\n      this.api.getDespachosbyOrden(e)\n        .subscribe((resp:any)=>{\n\n\n          for(let i=0;i<resp.length;i++){\n            for(let x=0;x<resp[i].despacho.length;x++){\n              if(resp[i].despacho[x].op === e){\n                this.Despachos.push({producto:resp[i].despacho[x].producto,cantidad:resp[i].despacho[x].cantidad})\n              }\n            }\n          }\n          console.log(this.Despachos)\n          this.cargar_despachos = false;\n        })\n    }\n  }\n\n  public cargar_previo:boolean = true\n  public producto_selected;\n  public cantidad_selected;\n  public Escala=0\n  public PrecioXunidad=0\n  Select_Despacho(e){\n    if(e != '#'){\n      let separado = e.split('*')\n      let producto = separado[0]\n      let cantidad = separado[1]\n\n      this.producto_selected = producto\n      this.cantidad_selected = cantidad\n      this.cargar_previo = false;\n\n      this.api.GetOneEscala(producto,{cantidad})\n        .subscribe((resp:any)=>{\n          this.Escala = resp.Escala[resp.Escala.length-1].cantidad\n          this.PrecioXunidad = resp.Escala[resp.Escala.length-1].precio\n          resp.MonitorBCV\n          let split_dolar = resp.MonitorBCV.split(' ')\n          this.tasa = Number(split_dolar[1])\n        })\n    }else{\n      this.cargar_previo = true;\n    }\n  }\n\n  public cargo_productos:boolean = true;\n  public tasa = 0;\n  public productos = []\n  public Escalas:any\n  escalas_modal(){\n    if(!this.escalas){\n      this.productos = []\n      this.Escalas = []\n      this.escalas = true;\n      this.api.getById(this.Cliente_selected)\n        .subscribe((resp:any)=>{\n          this.productos = resp.productos;\n          console.log(this.productos)\n          this.cargo_productos = false;\n          this.api.getEscala(this.Cliente_selected)\n            .subscribe((resp:any)=>{\n              this.Escalas = resp\n            })\n        })\n    }else{\n      this.escalas = false;\n      this.cargo_productos = true;\n    }\n  }\n\n\n  public Nueva_Escala = false;\n\n  add_escala(x){\n    // let index = x.toString()\n    document.getElementById(x).style.display = 'block'\n    document.getElementById(`table_${x}`).style.display = 'none'\n  }\n\n  cancelar_intervalo(x){\n    document.getElementById(x).style.display = 'none'\n    document.getElementById(`table_${x}`).style.display = 'block'\n  }\n\n  NuevoIntervalo(cantidad,precio,producto,i){\n    let data = {\n      producto,precio,cantidad,cliente:this.Cliente_selected\n    }\n\n    this.api.postEscala(data)\n      .subscribe((resp:any)=>{\n        this.escalas_modal()\n        this.escalas_modal()\n        this.cancelar_intervalo(i)\n      })\n  }\n\n  delete_escala(escala){\n    Swal.fire({\n      title: '¿Quieres eliminar este intervalo de la escala?',\n      showDenyButton: true,\n      showCancelButton: false,\n      confirmButtonText: 'Eliminar',\n      denyButtonText: `No Eliminar`,\n      confirmButtonColor:'#48c78e',\n      icon:'question'\n    }).then((result) => {\n      /* Read more about isConfirmed, isDenied below */\n      if (result.isConfirmed) {\n        this.api.DeleteEscala(escala)\n          .subscribe((resp:any)=>{\n            this.escalas_modal()\n            this.escalas_modal()\n            Swal.fire({\n              title:'Eliminado',\n              icon:'success',\n              showConfirmButton:false\n            })\n          })\n      } else if (result.isDenied) {\n      }\n    })\n  }\n\n  puntoYcoma(n){\n    if(!n){\n      return 0\n    }\n    n = Number(n).toFixed(2)\n    return n = new Intl.NumberFormat('de-DE').format(n)\n  }\n\n}\n","<div class=\"containe mt-5\">\n    <div class=\"titulo\">Precios</div>\n\n<div class=\"card mt-5\">\n    <div class=\"card-content\">\n        <span class=\"subtitulos\">\n            Gestión de precios\n        </span><br>\n        <div class=\"carga\" *ngIf='carga_clientes'>\n            <i class=\"fas fa-circle-notch fa-spin fa-xs\"></i>\n        </div>\n        <div class=\"select is-small\" *ngIf=\"!carga_clientes\">\n            <select (change)=\"select_cliente($event.target.value)\">\n              <option value='#'>Clientes</option>\n              <option value='{{cliente._id}}' *ngFor=\"let cliente of clientes\">{{cliente.nombre}}</option>\n            </select>\n        </div>  \n        <div class=\"select is-small\" *ngIf=\"!carga_ordenes\">\n            <select (change)=\"select_producto($event.target.value)\">\n                <option value=\"#\">Productos</option>\n                <option value=\"all\">TODOS</option>\n                <option value=\"{{producto._id}}\" *ngFor=\"let producto of productos\">{{producto.producto}}</option>\n            </select>\n        </div>  \n        <!-- <button class=\"button is-small is-info\" (click)=\"consultar_precioss()\" *ngIf=\"producto_seleccionado\">\n            <span class=\"icon\">\n                <i class=\"fas fa-coins\"></i>\n            </span>\n            <span>Consulta de precios</span>\n        </button>   -->\n        <!-- <button class=\"button is-primary is-small\">\n            <span class=\"icon\">\n                <i class=\"fas fa-eye\"></i>\n            </span>\n            <span>Consultar precios</span>\n        </button> -->\n        <br>\n        <hr>\n        <span class=\"subtitulos-p\" *ngIf=\"producto_seleccionado\">\n            <i class=\"fas fa-coins\"></i> Precios\n        </span><br>\n        <button class=\"button is-info is-small\" (click)=\"New_table()\" *ngIf=\"producto_seleccionado\">\n            <span class=\"icon\">\n                <i class=\"fas fa-table\"></i>\n            </span>\n            <span>Nueva Tabla</span>\n        </button><br><br>\n        <div class=\"columns\" *ngIf=\"newTable\">\n            <div class=\"column is-3\">\n                <div class=\"field\">\n                    <label class=\"label\">Descripción:</label>\n                    <div class=\"control\">\n                        {{desc}}\n                    </div>\n                </div>\n            </div>\n            <div class=\"column is-1\">\n                <div class=\"field\">\n                    <label class=\"label\">Montaje:</label>\n                    <div class=\"control\">\n                        <div class=\"select\">\n                            <select id=\"\" class=\"select\" (change)=\"FindDescripcion($event.target.value)\" #montaje>\n                                <option value=\"#\">Montaje</option>\n                                <option value=\"{{montaje}}\" *ngFor=\"let montaje of montajes\">{{NumToLet(montaje)}}</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"column\">\n                <div class=\"field\">\n                    <label class=\"label\"> </label>\n                    <button class=\"button is-success\" (click)=\"next('f', montaje.value)\">\n                        <span class=\"icon\">\n                            <i class=\"fas fa-chevron-right\"></i>\n                        </span>\n                        <span>Siguiente</span>\n                    </button>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"nueva_tabla\" *ngIf=\"Descripcion\">\n            <div class=\"columns\">\n                <div class=\"column is-2\">\n                    <div class=\"field\">\n                        <label class=\"label\">Cantidad:</label>\n                        <div class=\"control\">\n                            <input type=\"number\" id=\"count\" class=\"input\" (keydown)=\"cantidad($event.target.value)\" (change)=\"cantidad($event.target.value)\" #new_cantidad>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"column is-2\">\n                    <div class=\"field\">\n                        <label class=\"label\">Precio $:</label>\n                        <div class=\"control\">\n                            <input type=\"number\" id=\"price\" class=\"input\" [disabled]=\"input_precio\" (keydown)=\"precio($event.target.value)\" (change)=\"precio($event.target.value)\" #new_precio>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"column\">\n                    <div class=\"field\">\n                        <label class=\"label\"> </label>\n                        <div class=\"control\">\n                            <button class=\"button is-success\" [disabled]=\"agregar\" (click)=\"nueva_escala(new_cantidad.value, new_precio.value)\">\n                                <span class=\"icon\">\n                                    <i class=\"fas fa-plus\"></i>\n                                </span>\n                                <span>Agregar</span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <table class=\"table\">\n                <thead>\n                    <tr>\n                        <th class=\"is-selected\" colspan=\"{{escala.lenght}}\">\n                            {{desc}}\n                        </th>\n                    </tr>\n                    <tr>\n                        <td class=\"is-selected\">Escala</td>\n                        <td *ngFor=\"let escala of escala;index as i\">\n                            {{i+1}}\n                            <a (click)=\"delete_escalas(i)\"><i class=\"fas fa-trash-alt\" style=\"color: #ff0000;\"></i></a>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"is-selected\">Cantidad</td>\n                        <td *ngFor=\"let escala of escala;index as i\">\n                            {{escala.cantidad}}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"is-selected\">Precio</td>\n                        <td *ngFor=\"let escala of escala;index as i\">\n                            {{escala.precio}}\n                        </td>\n                    </tr>\n                </thead>\n            </table>\n            <button class=\"button is-success is-outlined\" (click)=\"new_escala_vesion()\">\n                <span class=\"icon\">\n                    <i class=\"fas fa-check\"></i>\n                </span>\n                <span>Confirmar</span>\n            </button> \n            <button class=\"button is-danger is-outlined\" (click)=\"cancelarTabla()\">\n                <span class=\"icon\">\n                    <i class=\"fas fa-times\"></i>\n                </span>\n                <span>Cancelar</span>\n            </button>\n        </div>\n\n        <ng-container *ngIf=\"consulta_precios\">\n            <ng-container *ngFor=\"let intervalo of intervalos;index as n\">\n                <div class=\"columns\" id=\"nuevaColumna{{n}}\" style='display:none'>\n                    <div class=\"column is-2\">\n                        <div class=\"field\">\n                            <label class=\"label\">Cantidad:</label>\n                            <div class=\"control\">\n                                <input type=\"number\" id=\"count\" class=\"input\" (keydown)=\"cantidad($event.target.value)\" (change)=\"cantidad($event.target.value)\" #new_cantidad>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"column is-2\">\n                        <div class=\"field\">\n                            <label class=\"label\">Precio $:</label>\n                            <div class=\"control\">\n                                <input type=\"number\" id=\"price\" class=\"input\" [disabled]=\"input_precio\" (keydown)=\"precio($event.target.value)\" (change)=\"precio($event.target.value)\" #new_precio>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"column\">\n                        <div class=\"field\">\n                            <label class=\"label\"> </label>\n                            <div class=\"control\">\n                                <button class=\"button is-success\" [disabled]=\"agregar\" (click)=\"nueva_columna(new_cantidad.value, new_precio.value,n)\">\n                                    <span class=\"icon\">\n                                        <i class=\"fas fa-plus\"></i>\n                                    </span>\n                                    <span>Agregar</span>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <table class=\"table is-fullwidth is-bordered is-striped\">\n                    <thead>\n                        <td class=\"is-selected\" colspan=\"10\"><b>{{intervalo.producto.producto}}</b><br>{{intervalo.descripcion}} </td>\n                    </thead>\n                    <tr>\n                        <th class=\"is-selected xwidth\">Escala <i class=\"fas fa-caret-right\"></i><br>\n                        <a (click)=\"add_columna(n)\"><i class=\"fas fa-plus-circle\" style=\"color: #b6eba2;\"></i></a></th>\n                        <td *ngFor=\"let escala of intervalo.escalas;index as i\">\n                        <div class=\"columns\">\n                            <div class=\"column number is-3\">\n                                {{i +1}}\n                            </div>\n                            <div class=\"column is-1\">\n                                <a id=\"Edit{{i}}\" (click)=\"Edit(i)\"><i class=\"fas fa-edit\" style=\"color: #b6eba2;\"></i></a> \n                            </div>\n                            <div class=\"column is-1\">\n                                <a id=\"Confirm{{i}}\" (click)=\"Confirm(i, n)\" style=\"display:none\"><i class=\"fas fa-check\" style=\"color: #b6eba2;\"></i></a> \n                            </div>\n                            <div class=\"column is-1\">\n                                <a id=\"Delete{{i}}\" (click)=\"Delete(i, n)\"><i class=\"fas fa-trash-alt\" style=\"color: #ff0000;\"></i></a>\n                            </div>\n                        </div>\n                        </td>\n        \n                    </tr>\n                    <tr>\n                        <th class=\"is-selected\">Cantidad (Und) <i class=\"fas fa-caret-right\"></i></th>\n                        <td *ngFor=\"let escala of intervalo.escalas;index as i\">\n                            <span id=\"cant_{{i}}\">\n                                {{puntoYcoma(escala.cantidad)}} \n                            </span>\n                            <div class=\"columns\">\n                                <div class=\"column is-6\">\n                                    <input type=\"text\" class=\"input\" [(ngModel)]=\"intervalos[n].escalas[i].cantidad\" id=\"Cantidad{{i}}\" style=\"display: none;\" width=\"100px\">\n                                </div>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected\">Precio (USD) <i class=\"fas fa-caret-right\"></i></th>\n                        <td *ngFor=\"let escala of intervalo.escalas;index as i\">\n                            <span id=\"precio_{{i}}\">\n                                {{puntoYcoma(escala.precio)}}\n                            </span>\n                            <div class=\"columns\">\n                                <div class=\"column is-6\">\n                                    <input type=\"text\" class=\"input\" [(ngModel)]=\"intervalos[n].escalas[i].precio\" id=\"Precio{{i}}\" style=\"display: none;\" width=\"100px\">\n                                </div>\n                            </div>\n                        </td>\n                    </tr>\n                </table>\n            </ng-container>\n        </ng-container>\n\n    </div>\n</div>\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-index',\n  templateUrl: './index.component.html',\n  styleUrls: ['./index.component.css']\n})\nexport class IndexComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<section class=\"hero is-small is-primary\">\n    <!-- <img src=\"../assets/BANNER-SIO-1092x270-v03.jpg\"> -->\n</section>\n\n<div class=\"container mt-5\">\n    <div class=\"column is-5\">\n        <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n            <ul>\n              <li><a href=\"#\">Inicio</a></li>\n              <li><a href=\"/laboratorio\">Laboratorio</a></li>\n              <li class=\"is-active\"><a href=\"/laboratorio/especificaciones\">Especificaciones</a></li>\n            </ul>\n          </nav>\n    </div>\n    <div class=\"columns menu\">\n        <!-- <div class=\"column\"> -->\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        <!-- </div> -->\n        <div class=\"column\">\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        </div> \n        <div class=\"column is-4\">\n            <img src=\"../../../assets/BANNER-MATERIA-PRIMA.png\" alt=\"\" routerLink=\"/laboratorio/materia-prima\">\n        </div>\n        <div class=\"column is-4\">\n            <img src=\"../../../assets/BANNER-PRODUCTOS2.png\" alt=\"\" routerLink=\"/laboratorio/producto-terminado\">\n        </div>\n         <div class=\"column\">\n            <!-- <img src=\"../../../assets/BANNER-MAQUINARIA.png\" alt=\"\" routerLink=\"/gestiones/maquinaria\"> -->\n        </div> \n        <!-- <div class=\"column\"> -->\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        <!-- </div> -->\n        <!-- <div class=\"column\"> -->\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        <!-- </div> -->\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-laboratorio',\n  templateUrl: './laboratorio.component.html',\n  styleUrls: ['./laboratorio.component.css']\n})\nexport class LaboratorioComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<app-navbar></app-navbar>\n<router-outlet></router-outlet>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.css']\n})\nexport class MainComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<section class=\"hero is-small is-primary\">\n    <!-- <img src=\"../assets/BANNER-SIO-1092x270-v03.jpg\"> -->\n</section>\n\n<div class=\"container mt-5 animate__animated animate__fadeIn\">\n    <div class=\"columns menu\">\n        <div class=\"column\">\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        </div>\n        <div class=\"column\">\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        </div>\n        <div class=\"column\">\n            <img src=\"../../../assets/BANNER-GESTION-DE-PRECIOS.png\" alt=\"\" routerLink=\"/ventas/gestion\">\n        </div>\n        <div class=\"column\">\n            <img src=\"../../../assets/BANNER-PREFACTURACION.png\" routerLink=\"/ventas/pre-facturacion\">\n        </div>\n        <div class=\"column\">\n            <img src=\"../../../assets/BANNER-FACTURACION.png\" routerLink=\"/ventas/consulta-facturacion\">\n        </div>\n        <div class=\"column\">\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        </div>\n        <div class=\"column\">\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        </div>\n    </div>\n</div>\n\n<!-- <a routerLink=\"/precios/gestion\">Gestion de precios</a><br>\n<a routerLink=\"/precios/pre-facturacion\">Pre facturacion</a> -->","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  //  api: 'http://127.0.0.1:8080/api'\r\n  \r\n  api: 'http://192.168.0.23:8080/api'\r\n  // api: 'http://192.168.0.23:3000/api'\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI\r\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-materia-prima',\n  templateUrl: './materia-prima.component.html',\n  styleUrls: ['./materia-prima.component.css']\n})\nexport class MateriaPrimaComponent implements OnInit {\n\n  constructor(private api:RestApiService,\n              private fb:FormBuilder) { }\n\n  ngOnInit(): void {\n    this.buscarAlmacen()\n    this.BuscarGruposEnAlmacen()\n  }\n\n  public Materiales = []\n  public sustrato_modal = false;\n  public tinta_modal = false;\n  public fuente_modal = false;\n  public caja_modal = false;\n  public plancha_modal = false;\n  public sustrato_selected;\n  public tinta_selected;\n  public fuente_selected;\n  public caja_selected;\n  public plancha_selected;\n  public Edited_sustrato = false;\n  public Edited_fuente = false;\n  public Edited_caja = false;\n  public Edited_plancha = false;\n  public preparacion_tinta = false;\n  public test = 25235074\n  public Sustrato = []\n  public Tintas = []\n  public Quimicos = []\n  public Cajas = []\n  public Planchas = []\n\n  public OTRO:boolean = true;\n  public Gs;\n  public New_Sustrato = false;\n  public New_color = false;\n  public caja_ = false\n\n  public NUEVO_PRODUCTO = false;\n  public SECCIONES = []\n\n  public _Sustrato = true\n  public _Tintas = false\n  public _Solucion = false;\n  public _Cajas = false;\n  public _Plancha = false;\n\n  InventarioForm:FormGroup = this.fb.group({\n    ancho:[''],\n    largo:[''],\n    gramaje:[''],\n    calibre:[''],\n    producto:['', Validators.required],\n    marca:['',Validators.required],\n    presentacion:['', Validators.required],\n    unidad:['',Validators.required],\n    neto:['', Validators.required],\n    color:['Negro',Validators.required],\n    cinta:[''],\n    // codigo:['',Validators.required],\n    // cantidad:['', Validators.required],\n    // lote:['', Validators.required],\n    NewControl:['']\n  });\n\n  Sustrato__(){\n    this._Sustrato = true;\n    this._Tintas = false;\n    this._Solucion = false;\n    this._Cajas = false;\n    this._Plancha = false;\n  }\n\n  Tintas__(){\n    this._Plancha = false;\n    this._Cajas = false;\n    this._Solucion = false;\n    this._Sustrato = false;\n    this._Tintas = true;\n  }\n\n  Solucion__(){\n    this._Solucion = true;\n    this._Sustrato = false;\n    this._Tintas = false;\n    this._Cajas = false;\n    this._Plancha = false;\n  }\n\n  Cajas__(){\n    this._Solucion = false;\n    this._Sustrato = false;\n    this._Tintas = false;\n    this._Plancha = false;\n    this._Cajas = true;\n  }\n\n  Plancha__(){\n    this._Solucion = false;\n    this._Sustrato = false;\n    this._Tintas = false;\n    this._Cajas = false;\n    this._Plancha = true;\n  }\n\n  BuscarGruposEnAlmacen(){\n    this.api.GetGrupoMp()\n      .subscribe((resp:any)=>{\n        this.SECCIONES = resp\n      })\n  }\n\n  public Modal_Almacen(){\n    if(this.NUEVO_PRODUCTO){\n      this.NUEVO_PRODUCTO = false;\n    }else{\n      this.NUEVO_PRODUCTO = true;\n    }\n  }\n\n  buscarAlmacen(){\n    this.api.getAlmacen()\n    .subscribe((resp:any)=>{\n      this.Materiales = resp.materiales;\n      for(let i=0;i<this.Materiales.length;i++){\n        if(this.Materiales[i].grupo.nombre === 'Sustrato'){\n          let existe = this.Sustrato.find(x=>x.nombre === this.Materiales[i].nombre && x.marca === this.Materiales[i].marca && x.calibre === this.Materiales[i].calibre && x.gramaje === this.Materiales[i].gramaje)\n          if(!existe){\n            this.Sustrato.push(this.Materiales[i])\n          }\n        }\n        if(this.Materiales[i].grupo.nombre === 'Tinta'){\n          let existe = this.Tintas.find(x=>x.nombre === this.Materiales[i].nombre && x.marca === this.Materiales[i].marca )\n          if(!existe){\n            this.Tintas.push(this.Materiales[i])\n          }\n        }\n        if(this.Materiales[i].grupo.nombre === 'Quimicos'){\n          let existe = this.Quimicos.find(x=>x.nombre === this.Materiales[i].nombre && x.marca === this.Materiales[i].marca )\n          console.log(existe)\n          if(!existe){\n            this.Quimicos.push(this.Materiales[i])\n            console.log(this.Quimicos)\n          }\n        }\n        if(this.Materiales[i].grupo.nombre === 'Cajas Corrugadas'){\n          let existe = this.Cajas.find(x=>x.nombre === this.Materiales[i].nombre)\n          console.log(existe)\n          if(!existe){\n            this.Cajas.push(this.Materiales[i])\n            console.log(this.Cajas)\n          }\n        }\n        if(this.Materiales[i].grupo.nombre === 'Otros materiales'){\n          let existe = this.Planchas.find(x=>x.nombre === this.Materiales[i].nombre)\n          console.log(existe)\n          if(!existe){\n            this.Planchas.push(this.Materiales[i])\n            console.log(this.Cajas)\n          }\n        }\n      }\n    })\n  }\n\n\n  Cambio_opciones(e){\n    if(e === 'otros'){\n      this.OTRO = true\n    }else{\n      this.OTRO = false;\n      this.Gs = e;\n    }\n\n    if(e === '61f92a1f2126d717f004cca6'){\n      this.New_Sustrato = true;\n    }else{\n      this.New_Sustrato = false;\n    }\n\n    if(e === '61fd54e2d9115415a4416f17'){\n      this.New_color = true;\n    }else{\n      this.New_color = false;\n    }\n\n    if(e === '61fd7a8ed9115415a4416f74'){\n      this.caja_ = true;\n    }else{\n      this.caja_ = false\n    }\n\n  }\n\n\n  Almacenar(){\n\n    let grupo;\n\n    if(this.OTRO){\n    grupo = this.InventarioForm.get('NewControl').value\n    }\n    else{\n      grupo = this.Gs;\n    }\n\n\n    const data = {\n      producto: this.InventarioForm.get('producto').value,\n      marca:this.InventarioForm.get('marca').value,\n\n      ancho:this.InventarioForm.get('ancho').value,\n      largo:this.InventarioForm.get('largo').value,\n      gramaje:this.InventarioForm.get('gramaje').value,\n      calibre:this.InventarioForm.get('calibre').value,\n\n\n      // cantidad: this.InventarioForm.get('cantidad').value,\n      unidad: this.InventarioForm.get('unidad').value,\n      presentacion: this.InventarioForm.get('presentacion').value,\n      neto: this.InventarioForm.get('neto').value,\n      color:this.InventarioForm.get('color').value,\n      // codigo: this.InventarioForm.get('codigo').value,\n      // lote: this.InventarioForm.get('lote').value,\n      cinta:this.InventarioForm.get('cinta').value,\n      grupo,\n      nuevo:this.OTRO\n\n    }\n\n    // // console.log(this.InventarioForm.get('color').value)\n\n    if(this.InventarioForm.invalid){\n      return\n    }\n\n\n\n    this.api.PostAlmacen(data)\n     .subscribe(resp=>{\n        this.InventarioForm.reset();\n        this.buscarAlmacen();\n        this.Modal_Almacen();\n        Swal.fire({\n          title:'Nueva materia prima registrada',\n          icon:'success',\n          text:'Se registró nueva materia prima en materiales registrados',\n          timer:2000,\n          showConfirmButton:false,\n          timerProgressBar:true\n        })\n        // this.getSustratos();\n      })\n\n   }\n\n   modal_fuentes(producto){\n    if(this.fuente_modal){\n      this.fuente_modal = false\n      return\n    }\n\n    this.fuente_modal = true\n    this.fuente_selected = this.Materiales.find(x=> x._id === producto)\n    console.log(this.fuente_selected)\n  }\n\n  modal_caja(producto){\n    if(this.caja_modal){\n      this.caja_modal = false\n      return\n    }\n    this.caja_modal = true\n    this.caja_selected = this.Materiales.find(x=> x._id === producto)\n    console.log(this.caja_selected)\n\n  }\n\n  modal_plancha(producto){\n    if(this.plancha_modal){\n      this.plancha_modal = false\n      return\n    }\n\n    this.plancha_modal = true\n    this.plancha_selected = this.Materiales.find(x=> x._id === producto)\n    console.log(this.plancha_selected)\n  }\n\n  editar_plancha(){\n    this.Edited_plancha = true;\n  }\n\n  finalizar_edicion_plancha(){\n    this.Edited_plancha = false;\n\n    let info = {\n      data:{\n        teq:this.plancha_selected.teq,\n      },\n      info:{nombre:this.plancha_selected.nombre, marca:this.plancha_selected.marca}\n    }\n\n    this.api.updateManyMateriales(this.plancha_selected._id, info)\n      .subscribe((resp:any)=>{\n        console.log('done')\n      })\n  }\n\n  editar_caja(){\n    this.Edited_caja = true;\n  }\n\n  finalizar_edicion_caja(){\n    this.Edited_caja = false;\n\n    let info = {\n      data:{\n        descripcion:this.caja_selected.descripcion,\n        tipo:this.caja_selected.tipo,\n        ECT:this.caja_selected.ECT,\n      },\n      info:{nombre:this.caja_selected.nombre}\n    }\n\n    this.api.updateManyMateriales(this.caja_selected._id, info)\n      .subscribe((resp:any)=>{\n        console.log('done')\n      })\n\n  }\n\n  \n  editar_fuente(){\n    this.Edited_fuente = true;\n  }\n  finalizar_edicion_fuente(){\n    this.Edited_fuente = false;\n\n    let info = {\n      data:{\n        chemical:this.fuente_selected.chemical,\n        ph:this.fuente_selected.ph,\n        conductividad:this.fuente_selected.conductividad,\n      },\n      info:{nombre:this.fuente_selected.nombre, marca:this.fuente_selected.marca, calibre:this.fuente_selected.calibre, gramaje:this.fuente_selected.gramaje}\n    }\n\n    this.api.updateManyMateriales(this.fuente_selected._id, info)\n      .subscribe((resp:any)=>{\n        console.log('done')\n      })\n  }\n\n  modal_sustrato(producto){\n    if(this.sustrato_modal){\n      this.sustrato_modal = false\n      return\n    }\n\n    this.sustrato_modal = true\n    this.sustrato_selected = this.Materiales.find(x=> x._id === producto)\n    console.log(this.sustrato_selected)\n  }\n\n\n  editar_sustrato(){\n    this.Edited_sustrato = true;\n  }\n\n  finalizar_sustrato(){\n\n    let info = {\n      data:{gramaje_e:[this.sustrato_selected.gramaje_e[0],this.sustrato_selected.gramaje_e[1],this.sustrato_selected.gramaje_e[2]],\n        calibre_e:[this.sustrato_selected.calibre_e[0],this.sustrato_selected.calibre_e[1],this.sustrato_selected.calibre_e[2],this.sustrato_selected.calibre_e[3],this.sustrato_selected.calibre_e[4],this.sustrato_selected.calibre_e[5],this.sustrato_selected.calibre_e[6],this.sustrato_selected.calibre_e[7],this.sustrato_selected.calibre_e[8]],\n        cobb:[this.sustrato_selected.cobb[0],this.sustrato_selected.cobb[1],this.sustrato_selected.cobb[2]],\n        curling:[this.sustrato_selected.curling[0],this.sustrato_selected.curling[1],this.sustrato_selected.curling[2]],\n        blancura:[this.sustrato_selected.blancura[0],this.sustrato_selected.blancura[1],this.sustrato_selected.blancura[2]]},\n      info:{nombre:this.sustrato_selected.nombre, marca:this.sustrato_selected.marca, calibre:this.sustrato_selected.calibre, gramaje:this.sustrato_selected.gramaje}\n    }\n\n    this.Edited_sustrato = false;\n    this.api.updateManyMateriales(this.sustrato_selected._id, info)\n      .subscribe((resp:any)=>{\n        console.log('done')\n      })\n  }\n\n\n  modal_tintas(producto){\n    if(this.tinta_modal){\n      this.tinta_modal = false\n      return\n    }\n\n    this.tinta_modal = true\n    this.tinta_selected = this.Materiales.find(x=> x._id === producto)\n\n  }\n\n  modal_tintas_(producto){\n    if(this.preparacion_tinta){\n      this.preparacion_tinta = false\n      return\n    }\n    this.preparacion_tinta = true;\n    this.tinta_selected = this.Materiales.find(x=> x._id === producto)\n    this.preparacion_pendiente = this.tinta_selected.preparacion\n    console.log(this.preparacion_pendiente)\n  }\n\n  delete_formula(i){\n    console.log(i)\n    this.preparacion_pendiente.splice(i,1)\n  }\n\n  public preparacion_pendiente = []\n  agregar_preparacion(producto,cantidad){\n\n    let nombre = this.Materiales.find(x=> x._id === producto)\n\n    this.preparacion_pendiente.push({nombre:`${nombre.nombre} (${nombre.marca})`,id:nombre._id,cantidad})\n\n\n    // console.log( this.preparacion_pendiente)\n\n  }\n\n  Finalizar_formula(id){\n    let preparacion = this.preparacion_pendiente;\n    this.preparacion_pendiente = [];\n    console.log(id, preparacion)\n\n    this.api.putAgregarformula(id, preparacion)\n      .subscribe((resp:any)=>{\n        console.log(resp)\n        Swal.fire({\n          icon:'success',\n          title:'Preparación actualizada',\n          text:`Se actualizó la lista de tinta necesaria para la preparación de: ${resp.nombre} (${resp.color})`,\n          showConfirmButton:false,\n          timer:3000,\n          timerProgressBar:true\n        })\n\n        this.modal_tintas_('x')\n      })\n  }\n\n}\n","<div class=\"container\">\n    <span class=\"subtitulo\">\n        Materia Prima\n    </span>\n<br>\n<br>\n    <div class=\"columns\">\n        <div class=\"column is-7\">\n            <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n                <ul>\n                  <li><a href=\"#\">Inicio</a></li>\n                  <li><a href=\"/laboratorio\">Laboratorio</a></li>\n                  <li><a href=\"/laboratorio/especificaciones\">Especificaciones</a></li>\n                  <li class=\"is-active\"><a href=\"#\" aria-current=\"page\">Materia Prima</a></li>\n                </ul>\n              </nav>\n        </div>\n    </div>\n\n<br>\n<button class=\"button is-primary edited\" (click)='Modal_Almacen()'>\n    <span class=\"icon\">\n        <i class=\"fas fa-swatchbook\"></i>\n    </span>\n    <span>\n        Nuevo <br>\n        <span class=\"down\">\n        material\n        </span>\n    </span>\n</button>\n<br>\n<br>\n</div>\n<div class=\"tabs\">\n    <ul>\n      <li [ngClass]=\"{'is-active':_Sustrato}\"><a (click)=\"Sustrato__()\">Sustrato</a></li>\n      <li [ngClass]=\"{'is-active':_Tintas}\"><a (click)=\"Tintas__()\">Tintas</a></li>\n      <li [ngClass]=\"{'is-active':_Cajas}\"><a (click)=\"Cajas__()\">Cajas corrugadas</a></li>\n      <li [ngClass]=\"{'is-active':_Solucion}\"><a (click)=\"Solucion__()\">Solución de fuentes</a></li>\n      <li [ngClass]=\"{'is-active':_Plancha}\"><a (click)=\"Plancha__()\">Planchas Litográficas</a></li>\n    </ul>\n</div>\n\n\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVO_PRODUCTO}\">\n    <div class=\"modal-background\" (click)='Modal_Almacen()'></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <div class=\"subtitulo\">Nuevo Material</div>\n            <form\n            autocomplete=\"on\"\n            [formGroup]=\"InventarioForm\"\n            (ngSubmit)=\"Almacenar()\"\n            >\n            <div class=\"columns\">\n                <div class=\"column\">\n                    <div class=\"field\">\n                        <label class=\"label\">\n                            Grupo de Material\n                        </label>\n                        <div class=\"select\">\n                            <select (change)='Cambio_opciones($event.target.value)' id='selected' value='otros'>\n                                <option value=\"{{seccion._id}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\n                                <option value=\"otros\">Nuevo</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"column\" *ngIf='OTRO'>\n                    <div class=\"field\">\n                        <label class=\"label\">Nombre del Nuevo Grupo</label>\n                        <div class=\"control\">\n                            <input type=\"text\" class=\"input\" formControlName=\"NewControl\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"columns\" *ngIf=\"caja_\">\n                <div class=\"column\">\n                    <div class=\"control\">\n                        <label class=\"label\">Metros de cinta por caja</label>\n                        <div class=\"control\">\n                            <input type=\"number\" class=\"input\" placeholder=\"Metros de cinta por caja\" formControlName='cinta'>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"column\"></div>\n            </div>\n            <div class=\"Tinta\" *ngIf=\"New_color\">\n                <div class=\"columns\">\n                    <div class=\"column is-4\">\n                        <div class=\"columns\">\n                            <div class=\"column\">\n                                <input type=\"radio\" name=\"color\" id=\"Negro\" value=\"Negro\" (click)=\"define_color($event.target.value)\" checked>\n                                <label> Negro</label> <br>\n                                <input type=\"radio\" name=\"color\" id=\"Cyan\" value=\"Cyan\" (click)=\"define_color($event.target.value)\">\n                                <label> Cyan</label> <br>\n                                <input type=\"radio\" name=\"color\" id=\"Magenta\" value=\"Magenta\" (click)=\"define_color($event.target.value)\">\n                                <label> Magenta</label> <br>\n                            </div>\n                            <div class=\"column\">\n                                <input type=\"radio\" name=\"color\" id=\"Amarillo\" value=\"Amarillo\" (click)=\"define_color($event.target.value)\">\n                                <label> Amarillo</label> <br>\n                                <input type=\"radio\" name=\"color\" id=\"Pantone\" value=\"Pantone\" (click)=\"define_color($event.target.value)\">\n                                <label> Pantone</label> <br>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"column is-5\">\n                        <div class=\"columns\">\n                            <div class=\"column is-3\">\n                                <label class=\"label\">Color:</label>\n                            </div>\n                            <div class=\"column\">\n                                <input type=\"text\" class=\"input\" value=\"Negro\" id=\"color\" formControlName=\"color\" disabled>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"sustrato\" *ngIf='New_Sustrato'>\n                <hr>\n                <div class=\"columns\">\n                    <div class=\"column\">\n                        <div class=\"field\">\n                            <label class=\"label\">Ancho</label>\n                            <div class=\"control\">\n                                <input type=\"number\" class=\"input\" formControlName='ancho'>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"column\">\n                        <div class=\"field\">\n                            <label class=\"label\">Largo</label>\n                            <div class=\"control\">\n                                <input type=\"number\" class=\"input\" formControlName='largo'>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"column\">\n                        <div class=\"field\">\n                            <label class=\"label\">Gramaje</label>\n                            <div class=\"control\">\n                                <input type=\"number\" class=\"input\" formControlName='gramaje'>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"column\">\n                        <div class=\"field\">\n                            <label class=\"label\">Calibre</label>\n                            <div class=\"control\">\n                                <input type=\"number\" class=\"input\" formControlName='calibre'>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <hr>\n            </div>\n                <div class=\"columns\">\n                    <div class=\"column\">\n                        <div class=\"field\">\n                            <label class=\"label\">Material</label>\n                            <div class=\"control\">\n                                <input type=\"text\" class=\"input\" formControlName=\"producto\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"column\">\n                        <div class=\"field\">\n                            <label class=\"label\">Marca</label>\n                            <div class=\"control\">\n                                <input type=\"text\" class=\"input\" formControlName=\"marca\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"column is-3\">\n                        <div class=\"field\">\n                            <label class=\"label\">Presentación</label>\n                            <div class=\"control\">\n                                <input type=\"text\" class=\"input\" formControlName=\"presentacion\">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"columns\">\n                    <div class=\"column \">\n                        <div class=\"field has-addons\">\n                            <p class=\"control\">\n                              <span class=\"select\">\n                                <select formControlName=\"unidad\">\n                                    <option value=\"Kg\">Kg.</option>\n                                    <option value=\"Und\">Und.</option>\n                                    <option value=\"L\">L.</option>\n                                </select>\n                              </span>\n                            </p>\n                            <p class=\"control\">\n                              <input class=\"input\" type=\"text\" placeholder=\"Neto por unidad\" formControlName=\"neto\">\n                            </p>\n                          </div>\n                        <!-- <div class=\"field\">\n                            <label class=\"label\">Neto por Unidad</label>\n                            <div class=\"control\">\n                                <input type=\"number\" class=\"input\" formControlName=\"neto\">\n                            </div>\n                        </div> -->\n                    </div>\n                    <!-- <div class=\"column is-3\">\n                        <div class=\"field\">\n                            <label class=\"label\">Código</label>\n                            <div class=\"control\">\n                                <input type=\"number\" class=\"input\" formControlName=\"codigo\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"column is-3\">\n                        <div class=\"field\">\n                            <label class=\"label\">Lote</label>\n                            <div class=\"control\">\n                                <input type=\"number\" class=\"input\" formControlName=\"lote\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"column is-3\">\n                        <div class=\"field\">\n                            <label class=\"label\">Cantidad</label>\n                            <div class=\"control\">\n                                <input type=\"number\" class=\"input\" formControlName=\"cantidad\">\n                            </div>\n                        </div>\n                    </div> -->\n\n                </div>\n                <button class=\"button is-primary\">Finalizar</button>\n            </form>\n        </div>\n    </div>\n</div>\n\n\n<!-- SUSTRATO -->\n\n<div class=\"card\" *ngIf=\"_Sustrato\">\n    <div class=\"card-content\">\n        <table class=\"table is-fullwidth\">\n            <thead>\n                <tr>\n                    <th>#</th>\n                    <th>Sustrato</th>\n                    <th>Marca</th>\n                    <th>Gramaje</th>\n                    <th>Calibre</th>\n                    <th>\n                        Especificación\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                <ng-container *ngFor=\"let sustrato of Sustrato;index as i\">\n                    <tr>\n                        <td>{{i+1}}</td>\n                        <td>{{sustrato.nombre}}</td>\n                        <td>{{sustrato.marca}}</td>\n                        <td>{{sustrato.gramaje}}</td>\n                        <td>{{sustrato.calibre}}</td>\n                        <td>\n                            <button class=\"button is-small is-success\" (click)=\"modal_sustrato(sustrato._id)\">\n                                <span class=\"icon\">\n                                    <i class=\"fas fa-info\"></i>\n                                </span>\n                                <span>Ver especificación</span>\n                            </button>\n                        </td>\n                    </tr>\n                </ng-container>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n<!-- modal especificacion sustrato -->\n\n<div class=\"modal\" [ngClass]=\"{'is-active':sustrato_modal}\" *ngIf=\"sustrato_selected\">\n    <div class=\"modal-background\" (click)=\"modal_sustrato('x')\"></div>\n    <div class=\"modal-card\">\n      <section class=\"modal-card-body\">\n        <span class=\"subtitulo\">\n            {{sustrato_selected.nombre}}, Marca: {{sustrato_selected.marca}}\n            <br>\n            Calibre: {{sustrato_selected.calibre}}, gramaje:{{sustrato_selected.gramaje}}\n        </span>\n        <hr>\n        <table class=\"table is-fullwidth\">\n            <tr>\n                <th class=\"is-selected sized\">Gramaje (g/m²)</th>\n                <td>\n                    <table class=\"table is-fullwidth is-bordered\">\n                        <thead>\n                            <tr>\n                                <th>Mínimo</th>\n                                <th>Nominal</th>\n                                <th>Máximo</th>\n                            </tr>\n                            <tr>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.gramaje_e[0]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.gramaje_e[0]\">\n                                    </span>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.gramaje_e[1]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.gramaje_e[1]\">\n                                    </span>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.gramaje_e[2]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.gramaje_e[2]\">\n                                    </span>\n                                </td>\n                            </tr>\n                        </thead>\n                    </table>\n                </td>\n            </tr>\n            <tr>\n                <th class=\"is-selected sized\">Calibre</th>\n                <td>\n                    <table class=\"table is-fullwidth is-bordered\">\n                        <thead>\n                            <tr>\n                                <th></th>\n                                <th>Mínimo</th>\n                                <th>Nominal</th>\n                                <th>Máximo</th>\n                            </tr>\n                            <tr>\n                                <td>\n                                    (mm)\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.calibre_e[0]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.calibre_e[0]\">\n                                    </span>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.calibre_e[1]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.calibre_e[1]\">\n                                    </span>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.calibre_e[2]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.calibre_e[2]\">\n                                    </span>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    (pt)\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.calibre_e[3]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.calibre_e[3]\">\n                                    </span>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.calibre_e[4]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.calibre_e[4]\">\n                                    </span>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.calibre_e[5]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.calibre_e[5]\">\n                                    </span>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    (μm)\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.calibre_e[6]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.calibre_e[6]\">\n                                    </span>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.calibre_e[7]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.calibre_e[7]\">\n                                    </span>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.calibre_e[8]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.calibre_e[8]\">\n                                    </span>\n                                </td>\n                            </tr>\n                        </thead>\n                    </table>\n                </td>\n            </tr>\n            <tr>\n                <th class=\"is-selected sized\">Cobb 60\" (g/m²)</th>\n                <td>\n                    <table class=\"table is-fullwidth is-bordered\">\n                        <thead>\n                            <tr>\n                                <th>Mínimo</th>\n                                <th>Nominal</th>\n                                <th>Máximo</th>\n                            </tr>\n                            <tr>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.cobb[0]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.cobb[0]\">\n                                    </span>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.cobb[1]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.cobb[1]\">\n                                    </span>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.cobb[2]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.cobb[2]\">\n                                    </span>\n                                </td>\n                            </tr>\n                        </thead>\n                    </table>\n                </td>\n            </tr>\n            <tr>\n                <th class=\"is-selected sized\">Curling (s)</th>\n                <td>\n                    <table class=\"table is-fullwidth is-bordered\">\n                        <thead>\n                            <tr>\n                                <th>Mínimo</th>\n                                <th>Nominal</th>\n                                <th>Máximo</th>\n                            </tr>\n                            <tr>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.curling[0]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.curling[0]\">\n                                    </span>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.curling[1]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.curling[1]\">\n                                    </span>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.curling[2]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.curling[2]\">\n                                    </span>\n                                </td>\n                            </tr>\n                        </thead>\n                    </table>\n                </td>\n            </tr>\n            <tr>\n                <th class=\"is-selected sized\">Grado de blancura (%)</th>\n                <td>\n                    <table class=\"table is-fullwidth is-bordered\">\n                        <thead>\n                            <tr>\n                                <th>Mínimo</th>\n                                <th>Nominal</th>\n                                <th>Máximo</th>\n                            </tr>\n                            <tr>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.blancura[0]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.blancura[0]\">\n                                    </span>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.blancura[1]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.blancura[1]\">\n                                    </span>\n                                </td>\n                                <td>\n                                    <span *ngIf=\"!Edited_sustrato\">\n                                        {{sustrato_selected.blancura[2]}}\n                                    </span>\n                                    <span *ngIf=\"Edited_sustrato\">\n                                        <input type=\"number\" class=\"input\" [(ngModel)]=\"sustrato_selected.blancura[2]\">\n                                    </span>\n                                </td>\n                            </tr>\n                        </thead>\n                    </table>\n                </td>\n            </tr>\n        </table>\n        <hr>\n        <button class=\"button is-success\" (click)=\"editar_sustrato()\" *ngIf=\"!Edited_sustrato\">\n            <span class=\"icon\">\n                <i class=\"fas fa-edit\"></i>\n            </span>\n            <span>\n                Editar\n            </span>\n        </button>\n        <button class=\"button is-success\" *ngIf=\"Edited_sustrato\" (click)=\"finalizar_sustrato()\">\n            <span class=\"icon\">\n                <i class=\"fas fa-check\"></i>\n            </span>\n            <span>\n                Listo\n            </span>\n        </button>\n      </section>\n    </div>\n  </div>\n\n<!-- final modal especificacion sustrato -->\n\n<!-- FIN SUSTRATO -->\n\n<!-- TINTAS -->\n<div class=\"card\" *ngIf=\"_Tintas\">\n    <div class=\"card-content\">\n        <table class=\"table is-fullwidth\">\n            <thead>\n                <tr>\n                    <th>#</th>\n                    <th>Tinta</th>\n                    <th>Marca</th>\n                    <th>Color</th>\n                    <th>\n                        Especificación\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                <ng-container *ngFor=\"let tinta of Tintas;index as i\">\n                    <tr>\n                        <td>{{i+1}}</td>\n                        <td>{{tinta.nombre}}</td>\n                        <td>{{tinta.marca}}</td>\n                        <td>{{tinta.color}}</td>\n                        <td>\n                            <ng-container *ngIf=\"tinta.color == 'Negro' || tinta.color == 'Amarillo'\">\n                                <!-- <ng-container *ngIf=\"tinta.color == 'Cyan' || tinta.color == 'Magenta' \"> -->\n                                    <button class=\"button is-small is-success\" (click)=\"modal_tintas(tinta._id)\">\n                                        <span class=\"icon\">\n                                            <i class=\"fas fa-info\"></i>\n                                        </span>\n                                        <span>Ver especificación</span>\n                                    </button>\n                                <!-- </ng-container> -->\n                            </ng-container>\n                            <ng-container *ngIf=\"tinta.color == 'Cyan' || tinta.color == 'Magenta' \">\n                                <button class=\"button is-small is-success\" (click)=\"modal_tintas(tinta._id)\">\n                                    <span class=\"icon\">\n                                        <i class=\"fas fa-info\"></i>\n                                    </span>\n                                    <span>Ver especificación</span>\n                                </button>\n                                <!-- </ng-container> -->\n                            </ng-container>\n                             <button class=\"button is-small is-info\" *ngIf=\"tinta.color != 'Negro' && tinta.color != 'Amarillo' && tinta.color != 'Cyan' && tinta.color != 'Magenta' \" (click)=\"modal_tintas_(tinta._id)\">\n                                <span class=\"icon\">\n                                    <i class=\"fas fa-eye-dropper\"></i>\n                                </span>\n                                <span>\n                                    Preparación\n                                </span>\n                            </button>\n                        </td>\n                    </tr>\n                </ng-container>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n<div class=\"modal\" [ngClass]=\"{'is-active':tinta_modal}\" *ngIf=\"tinta_selected\">\n    <div class=\"modal-background\" (click)=\"modal_tintas('x')\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <div class=\"subtitulo\">\n                {{tinta_selected.nombre}}, Marca:{{tinta_selected.marca}}\n            </div>\n            <hr>\n            <table class=\"table is-fullwidth\" *ngIf=\"tinta_selected.marca == 'Huber'\">\n                <thead>\n                    <tr>\n                        <th class=\"is-selected sized_\">Inko</th>\n                        <td>10 - 12</td>\n                    </tr>\n                </thead>\n            </table>\n            <table class=\"table is-fullwidth\" *ngIf=\"tinta_selected.marca == 'Martínez Ayala (M.A.)' || tinta_selected.marca ==  'M.A.'\">\n                <thead>\n                    <tr>\n                        <th class=\"is-selected sized_\">TACK (100m)@30°C</th>\n                        <td>115 - 135</td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized_\">FUERZA COLORANTE (%)</th>\n                        <td>95 - 105</td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized_\">VISCOSIDAD (POISES)@20°C</th>\n                        <td>400 - 450</td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized_\">RIGIDEZ nas/cm2, 20</th>\n                        <td>6.000 - 14.000</td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized_\">FLUIDEZ (CM)@20°C</th>\n                        <td>5 - 9</td>\n                    </tr>\n                </thead>\n            </table>\n\n            <table class=\"table is-fullwidth\" *ngIf=\"tinta_selected.marca == 'Olin' || tinta_selected.marca == 'OLIN'\">\n                <thead>\n                    <tr>\n                        <th class=\"is-selected sized_\">TONO, TRANSPARENCIA, OPACIDAD Y FUERZA DE COLOR</th>\n                        <td>Buena</td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized_\">VISCOSIDAD LARAY (POISES)@25°C</th>\n                        <td>200-450</td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized_\">RIGIDEZ (DINAS/CM2)@25°C</th>\n                        <td>10000 - 15000</td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized_\">INKO O TACK @400 RPM @32°C</th>\n                        <td>10 - 12</td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized_\">DISPERSION O FINURA (NPIRI)</th>\n                        <td>0 - 3</td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized_\">ADHERENCIA</th>\n                        <td>Buena</td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized_\">SECADO EN CAPA FINA (HORAS)</th>\n                        <td>2 - 3</td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized_\">RESISTENCIA AL FROTE EN SECO</th>\n                        <td>Buena</td>\n                    </tr>\n                </thead>\n            </table>\n        </div>\n    </div>\n</div>\n\n<div class=\"modal\" [ngClass]=\"{'is-active':preparacion_tinta}\" *ngIf=\"tinta_selected\">\n    <div class=\"modal-background\" (click)=\"modal_tintas_('x')\"></div>\n    <div class=\"modal-card\">\n    <div class=\"modal-card-body\">\n        <div class=\"subtitulo\">\n            {{tinta_selected.nombre}} ({{tinta_selected.color}})\n        </div>\n        Preparación: <br>\n        Cantidad para 1kg\n        <hr>\n        <div class=\"select is-small\">\n            <select id=\"\" #tinta_seleccionada>\n                <ng-container *ngFor=\"let tinta of Tintas;index as i\">\n                    <option value=\"{{tinta._id}}\" *ngIf=\"tinta.color == 'Negro' || tinta.color == 'Amarillo'\">{{tinta.nombre}} ({{tinta.marca}})</option>\n                    <option value=\"{{tinta._id}}\" *ngIf=\"tinta.color == 'Cyan' || tinta.color == 'Magenta' \">{{tinta.nombre}} ({{tinta.marca}})</option>\n                </ng-container>\n            </select>\n        </div>\n        <br> <br>\n        <div class=\"columns\">\n            <div class=\"column is-3\">\n                <div class=\"control\">\n                    <input type=\"number\" class=\"input is-small\" placeholder=\"Cantidad\" #cantidad_seleccionada>\n                </div>\n            </div>\n            <div class=\"column\">\n                <button class=\"button is-small is-success\" (click)=\"agregar_preparacion(tinta_seleccionada.value, cantidad_seleccionada.value)\">\n                    <span class=\"icon\">\n                        <i class=\"fas fa-plus\"></i>\n                    </span>\n                    <span>\n                        Agregar\n                    </span>\n                </button>\n            </div>\n        </div>\n\n        <hr>\n\n        <table class=\"table is-fullwidth\">\n            <thead>\n                <tr>\n                    <th>Tinta</th>\n                    <th>Cantidad (g)</th>\n                    <th>Eliminar</th>\n                </tr>\n                <tr *ngFor=\"let tinta of preparacion_pendiente;index as i\">\n                    <td>{{tinta.nombre}}</td>\n                    <td>{{tinta.cantidad}}</td>\n                    <td>\n                    <button class=\"button is-danger is-outlined\" (click)=\"delete_formula(i)\">\n                        <span class=\"icon\">\n                            <i class=\"fas fa-trash-alt\"></i>\n                        </span>\n                    </button>\n                </td>\n                </tr>\n            </thead>\n        </table>\n        <button class=\"button is-small is-success\" (click)=\"Finalizar_formula(tinta_selected._id)\">\n            <span class=\"icon\">\n                <i class=\"fas fa-check\"></i>\n            </span>\n            <span>\n                Finalizar\n            </span>\n        </button>\n    </div>\n    </div>\n</div>\n\n\n<!-- Fin tintas -->\n\n<!-- SOLUCION DE FUENTE -->\n<div class=\"card\" *ngIf=\"_Solucion\">\n    <div class=\"card-content\">\n        <table class=\"table is-fullwidth\">\n            <thead>\n                <tr>\n                    <!-- <th>#</th> -->\n                    <th>Solucion</th>\n                    <th>Marca</th>\n                    <th>Especificación</th>\n                </tr>\n            </thead>\n            <tbody>\n                <ng-container *ngFor=\"let quimico of Quimicos;index as i\">\n                    <tr *ngIf=\"quimico.nombre === 'Solución de Fuente'\">\n                        <!-- <td>{{i+1}}</td> -->\n                        <td>{{quimico.nombre}}</td>\n                        <td>{{quimico.marca}}</td>\n                        <td>\n                            <button class=\"button is-small is-success\" (click)=\"modal_fuentes(quimico._id)\">\n                            <span class=\"icon\">\n                                <i class=\"fas fa-info\"></i>\n                            </span>\n                            <span>Ver especificación</span>\n                            </button>\n                        </td>\n                    </tr>\n                </ng-container>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n<div class=\"modal\" [ngClass]=\"{'is-active':fuente_modal}\" *ngIf=\"fuente_selected\">\n    <div class=\"modal-background\" (click)=\"modal_fuentes('x')\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <div class=\"subtitulo\">\n                {{fuente_selected.nombre}}, Marca:{{fuente_selected.marca}}\n            </div>\n            <hr>\n            <table class=\"table is-fullwidth is-bordered\">\n                <thead>\n                    <tr>\n                        <th class=\"is-selected sized\">Fabricante</th>\n                        <td>\n                            <span *ngIf=\"!Edited_fuente\">\n                                {{fuente_selected.chemical}} <br>\n                            </span>\n                            <span *ngIf=\"Edited_fuente\">\n                               <input type=\"text\" class=\"input is-small sized__\" [(ngModel)]=\"fuente_selected.chemical\">                        \n                            </span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized\">pH</th>\n                        <td>\n                            <span *ngIf=\"!Edited_fuente\">\n                                {{fuente_selected.ph}} <br>\n                            </span>\n                            <span *ngIf=\"Edited_fuente\">\n                               <input type=\"text\" class=\"input is-small sized__\" [(ngModel)]=\"fuente_selected.ph\">         \n                            </span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized\">Conductividad (μS/cm)</th>\n                        <td>\n                            <span *ngIf=\"!Edited_fuente\">\n                                {{fuente_selected.conductividad}} <br>\n                            </span>\n                            <span *ngIf=\"Edited_fuente\">\n                               <input type=\"text\" class=\"input is-small sized__\" [(ngModel)]=\"fuente_selected.conductividad\">         \n                            </span>\n                        </td>\n                    </tr>\n                </thead>\n            </table>\n            <button class=\"button is-success\" *ngIf=\"!Edited_fuente\" (click)=\"editar_fuente()\">\n                <span class=\"icon\">\n                    <i class=\"fas fa-edit\"></i>\n                </span>\n                <span>\n                    Editar\n                </span>\n            </button>\n            <button class=\"button is-success\" *ngIf=\"Edited_fuente\" (click)=\"finalizar_edicion_fuente()\">\n                <span class=\"icon\">\n                    <i class=\"fas fa-check\"></i>\n                </span>\n                <span>\n                    Lista\n                </span>\n            </button>\n        </div>\n    </div>\n</div>\n<!-- FIN SOLUCION DE FUENTE -->\n\n\n<!-- CAJAS CORRUGADAS -->\n\n<div class=\"card\" *ngIf=\"_Cajas\">\n<div class=\"card-content\">\n    <table class=\"table is-fullwidth\">\n        <thead>\n            <tr>\n                <th>Modelo</th>\n                <th>Especificación</th>\n            </tr>\n        </thead>\n        <tbody>\n            <ng-container *ngFor=\"let caja of Cajas;index as i\">\n                <tr *ngIf=\"caja.nombre != ''\">\n                    <td>{{caja.nombre}}</td>\n                    <td>\n                        <button class=\"button is-small is-success\" (click)=\"modal_caja(caja._id)\">\n                            <span class=\"icon\">\n                                <i class=\"fas fa-info\"></i>\n                            </span>\n                            <span>Ver especificación</span>\n                        </button>\n                    </td>\n                </tr>\n            </ng-container>\n        </tbody>\n    </table>\n</div>\n</div>\n\n<div class=\"modal\" [ngClass]=\"{'is-active':caja_modal}\" *ngIf=\"caja_selected\">\n    <div class=\"modal-background\" (click)=\"modal_caja('x')\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <span class=\"subtitulo\">\n                Caja: {{caja_selected.nombre}}\n            </span>\n            <hr>\n            <table class=\"table is-fullwidth is-bordered\">\n                <thead>\n                    <tr>\n                        <th class=\"is-selected sized\">Descripción</th>\n                        <td>\n                            <span *ngIf=\"!Edited_caja\">\n                                {{caja_selected.descripcion}}\n                            </span>\n                            <span *ngIf=\"Edited_caja\">\n                                <input type=\"text\" class=\"input is-small sized__\" [(ngModel)]=\"caja_selected.descripcion\">\n                            </span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized\">Tipo</th>\n                        <td>\n                            <span *ngIf=\"!Edited_caja\">\n                                {{caja_selected.tipo}}\n                            </span>\n                            <span *ngIf=\"Edited_caja\">\n                                <input type=\"text\" class=\"input is-small sized__\" [(ngModel)]=\"caja_selected.tipo\">\n                            </span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <th class=\"is-selected sized\">ECT Mínimo (KN/m)</th>\n                        <td>\n                            <span *ngIf=\"!Edited_caja\">\n                                {{caja_selected.ECT}}\n                            </span>\n                            <span *ngIf=\"Edited_caja\">\n                                <input type=\"text\" class=\"input is-small sized__\" [(ngModel)]=\"caja_selected.ECT\">\n                            </span>\n                        </td>\n                    </tr>\n                </thead>\n            </table>\n            <button class=\"button is-success\" *ngIf=\"!Edited_caja\" (click)=\"editar_caja()\">\n                <span class=\"icon\">\n                    <i class=\"fas fa-edit\"></i>\n                </span>\n                <span>\n                    Editar\n                </span>\n            </button>\n            <button class=\"button is-success\" *ngIf=\"Edited_caja\" (click)=\"finalizar_edicion_caja()\">\n                <span class=\"icon\">\n                    <i class=\"fas fa-check\"></i>\n                </span>\n                <span>\n                    Lista\n                </span>\n            </button>\n        </div>\n    </div>\n</div>\n\n<!-- FIN CAJAS CORRUGADAS  -->\n\n\n<!-- PLANCHA LITOGRAFICA -->\n<div class=\"card\" *ngIf=\"_Plancha\">\n    <div class=\"card-content\">\n        <table class=\"table is-fullwidth\">\n            <thead>\n                <tr>\n                    <th>Nombre</th>\n                    <th>Marca</th>\n                    <th>Especificación</th>\n                </tr>\n            </thead>\n            <tbody>\n                <ng-container *ngFor=\"let plancha of Planchas\">\n                    <tr *ngIf=\"plancha.nombre === 'Planchas Litográficas'\">\n                        <td>{{plancha.nombre}}</td>\n                        <td>{{plancha.marca}}</td>\n                        <td>\n                            <button class=\"button is-small is-success\" (click)=\"modal_plancha(plancha._id)\">\n                                <span class=\"icon\">\n                                    <i class=\"fas fa-info\"></i>\n                                </span>\n                                <span>Ver especificación</span>\n                            </button>\n                        </td>\n                    </tr>\n                </ng-container>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n<div class=\"modal\" [ngClass]=\"{'is-active':plancha_modal}\" *ngIf=\"plancha_selected\">\n    <div class=\"modal-background\" (click)=\"modal_plancha('x')\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <span class=\"subtitulo\">\n                {{plancha_selected.nombre}}, Marca: {{plancha_selected.marca}}\n            </span>\n            <hr>\n            <table class=\"table is-fullwidth is-bordered\">\n                <thead>\n                    <tr>\n                        <th class=\"is-selected sized\">Tiempo de exposición de quemado</th>\n                        <td>\n                            <span *ngIf=\"!Edited_plancha\">\n                                <br>\n                                {{plancha_selected.teq}}\n                            </span>\n                            <span *ngIf=\"Edited_plancha\">\n                                <br>\n                                <input type=\"text\" class=\"input is-small sized__\" [(ngModel)]=\"plancha_selected.teq\">\n                            </span>\n                        </td>\n                    </tr>\n                </thead>\n            </table>\n            <button class=\"button is-success\" *ngIf=\"!Edited_plancha\" (click)=\"editar_plancha()\">\n                <span class=\"icon\">\n                    <i class=\"fas fa-edit\"></i>\n                </span>\n                <span>\n                    Editar\n                </span>\n            </button>\n            <button class=\"button is-success\" *ngIf=\"Edited_plancha\" (click)=\"finalizar_edicion_plancha()\">\n                <span class=\"icon\">\n                    <i class=\"fas fa-check\"></i>\n                </span>\n                <span>\n                    Lista\n                </span>\n            </button>\n        </div>\n    </div>\n</div>\n<!-- FIN PLANCHA LITOGRAFICA -->\n\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-despacho',\n  templateUrl: './despacho.component.html',\n  styleUrls: ['./despacho.component.css']\n})\nexport class DespachoComponent implements OnInit {\n\n  @Input() despacho:any\n  @Output() onCloseModal = new EventEmitter();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  onClose(){\n    this.despacho = false;\n    this.onCloseModal.emit();\n  }\n\n}\n","<div class=\"modal\" [ngClass]=\"{'is-active':despacho}\">\n    <div class=\"modal-background\" (click)='onClose()'></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <div class=\"subtitulo\">\n                Despacho de producto\n            </div>\n            <hr>\n            \n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\n@Component({\r\n  selector: 'app-producto-ymaquinaria',\r\n  templateUrl: './producto-ymaquinaria.component.html',\r\n  styleUrls: ['./producto-ymaquinaria.component.css']\r\n})\r\nexport class ProductoYMaquinariaComponent implements OnInit {\r\n\r\n  constructor(private api:RestApiService) {\r\n    this.usuario = api.usuario\r\n }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  public usuario\r\n\r\n}\r\n","<app-navbar></app-navbar>\r\n<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CotizacionComponent } from './cotizacion.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { CotizacionRoutingModule } from './cotizacion-routing.module';\nimport { GestionComponent } from './gestion/gestion.component';\nimport { PreFacturacionComponent } from './pre-facturacion/pre-facturacion.component';\nimport { MainComponent } from './main/main.component';\nimport { TokenValidationComponent } from '../token-validation/token-validation.component';\nimport { EtiquetaComponent } from './etiqueta/etiqueta.component';\nimport { NgxQRCodeModule } from '@techiediaries/ngx-qrcode';\nimport { ConsultaFacturacionComponent } from './consulta-facturacion/consulta-facturacion.component';\n\n\n\n@NgModule({\n  declarations: [CotizacionComponent, GestionComponent, EtiquetaComponent, PreFacturacionComponent, MainComponent, TokenValidationComponent, ConsultaFacturacionComponent],\n  imports: [\n    SharedModule,\n    CommonModule,\n    CotizacionRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule,\n    NgxQRCodeModule\n  ]\n})\nexport class CotizacionModule { }\n","import { Component, OnInit } from '@angular/core';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.css']\r\n})\r\nexport class NavbarComponent implements OnInit {\r\n\r\n  constructor(private usuarioService:RestApiService) { \r\n    this.usuario = usuarioService.usuario;\r\n  }\r\n\r\n  public usuario: Usuario\r\n  public cambio_cont:boolean = false\r\n\r\n  pass1 = ''\r\n  pass2 = ''\r\n\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  logout(){\r\n    this.usuarioService.logout();\r\n  }\r\n\r\n  cambiar(){\r\n    if(this.cambio_cont){\r\n      this.cambio_cont = false\r\n    }else{\r\n      this.cambio_cont = true\r\n    }\r\n  }\r\n\r\n  cambiarPass(){\r\n    let data = {\r\n      correo:this.usuario.Correo,\r\n      pass:this.pass1\r\n    }\r\n\r\n    this.usuarioService.cambiarContrasena(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          title:'Contraseña Cambiada',\r\n          text:'Se realizó el cambio de contraseña',\r\n          icon:'success',\r\n          showConfirmButton:false,\r\n        })\r\n        this.pass1 = ''\r\n        this.pass2 = ''\r\n        this.cambiar()\r\n      })\r\n  }\r\n\r\n}\r\n","<nav class=\"navbar is-primary\" role=\"navigation\" aria-label=\"main navigation\">\r\n    <div class=\"navbar-brand\">\r\n        <a class=\"navbar-item\" routerLink=\"\">\r\n            <img src=\"../../../assets/logo_nav.png\" width=\"112\" height=\"28\">\r\n        </a>\r\n    </div>\r\n    <div class=\"navbar-end\">\r\n        <div class=\"navbar-item has-dropdown is-hoverable\">\r\n            <a class=\"navbar-link\">\r\n                {{usuario.Nombre}} {{usuario.Apellido}}\r\n            </a>\r\n    \r\n            <div class=\"navbar-dropdown\">\r\n              <a class=\"navbar-item\" (click)=\"cambiar()\">\r\n                Cambiar Contraseña\r\n              </a>\r\n              <a class=\"navbar-item\" (click)='logout()'>\r\n                Cerrar Sesion\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  </nav>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':cambio_cont}\">\r\n  <div class=\"modal-background\" (click)=\"cambiar()\"></div>\r\n  <div class=\"modal-card\">\r\n    <div class=\"modal-card-head\">\r\n      <div class=\"modal-card-title\">Cambio de Contraseña</div>\r\n    </div>\r\n      <div class=\"modal-card-body\">\r\n          <div class=\"field\">\r\n            <label class=\"label\">Nueva Contraseña</label>\r\n            <div class=\"control\">\r\n              <input type=\"password\" class=\"input\" [(ngModel)]=\"pass1\">\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"field\">\r\n            <label class=\"label\">Repetir Contraseña</label>\r\n            <div class=\"control\">\r\n              <input type=\"password\" class=\"input\" [(ngModel)]=\"pass2\">\r\n            </div>\r\n            <p class=\"alerta\" *ngIf=\"pass2 != '' && pass2 != pass1\">Contraseñas no coinciden</p>\r\n          </div>\r\n\r\n          <div class=\"button is-primary\" *ngIf=\"pass2 != '' && pass2 == pass1\" (click)=\"cambiarPass()\">Cambiar Contraseña</div>\r\n      </div>\r\n  </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MainComponent } from './main/main.component';\r\nimport { AlmacenRoutingModule } from './almacen-routing.module';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { ConfirmacionComponent } from './main/confirmacion/confirmacion.component';\r\nimport { AsignacionComponent } from './main/asignacion/asignacion.component';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [MainComponent, ConfirmacionComponent, AsignacionComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AlmacenRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class AlmacenModule { }\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-adicionales',\n  templateUrl: './adicionales.component.html',\n  styleUrls: ['./adicionales.component.css']\n})\nexport class AdicionalesComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>adicionales works!</p>\n","import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SubirArchivosService {\r\n  api_url = environment.api;\r\n\r\n  constructor() { }\r\n\r\n\r\n  async actualizarFoto(\r\n    archivo:File,\r\n    tipo:'usuarios'|'errors'|'producto'|'despacho'|'distribucion'|'aereo',\r\n    id:string\r\n  ) {\r\n    try{\r\n      \r\n      const url = `${this.api_url}/upload/${tipo}/${id}`;\r\n      const formData = new FormData(); \r\n      formData.append('archivo', archivo);\r\n\r\n      const resp = await fetch( url ,{\r\n        method:'PUT',\r\n        headers: {\r\n          'Authorization': localStorage.getItem('token') || ''\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const data = await resp.json();\r\n      if (data.ok){\r\n        Swal.fire({title:'Excelente!', text:'Se ha actualizado la imagen del producto', icon:'success', showConfirmButton:false, timer:2000, timerProgressBar:true});\r\n        return data.img\r\n      }else{\r\n        Swal.fire('Error', data.err.message, 'error');\r\n        \r\n        return false;\r\n      }\r\n      return 'path image'\r\n\r\n\r\n    } catch(error){\r\n      // console.log(error)\r\n      return false;\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { tap } from 'rxjs/operators';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n\r\n  constructor(private api:RestApiService,\r\n              private router:Router){\r\n\r\n  }\r\n\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot){\r\n\r\n      return this.api.validarToken()\r\n      .pipe(\r\n        tap(isAuth =>{\r\n          if (!isAuth){\r\n            this.router.navigateByUrl('login')\r\n          }\r\n        })\r\n      )\r\n  }\r\n  \r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { OrdenesComponent } from './ordenes.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { MainComponent } from './main/main.component';\r\nimport { OrdenComponent } from '../orden/orden.component';\r\nimport { GestionComponent } from './gestion/gestion.component';\r\nimport { EtiquetaComponent } from '../cotizacion/etiqueta/etiqueta.component';\r\n\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:OrdenesComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:MainComponent\r\n      },\r\n      {\r\n        path:'gestion',\r\n        component:GestionComponent\r\n      },\r\n      {\r\n        path:'etiqueta',\r\n        component:EtiquetaComponent\r\n      }\r\n      \r\n      ]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class OrdenesRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\nimport Swal from 'sweetalert2';\r\n@Component({\r\n  selector: 'app-gestion',\r\n  templateUrl: './gestion.component.html',\r\n  styleUrls: ['./gestion.component.css']\r\n})\r\nexport class GestionComponent implements OnInit {\r\n  \r\n  public TRABAJOS = [];\r\n  public MAQUINAS;\r\n  public NUEVA_GESTION:boolean = false;\r\n  public FASE = 'IMPRESION';\r\n  public GESTIONES;\r\n  public LAST_ONE;\r\n  public HOY = moment().format('yyyy-MM-DD');\r\n  public FASES = [];\r\n  public FUNCIONES = [];\r\n\r\n  public GRUPOS = [];\r\n  public orden = [];\r\n  public usuario\r\n  public jo:boolean = false;\r\n  public despacho:boolean = false;\r\n\r\n  public Despachos = [];\r\n\r\n  public edit = -1;\r\n\r\n\r\n  devolucion:boolean = false;\r\n  solicitud:boolean = false;\r\n\r\n  constructor(private api:RestApiService) { \r\n      this.usuario = api.usuario;\r\n    }\r\n\r\n  ngOnInit(): void {\r\n    this.Tarea();\r\n    this.getMaquinas();\r\n    this.getGestiones();\r\n    this.getOrdenes();\r\n    this.getDespachos();\r\n    this.api.getGrupos()\r\n      .subscribe((resp:any)=>{\r\n\r\n        this.GRUPOS = resp.grupos\r\n        // console.log(this.GRUPOS,'___________________________________________*')\r\n      })\r\n  }\r\n\r\n  verificacion(cadena){\r\n    let factura = cadena.substr(0,1)\r\n    if(factura == \"F\"){\r\n      return true\r\n    }else{\r\n      return false\r\n    }\r\n  }\r\n\r\n  public Almacenes_edicion = []\r\n  public almacen__ = false;\r\n  BuscarAlmacen(producto){\r\n    console.log(producto)\r\n    this.api.BuscarAlmacenes(producto)\r\n      .subscribe((resp:any)=>{\r\n        // console.log(resp)\r\n        this.Almacenes_edicion.push(resp)\r\n        this.almacen__ = true;\r\n        return resp;\r\n      })\r\n  }\r\n\r\n  cambiarAlmacenes(e,x,y){\r\n\r\n    this.Despachos[x].despacho[y].destino = e;\r\n    this.api.PutDespachos(this.Despachos[x]._id, this.Despachos[x])\r\n    .subscribe((resp:any)=>{\r\n      // console.log('done')\r\n    })\r\n  }\r\n\r\n  documento(e,x,y){\r\n    \r\n    let factura = (<HTMLInputElement>document.getElementById(`${x}_${y}`)).checked\r\n    if(factura){\r\n      this.Despachos[x].despacho[y].documento = `F - ${e}`\r\n    }else{\r\n      this.Despachos[x].despacho[y].documento = `N - ${e}`\r\n    }\r\n\r\n    this.api.PutDespachos(this.Despachos[x]._id, this.Despachos[x])\r\n    .subscribe((resp:any)=>{\r\n      // console.log('done')\r\n    })\r\n\r\n  }\r\n\r\n  despachar(x,y,op){\r\n\r\n    Swal.fire({\r\n      title: 'Cuidado',\r\n      text: `¿Quieres realizar el despacho sólo de la orden ${op} sin tomar en cuenta las otras?`,\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      cancelButtonText:'Cancelar',\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Si, despachar'\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        if(this.Despachos[x].despacho[y].documento == \"\" || this.Despachos[x].despacho[y].certificado == \"\"){\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Debes llenar todos los campos',\r\n            text: 'Es necesario que el despacho cuente con un número de certificado y un documento para poder proceder.',\r\n            showConfirmButton:false\r\n          })\r\n          return\r\n        }\r\n        let hoy = moment().format('DD-MM-yyyy');\r\n        this.Despachos[x].despacho[y].parcial = hoy;\r\n        this.api.PutDespachos(this.Despachos[x]._id, this.Despachos[x])\r\n          .subscribe((resp:any)=>{\r\n      // console.log('done')\r\n      let iterator = 0;\r\n      for(let i=0;i<this.Despachos[x].despacho.length;i++){\r\n        // console.log(i,'iterator', this.Despachos[x].despacho.length)\r\n        console.log(this.Despachos[x].despacho[i].parcial)\r\n        if(!this.Despachos[x].despacho[i].parcial){\r\n          iterator++\r\n\r\n        }\r\n\r\n        if(i == this.Despachos[x].despacho.length -1){\r\n          if(iterator < 1){\r\n            this.Despachos[x].fecha = hoy\r\n            this.Despachos[x].estado = 'despachado'\r\n            this.api.PutDespachos(this.Despachos[x]._id, this.Despachos[x])\r\n              .subscribe((resp:any)=>{\r\n                 this.getDespachos();\r\n            })\r\n          }\r\n        }\r\n      }\r\n        })\r\n        Swal.fire(\r\n          {\r\n            title:'Despachado',\r\n            text:`Se realizó el despacho de la orden ${op}`,\r\n            icon:'success',\r\n            showConfirmButton:false\r\n          }\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  certificado(e,x,y){\r\n    this.Despachos[x].despacho[y].certificado = e;\r\n\r\n    this.api.PutDespachos(this.Despachos[x]._id, this.Despachos[x])\r\n    .subscribe((resp:any)=>{\r\n      // console.log('done')\r\n    })\r\n\r\n  }\r\n\r\n  editado(e,x,y){\r\n    this.Almacenes_edicion = []\r\n    this.Despachos[x].despacho[y].cantidad = Number(e);\r\n\r\n    this.api.PutDespachos(this.Despachos[x]._id, this.Despachos[x])\r\n    .subscribe((resp:any)=>{\r\n      // console.log('done')\r\n    })\r\n    // console.log(this.Despachos[x])\r\n  }\r\n\r\n  nuevo_despacho(){\r\n    this.despacho = true;\r\n  }\r\n\r\n  editar_cant(x){\r\n    this.edit = x\r\n    console.log(this.Despachos[x])\r\n    for(let i=0;i<this.Despachos[x].despacho.length;i++){\r\n      let almacenes = this.BuscarAlmacen(this.Despachos[x].despacho[i].producto)\r\n    }\r\n  }\r\n\r\n  listo(){\r\n    this.almacen__ = false;\r\n    this.Almacenes_edicion = []\r\n    this.edit = -1;\r\n  }\r\n\r\n  Despachado_(id,x){\r\n    for(let i=0;i<this.Despachos[x].despacho.length;i++){\r\n      if(this.Despachos[x].despacho[i].certificado == \"\" || this.Despachos[x].despacho[i].documento == \"\"){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Debes llenar todos los campos',\r\n          text: 'Es necesario que todos los despachos cuenten con un número de certificado y un documento para poder proceder.',\r\n          showConfirmButton:false\r\n        })\r\n        return\r\n      }\r\n    }\r\n    this.api.PutDespacho(id,this.Despachos[x])\r\n      .subscribe((resp:any)=>{\r\n        // console.log(resp)\r\n        if(resp.orden){\r\n          Swal.fire({\r\n            title:'Limite excedido',\r\n            text:`el despacho de la orden ${resp.orden} supera el 110% de la cantidad solicitada`,\r\n            icon:'error',\r\n            showConfirmButton:false\r\n          })\r\n        }else{\r\n        Swal.fire({\r\n          title:'Despacho realizado',\r\n          text:'Se realizó despacho de productos',\r\n          icon:'success',\r\n          showConfirmButton:false\r\n        })\r\n      }\r\n        this.getDespachos();\r\n      })\r\n  }\r\n\r\n  getDespachos(){\r\n    this.api.GetDespacho()\r\n    .subscribe((resp:any)=>{\r\n      this.Despachos = resp\r\n      // console.log(this.Despachos)\r\n    })\r\n  }\r\n\r\n  modal_solicitud(){\r\n    if(this.solicitud){\r\n      this.solicitud = false\r\n    }else{\r\n      this.solicitud = true\r\n    }\r\n  }\r\n\r\n  getOrdenes(){\r\n    this.api.getOrden()\r\n    .subscribe( (resp:any) => {\r\n      this.orden = resp;\r\n    } )\r\n\r\n  }\r\n\r\n  JustOne(n){\r\n    if(n <= 0){\r\n      this.jo = true;\r\n    }\r\n  }\r\n\r\n  format(fecha){\r\n    let fecha_formateada = moment(fecha).format('DD-MM-yyyy')\r\n    return fecha_formateada\r\n  }\r\n\r\n  modal_Devolucion(){\r\n    if(this.devolucion){\r\n      this.devolucion = false\r\n    }else{\r\n      this.devolucion = true\r\n    }\r\n  }\r\n\r\n  modal_nueva_gestion(){\r\n    if(!this.NUEVA_GESTION){\r\n      this.NUEVA_GESTION = true\r\n    }else{\r\n      this.NUEVA_GESTION = false\r\n    }\r\n  }\r\n  fase(e){\r\n    this.FASE = e.target.value;\r\n    this.TRABAJOS = [];\r\n    this.Tarea();\r\n  }\r\n\r\n  getMaquinas(){\r\n    this.api.GetMaquinas()\r\n      .subscribe(resp =>{\r\n        this.MAQUINAS = resp\r\n        this.obtenerTipos();\r\n      })\r\n  }\r\n\r\n  obtenerTipos(){\r\n    let x = this.MAQUINAS.length;\r\n    for(let i = 0; i< x; i++){\r\n      let inde = this.FUNCIONES.includes(this.MAQUINAS[i].tipo)\r\n      if(!inde){\r\n        this.FUNCIONES.push(this.MAQUINAS[i].tipo)\r\n      }\r\n    }\r\n  }\r\n\r\n  calcular_Productos(e){\r\n    let value_hojas = e.target.value;\r\n    let orden =  (<HTMLInputElement>document.getElementById('orden_selected')).value;\r\n\r\n    let separator = orden.split('-')\r\n    orden = separator[1];\r\n\r\n    let Ejemplares = this.TRABAJOS.find(x => x._id == orden);\r\n\r\n\r\n    const productos:any = value_hojas * Ejemplares.orden.producto.ejemplares[Ejemplares.orden.montaje];\r\n\r\n    // console.log(value_hojas,'value');\r\n    // console.log(Ejemplares,'Ejemplares');\r\n\r\n    (<HTMLInputElement>document.getElementById('productos_input')).value = productos;\r\n  }\r\n\r\n  calcular_Hojas(e){\r\n    let value_productos = e.target.value;\r\n\r\n    let orden =  (<HTMLInputElement>document.getElementById('orden_selected')).value;\r\n\r\n    let separator = orden.split('-')\r\n    orden = separator[1];\r\n\r\n\r\n    let Ejemplares = this.TRABAJOS.find(x => x._id == orden);\r\n\r\n    const productos:any = Math.ceil(value_productos / Ejemplares.orden.producto.ejemplares[Ejemplares.orden.montaje]);\r\n\r\n    (<HTMLInputElement>document.getElementById('hojas_input')).value = productos;\r\n  }\r\n\r\n  retrasar(orden:any, maquina:any, fecha:any, trabajo:any, dias){\r\n\r\n    let data = {\r\n      orden:orden,\r\n      maquina:maquina,\r\n      fecha:fecha,\r\n      trabajo:trabajo,\r\n      dias\r\n    }\r\n\r\n    this.api.postRestrasar(data)\r\n      .subscribe((resp:any)=>{\r\n        // console.log(resp)\r\n        Swal.fire({\r\n          icon:'info',\r\n          title:'Se realizó un retraso en la planificación',\r\n          text:'se agregó 1 dia mas a esta gestión y a todas las ordenes que utilicen estos mismos equipos',\r\n          showConfirmButton:false,\r\n        });\r\n        this.TRABAJOS = [];\r\n        this.Tarea();\r\n        this.getMaquinas();\r\n        this.getGestiones();\r\n      });\r\n  }\r\n\r\n  redondear(x,y){\r\n      return Math.ceil(x/y)\r\n  }\r\n\r\n  acelerar(orden:any, maquina:any, fecha:any, trabajo:any, fechaI:any, dias){\r\n\r\n    let fecha_lapsos = moment(fecha)\r\n    let fechaI_lapso = moment(fechaI)\r\n    let lapso = fecha_lapsos.diff(fechaI_lapso, 'days')\r\n\r\n    if(lapso < 1){\r\n      Swal.fire({\r\n        icon:'error',\r\n        text:'Esta gestión termina hoy',\r\n        showConfirmButton:false,\r\n      });\r\n      return\r\n    }\r\n\r\n    let data = {\r\n      orden:orden,\r\n      maquina:maquina,\r\n      fecha:fecha,\r\n      trabajo:trabajo,\r\n      dias\r\n    }\r\n\r\n    this.api.postAcelerar(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          icon:'success',\r\n          title:'Fue adelantada la planificación',\r\n          text:'se adelantó 1 dia mas a esta gestión y a todas las ordenes que utilizen estos mismos equipos',\r\n          showConfirmButton:false,\r\n        });\r\n        this.TRABAJOS = [];\r\n        this.Tarea();\r\n    this.getMaquinas();\r\n    this.getGestiones();\r\n      })\r\n  }\r\n\r\n  CompararTama(op, fase, grupo, hojas_, productos_,){\r\n    // // console.log(fase,'<>',grupo)\r\n    let group = this.GRUPOS.find(x=> x._id === grupo)\r\n\r\n    let index = group.tipos.findIndex(x => x === fase)\r\n\r\n    if(index > 0){\r\n      let gest = this.GESTIONES.filter(x => x.maquina.tipo == group.tipos[index -1] && x.op == op)\r\n      // console.log('gestiones',gest)\r\n      let hojas = 0;\r\n      let productos = 0;\r\n      for(let i =0; i<gest.length; i++){\r\n        hojas = hojas + Number(gest[i].hojas);\r\n        productos = productos + Number(gest[i].productos);\r\n      }\r\n\r\n      // console.log(hojas,'<->',productos)\r\n      if(hojas < hojas_ || productos < productos_){\r\n        Swal.fire({\r\n          title:'Error!',\r\n          text:'La cantidad excede las gestiones realizadas en la fase anterior',\r\n          icon:'error',\r\n          showConfirmButton:false\r\n        })\r\n        return 1\r\n      }\r\n    }\r\n  }\r\n\r\n  finalizar(){\r\n\r\n    let hoy = moment().format('yyyy-MM-DD');\r\n    let orden =  ''\r\n    let productos = ''\r\n    let hojas = ''\r\n\r\n    orden =  (<HTMLInputElement>document.getElementById('orden_selected')).value;\r\n\r\n    let separator = orden.split('-')\r\n\r\n    // // console.log(separator[3]);\r\n\r\n\r\n\r\n\r\n    orden = separator[1];\r\n    // // console.log(separator[0],'<>',separator[1])\r\n\r\n    let Ejemplares = this.TRABAJOS.find(x => x._id == orden);\r\n\r\n    // console.log('EJEM',Ejemplares)\r\n\r\n    productos = (<HTMLInputElement>document.getElementById('productos_input')).value\r\n    hojas = (<HTMLInputElement>document.getElementById('hojas_input')).value\r\n\r\n    if(this.CompararTama(separator[0],separator[2],separator[3], hojas, productos) === 1){\r\n      return\r\n    }\r\n\r\n    let restante = this.GESTIONES.filter(x=> x.orden == orden)\r\n\r\n    let long = restante.length\r\n\r\n    let _productos = 0;\r\n    let _hojas = 0;\r\n\r\n    if(long <= 0){\r\n      // // console.log(orden)\r\n      let Actual = this.TRABAJOS.find(x=> x._id == orden)\r\n      // // console.log(Actual)\r\n      _productos = Actual.orden.cantidad - Number(productos);\r\n      _hojas = this.redondear(Ejemplares.orden.cantidad, Ejemplares.orden.producto.ejemplares[Ejemplares.orden.montaje]) - Number(hojas)\r\n\r\n      // // console.log(Actual.orden.paginas_o,'-',Number(hojas))\r\n    }else{\r\n      _productos = restante[long - 1].Rproductos-Number(productos)\r\n      _hojas = restante[long - 1].Rhojas - Number(hojas)\r\n    }\r\n\r\n    // alert(_hojas)\r\n\r\n    let data = {\r\n      op:separator[0],\r\n      orden : orden,\r\n      fecha : hoy,\r\n      maquina: Ejemplares.maquina._id,\r\n      productos:productos,\r\n      hojas:hojas,\r\n      Rproductos:_productos,\r\n      Rhojas:_hojas\r\n    }\r\n\r\n     this.api.postGestion(data)\r\n       .subscribe((resp:any)=>{\r\n         (<HTMLInputElement>document.getElementById('productos_input')).value = '';\r\n         (<HTMLInputElement>document.getElementById('hojas_input')).value = '';\r\n         this.modal_nueva_gestion();\r\n         this.getGestiones();\r\n      })\r\n\r\n\r\n  }\r\n\r\n  getGestiones(){\r\n    this.api.getGestiones()\r\n      .subscribe((resp:any)=>{\r\n        this.GESTIONES = resp\r\n        // console.log('all gestions', resp)\r\n      })\r\n  }\r\n\r\n\r\n  Tarea(){\r\n    let hoy = moment().format('yyyy-MM-DD');\r\n    this.TRABAJOS = []\r\n    \r\n    this.api.getTrabajos()\r\n      .subscribe((resp:any)=>{\r\n\r\n        let nuevo = resp.filter(x => x.maquina.tipo === this.FASE);\r\n\r\n        if(nuevo){\r\n          let Long = nuevo.length;\r\n          for(let i=0; i<Long; i++){\r\n    \r\n            if(hoy >= nuevo[i].fechaI){\r\n              if(hoy <= nuevo[i].fecha){\r\n                this.TRABAJOS.push(nuevo[i])\r\n              }\r\n            }\r\n    \r\n          }\r\n        }\r\n      })\r\n  }\r\n\r\n  finalizar_gestion(id){\r\n    let data = {id}\r\n    this.api.finalizarTrabajo(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          title:'Gestion finalizada',\r\n          text:'La gestion fue finalizada con exito',\r\n          showConfirmButton:false,\r\n        })\r\n        this.getGestiones();\r\n        this.getMaquinas();\r\n        this.Tarea();\r\n      })\r\n  }\r\n\r\n  calcularHojas(x,y){\r\n    return Math.ceil(x/y);\r\n  }\r\n\r\n  TraerTareasFueraDeFecha(){\r\n    let hoy = moment().format('yyyy-MM-DD');\r\n    this.TRABAJOS = []\r\n    \r\n    this.api.getTrabajos()\r\n      .subscribe((resp:any)=>{\r\n\r\n        let nuevo = resp.filter(x => x.maquina.tipo === this.FASE);\r\n        if(nuevo){\r\n          let Long = nuevo.length;\r\n          for(let i=0; i<Long; i++){\r\n    \r\n            // if(hoy >= nuevo[i].fechaI){\r\n            //   if(hoy <= nuevo[i].fecha){\r\n              //   }\r\n              // }\r\n              \r\n              this.TRABAJOS.push(nuevo[i])\r\n              // // console.log(this.GRUPOS)\r\n            }\r\n            \r\n        }\r\n      })\r\n  }\r\n\r\n}\r\n\r\n","<app-solcitud \r\n[solicitud]=\"solicitud\"\r\n[orden]=\"orden\"\r\n(onCloseModal)=\"solicitud = false\">\r\n</app-solcitud>\r\n\r\n<app-devolucion\r\n        [devolucion]=\"devolucion\"\r\n        (onCloseModal)=\"devolucion = false\">\r\n</app-devolucion>\r\n<app-despacho\r\n[despacho]=\"despacho\"\r\n(onCloseModal)=\"despacho = false\"\r\n>\r\n\r\n</app-despacho>\r\n\r\n<div class=\"container\">\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <div class=\"titulo\">\r\n                Gestiones\r\n                <br>\r\n            <ng-container *ngIf=\"!usuario.Despacho\">\r\n                <ng-container *ngIf=\"usuario.Gestiones != 5\">\r\n                    <button class=\"button is-primary\" (click)='modal_nueva_gestion()' *ngIf=\"usuario.Almacen != 2 || usuario.Role == 'ADMIN'\">\r\n                        <span class=\"icon\">\r\n                            <i class=\"fas fa-tasks\"></i>\r\n                        </span>\r\n                        <span>\r\n                            Nueva Gestión\r\n                        </span>\r\n                    </button> \r\n                </ng-container>\r\n            </ng-container>    \r\n                <!-- <button class=\"button is-primary\" (click)='nuevo_despacho()'>Despacho</button> -->\r\n            </div>\r\n            <ng-container *ngIf=\"!usuario.Despacho\">\r\n                <ng-container *ngIf=\"usuario.Gestiones != 5\">\r\n                    <div class=\"select\" *ngIf=\"usuario.Almacen != 2 || usuario.Role == 'ADMIN'\">\r\n                        <select (change)='fase($event)'>\r\n                            <option>Seleccionar fase</option>\r\n                            <option value=\"{{funcion}}\" *ngFor='let funcion of FUNCIONES'>{{funcion}}</option>\r\n                        </select>\r\n                    </div>\r\n                </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!usuario.Despacho && usuario.Gestiones != 5\">\r\n             <button class=\"button is-success edited\" (click)=\"TraerTareasFueraDeFecha()\" *ngIf=\"usuario.Almacen != 2 ||usuario.Role == 'ADMIN'\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-search-plus\"></i>\r\n                </span>\r\n                <span>\r\n                    Otras <br> \r\n                    <span class=\"down\">\r\n                        Gestiones\r\n                    </span>\r\n                </span>\r\n            </button>\r\n            </ng-container>\r\n             <button class=\"button is-primary edited\" (click)='modal_solicitud()' *ngIf=\"usuario.Despacho != 1\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-warehouse\"></i>\r\n                </span>\r\n                <span>\r\n                    Solicitud <br>\r\n                    <span class=\"down\">\r\n                        de materiales\r\n                    </span>\r\n                </span>\r\n            </button>\r\n             <button class=\"button is-primary edited\" (click)='modal_Devolucion()' *ngIf=\"usuario.Despacho != 1\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-undo\"></i>\r\n                </span>\r\n                <span>\r\n                    Devolución <br> \r\n                    <span class=\"down\">\r\n                        de materiales\r\n                    </span>\r\n                </span>\r\n            </button>\r\n            <ng-container *ngIf=\"!usuario.Despacho && usuario.Gestiones != 5\">\r\n                 <button class=\"button is-primary\" routerLink=\"/ordenes/etiqueta\">\r\n                    <span class=\"icon\">\r\n                        <i class=\"fas fa-tag\"></i>\r\n                    </span>\r\n                    <span>\r\n                        Etiquetas\r\n                    </span>\r\n                </button>\r\n            </ng-container>\r\n            \r\n            <hr>\r\n            <div class=\"despachos\" *ngIf=\"usuario.Almacen == 2 || usuario.Despacho == 1\">\r\n                <div class=\"subtitulo\">\r\n                    Despachos pendientes:\r\n                </div>\r\n\r\n                <table class=\"table is-fullwidth\" *ngFor=\"let despacho of Despachos;index as x\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Fecha: {{despacho.fecha}}</th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>{{despacho.observacion}}</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                           <td>\r\n                            <table class=\"table is-fullwidth is-bordered \">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>OP</th>\r\n                                        <th>Producto</th>\r\n                                        <th>Cantidad</th>\r\n                                        <th>OC</th>\r\n                                        <th>N° Certificado de análisis</th>\r\n                                        <th>Documento</th>\r\n                                        <th>Destino</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <ng-container *ngFor=\"let productos of despacho.despacho;index as y\">\r\n                                    <tr *ngIf=\"!productos.parcial\">\r\n                                        <ng-container>\r\n                                            <td>{{productos.op}}</td>\r\n                                            <td>{{productos.producto}}</td>\r\n                                            <td>\r\n                                                <ng-container *ngIf=\"edit === x\">\r\n                                                    <input type=\"Number\" class=\"input\" value=\"{{productos.cantidad}}\" (change)=\"editado($event.target.value, x,y)\">\r\n                                                </ng-container>\r\n                                                <ng-container *ngIf=\"edit != x\">\r\n                                                    {{productos.cantidad}}\r\n                                                </ng-container>\r\n                                            </td>\r\n                                            <td>{{productos.oc}}</td>\r\n                                            <td>\r\n                                                <ng-container *ngIf=\"edit === x\">\r\n                                                    <input type=\"string\" class=\"input\" value=\"{{productos.certificado}}\" (change)=\"certificado($event.target.value, x,y)\">\r\n                                                </ng-container>\r\n                                                <ng-container *ngIf=\"edit != x\">\r\n                                                    {{productos.certificado}}\r\n                                                </ng-container>\r\n                                            </td>\r\n                                            <td>\r\n                                                <ng-container *ngIf=\"edit === x\">\r\n                                                    <div class=\"control\">\r\n                                                    <label class=\"radio\">\r\n                                                    <input type=\"radio\" name=\"{{x}}_{{y}}\" [checked]=\"!verificacion(productos.documento)\">\r\n                                                    N.E.\r\n                                                </label>\r\n                                                <label class=\"radio\">\r\n                                                    <input type=\"radio\" name=\"{{x}}_{{y}}\" id=\"{{x}}_{{y}}\" [checked]=\"verificacion(productos.documento)\">\r\n                                                    Fact.\r\n                                                </label>\r\n                                            </div>\r\n                                            <input type=\"text\" class=\"input\" value=\"\" (change)=\"documento($event.target.value, x,y)\">\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"edit != x\">\r\n                                            {{productos.documento}}\r\n                                        </ng-container>\r\n                                    </td>\r\n                                    <td>\r\n                                        <ng-container *ngIf=\"edit === x\">\r\n                                                <ng-container *ngIf=\"almacen__\">\r\n                                                <select name=\"almacen\" class=\"select\" value=\"{{productos.destino}}\" (change)=\"cambiarAlmacenes($event.target.value, x,y)\">\r\n                                                    <ng-container *ngFor=\"let almacen of Almacenes_edicion[y].almacenes\">\r\n                                                        <ng-container *ngIf=\"productos.destino === almacen\">\r\n                                                            <option value=\"{{almacen}}\" selected>{{almacen}}</option>\r\n                                                        </ng-container>\r\n                                                        <ng-container *ngIf=\"productos.destino != almacen\">\r\n                                                            <option value=\"{{almacen}}\">{{almacen}}</option>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                </select>\r\n                                            </ng-container>\r\n                                            <!-- {{BuscarAlmacen(productos.producto)}} -->\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"edit != x\">\r\n                                            {{productos.destino}}\r\n                                        </ng-container>\r\n                                    </td>\r\n                                    <td>\r\n                                        <button class=\"button\" (click)=\"despachar(x,y,productos.op)\">\r\n                                            <span class=\"icon is-small\">\r\n                                                <i class=\"fas fa-truck\"></i>\r\n                                            </span>\r\n                                            </button>\r\n                                        </td>\r\n                                    </ng-container>\r\n                                    </tr>\r\n                                    </ng-container>\r\n                                </tbody>\r\n                            </table>\r\n                            <button class=\"button is-info\" (click)=\"editar_cant(x)\" *ngIf=\"edit != x\">\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"fas fa-edit\"></i>\r\n                                </span>\r\n                                <span>Editar despacho</span>\r\n                            </button> \r\n                            <button class=\"button is-success\" (click)=\"listo()\" *ngIf=\"edit === x\">\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"fas fa-check\"></i>\r\n                                </span>\r\n                                <span>Listo</span>\r\n                            </button> \r\n                            <button class=\"button is-success\" *ngIf=\"edit != x\" (click)=\"Despachado_(despacho._id, x)\">\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"fas fa-check\"></i>\r\n                                </span>\r\n                                <span>Despachado</span>\r\n                            </button>\r\n                        </td> \r\n                    </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <ng-container *ngIf=\"!usuario.Despacho && usuario.Gestiones != 5\">\r\n            <div class=\"subtitulo\" *ngIf=\"usuario.Almacen != 2 || usuario.Role == 'ADMIN'\">\r\n                Ordenes para el dia de Hoy: <br>\r\n            </div>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!usuario.Despacho && usuario.Gestiones != 5\">\r\n                <table class=\"table is-fullwidth\" *ngIf=\"usuario.Almacen != 2 || usuario.Role == 'ADMIN'\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Orden</th>\r\n                            <th>Producto</th>\r\n                            <th>Máquina</th>\r\n                            <th>Cant. Hojas</th>\r\n                            <th>Cant. Productos</th>\r\n                            <th>Fecha Estimada</th>\r\n                            <th>Finalizar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let trabajo of TRABAJOS'>\r\n                        <ng-container *ngIf=\"trabajo.orden.estado === 'activo'\">\r\n                            <td>{{trabajo.orden.sort}}</td>\r\n                            <td>{{trabajo.orden.producto.producto}}</td>\r\n                            <td>{{trabajo.maquina.nombre}}</td>\r\n                            <td>{{redondear(trabajo.orden.cantidad, trabajo.orden.producto.ejemplares[trabajo.orden.montaje])}}</td>\r\n                            <td>{{trabajo.orden.cantidad}}</td>\r\n                            <td>{{trabajo.fecha}}</td>\r\n                            <button class=\"button is-success\" (click)='finalizar_gestion(trabajo._id)' *ngIf=\"usuario.Role == 'ADMIN' && !jo\">Finalizar</button>\r\n                            <td>\r\n                                \r\n                                <ng-container *ngFor='let gestion of GESTIONES;let i = index'>\r\n                                    <ng-container *ngIf='gestion.orden === trabajo._id'>\r\n                                        <button class=\"button is-success\" (click)='finalizar_gestion(trabajo._id)' *ngIf=\"gestion.Rproductos <= 0\">Finalizar</button>\r\n                                        {{JustOne(gestion.Rproductos)}}\r\n                                        \r\n                                        <!-- <ng-container *ngIf=\"gestion.Rproductos < 0\">\r\n                                            <button class=\"button is-success\" disabled >finalizar</button>\r\n                                        </ng-container> -->\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            \r\n                            \r\n                            </td>\r\n                        </ng-container>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </ng-container>\r\n            <hr>\r\n            <ng-container *ngIf=\"!usuario.Despacho && usuario.Gestiones != 5\">\r\n            <div class=\"subtitulo\" *ngIf=\"usuario.Almacen != 2 || usuario.Role == 'ADMIN'\">\r\n                Gestiones Realizadas: <br>\r\n            </div>\r\n            <div *ngFor='let trabajo of TRABAJOS'>\r\n            <ng-container *ngIf=\"trabajo.orden.estado === 'activo'\">\r\n                ORDEN: <b>{{trabajo.orden.sort}}</b> - {{trabajo.orden.producto.producto}}\r\n                <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Fecha</th>\r\n                            <th>Máquina</th>\r\n                            <th>Cant. de Hojas</th>\r\n                            <th>Cant. de Productos</th>\r\n                            <th>Restante</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <ng-container *ngFor='let gestion of GESTIONES;let i = index'>\r\n                            <tr *ngIf='gestion.orden === trabajo._id'>\r\n                                <td>{{gestion.fecha}}</td>\r\n                                <td>{{gestion.maquina.nombre}}</td>\r\n                                <td>{{gestion.hojas}}</td>\r\n                                <td>{{gestion.productos}}</td>\r\n                                <td>{{gestion.Rhojas}} (Hojas) / {{gestion.Rproductos}} (Productos)</td>\r\n                            </tr>\r\n                        </ng-container>\r\n                    </tbody>\r\n                </table>\r\n                <hr>\r\n                <ng-container *ngFor='let gestion of GESTIONES;let i = index'>\r\n                    <ng-container *ngIf='gestion.orden === trabajo._id'>\r\n                        <button class=\"button is-success\" (click)='acelerar(trabajo.orden._id, trabajo.maquina, trabajo.fecha,trabajo._id, trabajo.fechaI,1)' *ngIf=\"gestion.Rproductos <= 0\">Adelantar Entrega</button>\r\n                    </ng-container>\r\n                </ng-container>\r\n                <button class=\"button is-danger\" (click)='retrasar(trabajo.orden._id, trabajo.maquina, trabajo.fecha,trabajo._id, 1)'>Retrasar entrega</button>\r\n                <hr>\r\n            </ng-container>\r\n            </div>\r\n        </ng-container>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVA_GESTION}\">\r\n    <div class=\"modal-background\" (click)='modal_nueva_gestion()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">\r\n                Gestion\r\n            </div>\r\n            <hr>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <b>Orden:</b><br>\r\n                    <div class=\"select\">\r\n                        <select id='orden_selected'>\r\n                                <option value=\"#\">Seleccionar Orden</option>\r\n                            <ng-container *ngFor='let trabajo of TRABAJOS'>\r\n                                <option value=\"{{trabajo.orden._id}}-{{trabajo._id}}-{{trabajo.maquina.tipo}}-{{trabajo.orden.producto.grupo}}\" *ngIf=\"trabajo.orden.estado=== 'activo'\">{{trabajo.orden.sort}}</option>\r\n                            </ng-container>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <b>Gestion Realizada en Hojas:</b><br>\r\n                    <input type=\"number\" class=\"input\" id='hojas_input' (change)='calcular_Productos($event)'>\r\n                    <br>\r\n                    <b>Gestion Realizada en Productos</b>\r\n                    <input type=\"number\" class=\"input\" id='productos_input' (change)='calcular_Hojas($event)'>\r\n                </div>\r\n            </div>\r\n            <hr>\r\n            <button class=\"button is-primary\" (click)='finalizar()'>Finalizar</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-gestiones',\n  templateUrl: './gestiones.component.html',\n  styleUrls: ['./gestiones.component.css']\n})\nexport class GestionesComponent implements OnInit {\n\n  @Input() modal_gestiones:any\n  @Input() g_trabajos:any\n  @Input() g_gestiones:any\n\n  @Output() onCloseModal = new EventEmitter();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  closemodal(){\n    this.onCloseModal.emit();\n  }\n\n}\n","<div class=\"modal\" [ngClass]=\"{'is-active':modal_gestiones}\">\n    <div class=\"modal-background\" (click)=\"closemodal()\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <span class=\"subtitulo\">\n                Gestiones\n            </span>\n            <div class=\"trabajos\" *ngFor=\"let trabajo of g_trabajos\">\n                <span class=\"trabajo\">\n                    {{trabajo.maquina.tipo}} ({{trabajo.maquina.nombre}})\n                </span>\n                <table class=\"table is-fullwidth\">\n                    <tr>\n                        <th>Fecha</th>\n                        <th>Hojas gestionadas</th>\n                        <th>Productos gestionados</th>\n                    </tr>\n                    <ng-container  *ngFor=\"let gestion of g_gestiones\">\n                        <tr *ngIf=\"gestion.orden === trabajo._id\">\n                            <td>{{gestion.fecha}}</td>\n                            <td>{{gestion.hojas}}</td>\n                            <td>{{gestion.productos}}</td>\n                        </tr>\n                    </ng-container>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { RestApiService } from 'src/app/services/rest-api.service';\n\n@Component({\n  selector: 'app-consulta-orden',\n  templateUrl: './consulta-orden.component.html',\n  styleUrls: ['./consulta-orden.component.css']\n})\nexport class ConsultaOrdenComponent implements OnInit {\n\n  constructor(private api:RestApiService) { }\n\n  ngOnInit(): void {\n    this.api.getOrdenesDeCompra()\n      .subscribe((resp:any)=>{\n        this.Ordenes = resp\n        console.log(this.Ordenes)\n      })\n  }\n\n  public Ordenes = []\n  public Orden;\n  public selected = false;\n  public all_ = false;\n  MostarOrden(e){\n    if(e != 'all'){\n      console.log(e)\n      this.all_ = false;\n      this.Orden = this.Ordenes[e]\n      this.selected = true;\n    }else if(e === 'all'){\n      this.all_ = true;\n    }\n  }\n  puntoYcoma(n){\n    if(!n){\n      return 0\n    }\n    n = Number(n)\n    return n = new Intl.NumberFormat('de-DE').format(n)\n  }\n\n  public PRODUCTOS = [];\n  Edicion(i){\n    document.getElementById(`status_${i}`).style.width = '1px';\n    document.getElementById(`cantidad_${i}`).style.display = 'none';\n    document.getElementById(`fecha_${i}`).style.display = 'none';\n    document.getElementById(`edit_${i}`).style.display = 'none';\n    // document.getElementById(`dele_${i}`).style.display = 'none';\n    document.getElementById(`producto_${i}`).style.display = 'none'\n    document.getElementById(`cantidad__${i}`).style.display = 'block';\n    document.getElementById(`fecha__${i}`).style.display = 'block';\n    document.getElementById(`producto__${i}`).style.display = 'block';\n    document.getElementById(`listo_${i}`).style.display = 'block';\n    this.api.getById(this.Orden.cliente._id)\n      .subscribe((resp:any)=>{\n        this.PRODUCTOS = resp.productos\n        console.log(this.PRODUCTOS)\n      })\n  }\n\n  Terminar( i){\n    this.api.putOrdenesDeCompra(this.Orden, this.Orden._id)\n      .subscribe((resp:any)=>{\n        document.getElementById(`status_${i}`).style.width = '150px';\n    document.getElementById(`cantidad_${i}`).style.display = 'block';\n    document.getElementById(`fecha_${i}`).style.display = 'block';\n    document.getElementById(`edit_${i}`).style.display = 'block';\n    // document.getElementById(`dele_${i}`).style.display = 'block';\n    document.getElementById(`producto_${i}`).style.display = 'block'\n    document.getElementById(`cantidad__${i}`).style.display = 'none';\n    document.getElementById(`fecha__${i}`).style.display = 'none';\n    document.getElementById(`producto__${i}`).style.display = 'none';\n    document.getElementById(`listo_${i}`).style.display = 'none';\n      })\n  }\n\n  edicionOC(){\n    document.getElementById(`EditionForm`).style.display = 'block';\n    document.getElementById(`okbutton`).style.display = 'block';\n    document.getElementById(`editionButton`).style.display = 'none';\n    document.getElementById(`Info__`).style.display = 'none';\n    \n  }\n\n  listoOCEDIT(){\n    this.api.putOrdenesDeCompra(this.Orden, this.Orden._id)\n      .subscribe((resp:any)=>{\n        document.getElementById(`EditionForm`).style.display = 'none';\n        document.getElementById(`okbutton`).style.display = 'none';\n        document.getElementById(`editionButton`).style.display = 'block';\n        document.getElementById(`Info__`).style.display = 'block';\n      })\n\n  }\n\n}\n","<div class=\"ml-5 mt-5\">\n    <div class=\"subtitulos\">\n        Ordenes de compra\n    </div>\n</div>\n<br>\n<nav class=\"breadcrumb ml-5\" aria-label=\"breadcrumbs\">\n    <ul>\n      <li><a href=\"#\">Home</a></li>\n      <li><a href=\"/orden\">Ordenes</a></li>\n      <li class=\"is-active\"><a>Ordenes de compra</a></li>\n    </ul>\n</nav>\n<div class=\"mt-5 ml-5\">\n    <div class=\"columns\">\n        <div class=\"column  is-one-quarter\">\n            <div class=\"tabs\">\n                <ul>\n                  <li><a routerLink=\"/orden/orden-compra\">Crear</a></li>\n                  <li class=\"is-active\"><a>Consultar</a></li>\n                </ul>\n              </div>\n            <div class=\"card\">\n                <div class=\"card-content\">\n                    <div class=\"field\">\n                        <label class=\"label\">Ver ordenes de compra</label>\n                        <div class=\"control\">\n                            <div class=\"select\">\n                                <select (change)=\"MostarOrden($event.target.value)\">\n                                    <option value=\"#\">Seleccionar orden de compra</option>\n                                    <option value=\"all\">Todas las ordenes</option>\n                                    <option value=\"{{i}}\" *ngFor=\"let orden of Ordenes;index as i\">OC: {{orden.orden}} - {{orden.cliente.nombre}}</option>\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"column\">\n            <div class=\"card\" *ngIf=\"selected\">\n                <div class=\"card-content\">\n                    <table class=\"table is-fullwidth\">\n                        <tr>\n                            <td>\n                                <span id=\"Info__\">\n                                    <span class=\"subtitulos\">\n                                        OC: {{Orden.orden}}\n                                    </span><br>\n                                    <b>Fecha de OC:</b> {{Orden.fecha_entrega | date: 'dd/MM/yyyy': 'UTC'}} <br>\n                                    <b>Fecha de recepción: </b>{{Orden.fecha_recepcion | date: 'dd/MM/yyyy': 'UTC'}} \n                                </span>\n                                <span style=\"display:none\" id=\"EditionForm\">\n                                    <label class=\"label\">OC:</label>\n                                    <input type=\"text\" class=\"input edicion_\" [(ngModel)]=\"Orden.orden\"> <br>\n                                    <label class=\"label\">Fecha de OC:</label>\n                                    <input type=\"date\" class=\"input edicion_\" [(ngModel)]=\"Orden.fecha_entrega\"> <br>\n                                    <label class=\"label\">Fecha de recepción:</label>\n                                    <input type=\"date\" class=\"input edicion_\" [(ngModel)]=\"Orden.fecha_recepcion\">\n                                </span>\n                                <br> <br>\n                                <button class=\"button is-small is-success is-outlined\" style=\"display:none\" id=\"okbutton\" (click)=\"listoOCEDIT()\">\n                                    <span class=\"icon\">\n                                        <i class=\"fas fa-check\"></i>\n                                    </span>\n                                    <span>\n                                        Listo\n                                    </span>\n                                </button>\n                                <button class=\"button is-small is-success is-outlined\" id=\"editionButton\" (click)=\"edicionOC()\">\n                                    <span class=\"icon\">\n                                        <i class=\"fas fa-edit\"></i>\n                                    </span>\n                                    <span>\n                                        Editar\n                                    </span>\n                                </button>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"3\">\n                                <table class=\"table is-fullwidth\">\n                                    <tr>\n                                        <td class=\"is-selected\">Producto</td>\n                                        <td class=\"is-selected\">Cantidad</td>\n                                        <td class=\"is-selected\">Fecha solicitada</td>\n                                        <td class=\"is-selected\" width=\"250px\" id=\"status_\">Orden de producción</td>\n                                        <td class=\"is-selected\">Editar</td>\n                                    </tr>\n                                    <tr *ngFor=\"let producto of Orden.productos;index as i\">\n                                        <td id=\"producto___{{i}}\">\n                                            <span id=\"producto_{{i}}\">\n                                                {{producto.producto.producto}}\n                                            </span>\n                                            <div class=\"select producto____\" id=\"producto__{{i}}\" style=\"display:none\">\n                                                <select [(ngModel)]=\"producto.producto._id\">\n                                                    <option value=\"{{producto._id}}\" *ngFor=\"let producto of PRODUCTOS\">{{producto.producto}}</option>\n                                                    <!-- <option value=\"{{producto.producto._id}}\">{{producto.producto.producto}}</option> -->\n                                                </select>\n                                            </div>\n                                        </td>\n                                        <td>\n                                            <span id=\"cantidad_{{i}}\">\n                                                {{puntoYcoma(producto.cantidad)}}\n                                            </span>\n                                            <input type=\"number\" class=\"input cantidad\" [(ngModel)]=\"producto.cantidad\" id=\"cantidad__{{i}}\" width=\"550px\" style=\"display:none\">\n                                        </td>\n                                        <td>\n                                            <span id=\"fecha_{{i}}\">\n                                                {{producto.fecha | date: 'dd/MM/yyyy': 'UTC'}}\n                                            </span>\n                                            <input type=\"date\" class=\"input\" [(ngModel)]=\"producto.fecha\" id=\"fecha__{{i}}\" width=\"550px\" style=\"display:none\">\n                                        </td>\n                                        <td id=\"status_{{i}}\">\n                                            {{producto.status}}\n                                            <ng-container *ngIf=\"!producto.status\">\n                                                Sin asignar\n                                            </ng-container>\n                                        </td>\n                                        <td>\n                                            <button class=\"button is-small is-success is-outlined\" id=\"listo_{{i}}\" style=\"display:none\" (click)=\"Terminar(i,Orden._id)\">\n                                                <span class=\"icon\">\n                                                    <i class=\"fas fa-check\"></i>\n                                                </span>\n                                                <span>\n                                                    Listo\n                                                </span>\n                                            </button>\n                                            <button class=\"button is-small is-success is-outlined\" id='edit_{{i}}' (click)=\"Edicion(i)\">\n                                                <span class=\"icon\">\n                                                    <i class=\"fas fa-edit\"></i>\n                                                </span>\n                                                <span>\n                                                    Editar\n                                                </span>\n                                            </button> <br>\n                                            <!-- <button class=\"button is-small is-danger is-outlined\" id='dele_{{i}}'>\n                                                <span class=\"icon\">\n\n                                                </span>\n                                                <span>\n                                                    Eliminar\n                                                </span>\n                                            </button> -->\n                                        </td>\n                                    </tr>\n                                </table>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n\n            <ng-container *ngIf=\"all_\">\n            <div class=\"card\" *ngFor=\"let Orden of Ordenes\">\n                <div class=\"card-content\">\n                    <table class=\"table is-fullwidth\">\n                        <tr>\n                            <td>\n                                <span id=\"Info__\">\n                                    <span class=\"subtitulos\">\n                                        OC: {{Orden.orden}}\n                                    </span><br>\n                                    <b>Fecha de OC:</b> {{Orden.fecha_entrega | date: 'dd/MM/yyyy': 'UTC'}} <br>\n                                    <b>Fecha de recepción: </b>{{Orden.fecha_recepcion | date: 'dd/MM/yyyy': 'UTC'}} \n                                </span>\n                                <span style=\"display:none\" id=\"EditionForm\">\n                                    <label class=\"label\">OC:</label>\n                                    <input type=\"text\" class=\"input edicion_\" [(ngModel)]=\"Orden.orden\"> <br>\n                                    <label class=\"label\">Fecha de OC:</label>\n                                    <input type=\"date\" class=\"input edicion_\" [(ngModel)]=\"Orden.fecha_entrega\"> <br>\n                                    <label class=\"label\">Fecha de recepción:</label>\n                                    <input type=\"date\" class=\"input edicion_\" [(ngModel)]=\"Orden.fecha_recepcion\">\n                                </span>\n                                <br> <br>\n                                <button class=\"button is-small is-success is-outlined\" style=\"display:none\" id=\"okbutton\" (click)=\"listoOCEDIT()\">\n                                    <span class=\"icon\">\n                                        <i class=\"fas fa-check\"></i>\n                                    </span>\n                                    <span>\n                                        Listo\n                                    </span>\n                                </button>\n                                <button class=\"button is-small is-success is-outlined\" id=\"editionButton\" (click)=\"edicionOC()\">\n                                    <span class=\"icon\">\n                                        <i class=\"fas fa-edit\"></i>\n                                    </span>\n                                    <span>\n                                        Editar\n                                    </span>\n                                </button>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"3\">\n                                <table class=\"table is-fullwidth\">\n                                    <tr>\n                                        <td class=\"is-selected\">Producto</td>\n                                        <td class=\"is-selected\">Cantidad</td>\n                                        <td class=\"is-selected\">Fecha solicitada</td>\n                                        <td class=\"is-selected\" width=\"250px\" id=\"status_\">Orden de producción</td>\n                                        <td class=\"is-selected\">Editar</td>\n                                    </tr>\n                                    <tr *ngFor=\"let producto of Orden.productos;index as i\">\n                                        <td id=\"producto___{{i}}\">\n                                            <span id=\"producto_{{i}}\">\n                                                {{producto.producto.producto}}\n                                            </span>\n                                            <div class=\"select producto____\" id=\"producto__{{i}}\" style=\"display:none\">\n                                                <select [(ngModel)]=\"producto.producto._id\">\n                                                    <option value=\"{{producto._id}}\" *ngFor=\"let producto of PRODUCTOS\">{{producto.producto}}</option>\n                                                    <!-- <option value=\"{{producto.producto._id}}\">{{producto.producto.producto}}</option> -->\n                                                </select>\n                                            </div>\n                                        </td>\n                                        <td>\n                                            <span id=\"cantidad_{{i}}\">\n                                                {{puntoYcoma(producto.cantidad)}}\n                                            </span>\n                                            <input type=\"number\" class=\"input cantidad\" [(ngModel)]=\"producto.cantidad\" id=\"cantidad__{{i}}\" width=\"550px\" style=\"display:none\">\n                                        </td>\n                                        <td>\n                                            <span id=\"fecha_{{i}}\">\n                                                {{producto.fecha | date: 'dd/MM/yyyy': 'UTC'}}\n                                            </span>\n                                            <input type=\"date\" class=\"input\" [(ngModel)]=\"producto.fecha\" id=\"fecha__{{i}}\" width=\"550px\" style=\"display:none\">\n                                        </td>\n                                        <td id=\"status_{{i}}\">\n                                            {{producto.status}}\n                                            <ng-container *ngIf=\"!producto.status\">\n                                                Sin asignar\n                                            </ng-container>\n                                        </td>\n                                        <td>\n                                            <button class=\"button is-small is-success is-outlined\" id=\"listo_{{i}}\" style=\"display:none\" (click)=\"Terminar(i,Orden._id)\">\n                                                <span class=\"icon\">\n                                                    <i class=\"fas fa-check\"></i>\n                                                </span>\n                                                <span>\n                                                    Listo\n                                                </span>\n                                            </button>\n                                            <button class=\"button is-small is-success is-outlined\" id='edit_{{i}}' (click)=\"Edicion(i)\">\n                                                <span class=\"icon\">\n                                                    <i class=\"fas fa-edit\"></i>\n                                                </span>\n                                                <span>\n                                                    Editar\n                                                </span>\n                                            </button> <br>\n                                            <!-- <button class=\"button is-small is-danger is-outlined\" id='dele_{{i}}'>\n                                                <span class=\"icon\">\n\n                                                </span>\n                                                <span>\n                                                    Eliminar\n                                                </span>\n                                            </button> -->\n                                        </td>\n                                    </tr>\n                                </table>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n            </ng-container>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LaboratorioComponent } from './laboratorio.component';\nimport { MainComponent } from './main/main.component';\nimport { MateriaPrimaComponent } from './materia-prima/materia-prima.component';\nimport { ProductoTerminadoComponent } from './producto-terminado/producto-terminado.component';\nimport { IndexComponent } from './index/index.component';\n\n\n\nconst routes: Routes =[\n  {\n    path:'',\n    component:LaboratorioComponent,\n    children:[\n      {\n        path:'',\n        component:MainComponent\n      },\n      {\n        path:'especificaciones',\n        component:IndexComponent,\n      },\n      {  \n        path:'materia-prima',\n        component:MateriaPrimaComponent\n      },\n      {\n        path:'producto-terminado',\n        component:ProductoTerminadoComponent\n      }\n    ]\n}]\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes)\n  ]\n})\n\nexport class LaboratorioRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  public ORDENES;\r\n  public ESTADOS;\r\n  public TRABAJOS;\r\n  public detalle:boolean = false;\r\n  public orden_detalle;\r\n  public orden_id;\r\n  public cantidad_d;\r\n  public cantidad_do\r\n\r\n  public despacho:boolean = false;\r\n\r\n  public loading:boolean = true;\r\n  \r\n  \r\n  constructor(private api:RestApiService,\r\n    private router:Router,\r\n    ) {\r\n      this.usuario = api.usuario\r\n    }\r\n    \r\n    ngOnInit(): void {\r\n      this.getOrdenes();\r\n      this.obtenerTrabajos();\r\n    }\r\n    public usuario\r\n\r\n  getOrdenes(){\r\n    this.api.getOrden()\r\n      .subscribe((resp:any)=>{\r\n        this.ORDENES = resp;\r\n        this.ORDENES = this.ORDENES.reverse();\r\n      })\r\n  }\r\n\r\n  detallar(id,sort, x, y){\r\n    this.detalle = true;\r\n    this.orden_detalle = sort;\r\n    this.orden_id = id;\r\n    this.cantidad_d = x;\r\n    this.cantidad_do = y;\r\n    // console.log(y)\r\n  }\r\n\r\n  despacho_(){\r\n    this.despacho = true;\r\n  }\r\n\r\n  alert(id){\r\n    this.router.navigateByUrl(`orden-produccion/${id}`)\r\n  }\r\n\r\n  getEstados(id){\r\n    let estado = this.TRABAJOS.find(x => x.orden._id == id && x.maquina.tipo === 'IMPRIMIR')\r\n    let hoy = moment().format('yyyy-MM-DD');\r\n\r\n    // // console.log(estado)\r\n    if(estado){\r\n      if(hoy < estado.fechaI){\r\n        let date = moment(estado.fechaI).format('yyyy-MM-DD')\r\n        date = moment('yyyy-MM-DD').format('DD-MM-yyyy')\r\n        return `Impresión Comienza el: ${estado.fechaI}`\r\n      }\r\n    }\r\n\r\n      let estado2 = this.TRABAJOS.find(x => x.orden._id == id && x.fechaI<= hoy && x.fecha >= hoy)\r\n    if(estado2){\r\n      // console.log(estado2, 'this is')\r\n        return `En proceso de: ${estado2.maquina.tipo}`\r\n    }else{\r\n      return `ORDEN FINALIZADA`\r\n    }\r\n\r\n  }\r\n\r\n  obtenerTrabajos(){\r\n    this.api.getTrabajos()\r\n      .subscribe((resp:any)=>{\r\n        this.TRABAJOS = resp;\r\n        // console.log(this.TRABAJOS)\r\n        this.loading = false;\r\n      })\r\n  }\r\n\r\n}\r\n","<app-detalles\r\n[detalle]=\"detalle\"\r\n[orden_detalle]=\"orden_detalle\"\r\n[orden_id]=\"orden_id\"\r\n[cantidad_d]=\"cantidad_d\"\r\n[cantidad_do]=\"cantidad_do\"\r\n(onCloseModal)=\"detalle = false\"\r\n(CargarOrdenes)=\"getOrdenes()\"\r\n>\r\n</app-detalles>\r\n\r\n<app-despachos\r\n[despacho]=\"despacho\"\r\n[ORDENES]=\"ORDENES\"\r\n(onCloseModal)=\"despacho = false\">\r\n</app-despachos>\r\n<div class=\"container mt-5\">\r\n    <div class=\"card mt-5\">\r\n        <div class=\"card-content\">\r\n            <div class=\"titulo\">\r\n                Ordenes de Producción\r\n            </div>\r\n            <hr>\r\n            <table class=\"table is-fullwidth is-hoverable\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Orden de Produccion</th>\r\n                        <th>Producto</th>\r\n                        <th>Cliente</th>\r\n                        <th>Fecha solicitada</th>\r\n                        <th>Estado</th>\r\n                        <th>Detalles</th>\r\n                        <!-- <th>Ver orden</th> -->\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let orden of ORDENES'>\r\n                        <td>{{orden.sort}} {{orden.cantidad_d}} <i class=\"far fa-eye\" (click)='alert(orden._id)'></i></td>\r\n                        <td>{{orden.producto.producto}}</td>\r\n                        <td>{{orden.cliente.nombre}}</td>\r\n                        <td>{{orden.fecha_s | date: 'dd/MM/yyyy': 'UTC'}} </td>\r\n                        <td *ngIf=\"loading\"><i class=\"fas fa-circle-notch\"></i></td>\r\n                        <td *ngIf=\"!loading\">{{getEstados(orden._id)}}</td>\r\n                        <td>\r\n                                 \r\n                            <i class=\"fas fa-th-list\" (click)='detallar(orden._id, orden.sort, orden.cantidad, orden.cantidad_o)'></i>\r\n                            <!-- <button class=\"button is-primary\" (click)='detallar(orden._id, orden.sort, orden.cantidad, orden.cantidad_o)'>Detalles</button> -->\r\n                        </td>\r\n                        <!-- <td><button class=\"button is-primary\" (click)='alert(orden._id)'>Consultar</button></td> -->\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <hr>\r\n            <button class=\"button is-primary\" (click)=\"despacho_()\"  *ngIf=\"usuario.Nueva_orden != 0\">Planificación de Despachos</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { from } from 'rxjs';\r\nimport { UnicosPipe } from 'src/app/pipe/unicos.pipe';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-devolucion',\r\n  templateUrl: './devolucion.component.html',\r\n  styleUrls: ['./devolucion.component.css']\r\n})\r\nexport class DevolucionComponent implements OnInit {\r\n\r\n  @Input() devolucion:any\r\n  @Output() onCloseModal = new EventEmitter();\r\n\r\n  public devoluciones\r\n  public materiales\r\n  public repeticion = [];\r\n  public Data_devolucion = [];\r\n  public usuario;\r\n\r\n  constructor(private api:RestApiService) {\r\n    this.usuario = api.usuario\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    \r\n    this.api.getLotes()\r\n    .subscribe((resp:any)=>{\r\n      this.devoluciones = resp;\r\n      for(let i = 0; i< resp.length; i++){\r\n        this.repeticion.push(resp[i].orden)\r\n        let final = resp.length - 1\r\n        if(i == final){\r\n          const dataArr = new Set(this.repeticion);\r\n          let result = [...dataArr];\r\n          this.repeticion = result.reverse();\r\n        }\r\n      }\r\n      \r\n    })\r\n  }\r\n  \r\n  seleccionarMateriales(){\r\n    let orden_ = (<HTMLInputElement>document.getElementById('ordens')).value\r\n    this.materiales = this.devoluciones.filter(devoluciones => devoluciones.orden === orden_);\r\n    console.log(this.materiales)\r\n    for(let i=0;i<this.materiales.length;i++){\r\n      if(!this.materiales.nombre){\r\n        console.log(this.materiales[i])\r\n        this.materiales.slice(i,1);\r\n      }else{\r\n        this.materiales[i].material.sort(function(a, b) {\r\n          if(a.material.nombre.toLowerCase() < b.material.nombre.toLowerCase()) return -1\r\n          if(a.material.nombre.toLowerCase() > b.material.nombre.toLowerCase()) return 1\r\n          return 0\r\n  \r\n        })\r\n      }\r\n    }\r\n    let malas = this.materiales.filter(materiales => materiales.material[0].material === null)\r\n    if(orden_ == '#'){\r\n    this.materiales = this.materiales.filter(materiales => materiales.material[0].material != null);\r\n    }\r\n\r\n    console.log(this.materiales)\r\n    this.materiales = this.materiales.reverse();\r\n  // this.materiales = this.materiales.material\r\n  \r\n  }\r\n\r\n  onClose(){\r\n    this.devolucion = false;\r\n    this.onCloseModal.emit();\r\n  }\r\n\r\n  finalizarDevolucion(id,motivo){\r\n\r\n    if(motivo.value.length < 1){\r\n      let id_ = String(id)\r\n      document.getElementById(id_).focus();\r\n      document.getElementById(`${id_}_error`).style.display = \"block\";\r\n      return\r\n    }\r\n\r\n    let filtrado = this.Data_devolucion.filter(x => x.id === id && x.cantidad > 0)\r\n    let orden = (<HTMLInputElement>document.getElementById('ordens')).value\r\n    let data = {\r\n      orden,\r\n      filtrado,\r\n      motivo:motivo.value,\r\n      id,\r\n      usuario:`${this.usuario.Nombre} ${this.usuario.Apellido}`\r\n    }\r\n\r\n\r\n    let lote = this.devoluciones.find(x=> x._id == data.id)\r\n\r\n    \r\n    \r\n    \r\n    for(let iter=0;iter<data.filtrado.length;iter++){\r\n      \r\n      let material = data.filtrado[iter].material\r\n      let _lote = data.filtrado[iter].lote\r\n      let _codigo = data.filtrado[iter].codigo\r\n\r\n\r\n      let comparativa = lote.material.findIndex(x=> x.material._id == material && x.lote == _lote && x.codigo == _codigo);\r\n      \r\n    \r\n      console.log(data.filtrado[iter].cantidad,'>',lote.material[comparativa].cantidad)\r\n\r\n      if(data.filtrado[iter].cantidad > Number(lote.material[comparativa].cantidad)){\r\n        Swal.fire({\r\n          title:'Error',\r\n          text:'La cantidad de material devuelto no puede ser mayor a la asignada',\r\n          icon:'error',\r\n          showConfirmButton:false\r\n        })\r\n\r\n        return\r\n      }\r\n    }\r\n\r\n    this.api.postDevolucion(data)\r\n      .subscribe((resp:any)=>{\r\n       Swal.fire({\r\n        title:'Devolución',\r\n        text: 'Se realizó la devolución de materiales',\r\n        icon:'success',\r\n        timer:3000,\r\n        showConfirmButton:false\r\n    }),\r\n    (<HTMLInputElement>document.getElementById('ordens')).value = \"·\"\r\n    this.onClose();\r\n    })\r\n\r\n  }\r\n\r\n  formate(n){\r\n    if(n >= 10){\r\n      n = `00${n}`\r\n  }\r\n  else if(n >= 100){\r\n    n = `0${n}`\r\n  }\r\n  else if(n < 10){\r\n    n = `000${n}`\r\n  }\r\n    console.log(n)\r\n    return `AL-ASG-${n}`\r\n  }\r\n\r\n  agregarMaterial(id, cantidad, material,lote,codigo){\r\n    \r\n    let data = \r\n    {\r\n      id,\r\n      material,\r\n      lote,\r\n      codigo,\r\n      cantidad:cantidad.value\r\n    }\r\n\r\n    let index = this.Data_devolucion.findIndex(x => x.id === id && x.material === material && x.lote === lote && x.codigo === codigo)\r\n\r\n    if(index == -1 ){\r\n      this.Data_devolucion.push(data);\r\n    }else{\r\n      this.Data_devolucion[index] = data\r\n    }\r\n\r\n    console.log(data)\r\n\r\n    // console.log(this.Data_devolucion)\r\n\r\n  }\r\n\r\n  CerrarDevolucion(id){\r\n    this.api.putCerrarLotes({id:id})\r\n      .subscribe((resp:any)=>{\r\n        this.api.getLotes()\r\n    .subscribe((resp:any)=>{\r\n      this.devoluciones = resp;\r\n      for(let i = 0; i< resp.length; i++){\r\n        this.repeticion.push(resp[i].orden)\r\n        let final = resp.length - 1\r\n        if(i == final){\r\n          const dataArr = new Set(this.repeticion);\r\n          let result = [...dataArr];\r\n          this.repeticion = result;\r\n        }\r\n      }\r\n      this.seleccionarMateriales();\r\n      Swal.fire({\r\n        icon:'info',\r\n        title:'Eliminado',\r\n        text:'Ya no se mostrará en un futuro',\r\n        timer:4000,\r\n        timerProgressBar: true,\r\n        showConfirmButton:false\r\n      })\r\n    })\r\n      })\r\n  }\r\n\r\n}\r\n","<div class=\"modal\" [ngClass]=\"{'is-active':devolucion}\">\r\n    <div class=\"modal-background\" (click)=\"onClose()\"></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">\r\n                Devolución de Material\r\n            </div>\r\n            <hr>\r\n                    <p>Selecciona Orden de Produccion</p>\r\n\r\n                    <div class=\"select\">\r\n                        <select (change)=\"seleccionarMateriales()\" id=\"ordens\">\r\n                            <option value=\"·\">Seleccionar OP</option>\r\n                            <option value=\"#\">Otros materiales</option>\r\n                            <ng-container *ngIf=\"usuario.Gestiones != 5\">\r\n                                <ng-container *ngFor=\"let orden of repeticion\">\r\n                                    <ng-container *ngIf=\"orden != '#'\">\r\n                                        <option value=\"{{orden}}\">\r\n                                              {{orden}}\r\n                                        </option>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            </ng-container>\r\n                        </select>\r\n                    </div>\r\n                    <hr>\r\n                    <ng-container *ngFor=\"materiales of materiales;index as i\">\r\n                        <b class=\"Asignacion\"> Asignación: AL-ASG-{{materiales[i].asignacion}}</b> <br>\r\n                        <table class=\"table is-fullwidth is-striped\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Material</th>\r\n                                    <th>Cantidad</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let material of materiales[i].material\">\r\n                                    <td>\r\n                                        {{material.material.nombre}}\r\n                                        <ng-container *ngIf=\"material.material.ancho\">\r\n                                            {{material.material.ancho}} x {{material.material.largo}}\r\n                                        </ng-container>\r\n                                        ({{material.material.marca}})<br>\r\n                                    <b>Lote: </b>{{material.lote}} - <b>Código: </b>{{material.codigo}}</td>\r\n                                    <td>\r\n                                        <div class=\"field has-addons\">\r\n                                            <p class=\"control\">\r\n                                                <input class=\"input\" type=\"number\" placeholder=\"Devolución\" (change)=\"agregarMaterial(materiales[i]._id,cantidad,material.material._id,material.lote,material.codigo)\" #cantidad>\r\n                                            </p>\r\n                                            <p class=\"control\">\r\n                                                <a class=\"button is-static\">\r\n                                                    {{material.material.unidad}}\r\n                                                </a>\r\n                                              </p>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody> \r\n                            <br>\r\n                            <textarea class=\"textarea has-fixed-size\" row=\"2\" placeholder=\"Motivo\" id=\"{{materiales[i]._id}}\" #Motivo></textarea>\r\n                            <p class=\"error\" id=\"{{materiales[i]._id}}_error\">Debe ingresar un motivo</p>\r\n                            <br>\r\n                            <button class=\"button is-primary\" (click)=\"finalizarDevolucion(materiales[i]._id,Motivo)\">\r\n                                Realizar Devolución\r\n                            </button> \r\n                            <button class=\"button is-danger\" (click)=\"CerrarDevolucion(materiales[i]._id)\">\r\n                                Cerrar\r\n                            </button>\r\n                        </table>\r\n                    </ng-container>\r\n\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NavbarComponent } from './navbar/navbar.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [NavbarComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports:[NavbarComponent]\r\n})\r\nexport class SharedModule { }\r\n\r\n\r\n\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-producto-terminado',\n  templateUrl: './producto-terminado.component.html',\n  styleUrls: ['./producto-terminado.component.css']\n})\nexport class ProductoTerminadoComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>producto-terminado works!</p>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { CotizacionComponent } from './cotizacion.component';\nimport { MainComponent } from './main/main.component';\nimport { GestionComponent } from './gestion/gestion.component';\nimport { PreFacturacionComponent } from './pre-facturacion/pre-facturacion.component';\nimport { TokenValidationComponent } from '../token-validation/token-validation.component';\nimport { TwoStep } from '../Auth/twoStep.guard';\nimport { EtiquetaComponent } from './etiqueta/etiqueta.component';\nimport { ConsultaFacturacionComponent } from './consulta-facturacion/consulta-facturacion.component';\n\nconst routes: Routes =[\n  {\n    path:'',\n    component:CotizacionComponent,\n    children:[\n      {\n        path:'',\n        canActivate: [TwoStep],\n        component:MainComponent\n      },\n      {\n        path:'gestion',\n        canActivate: [TwoStep],\n        component:GestionComponent\n      },\n      {\n        path:'pre-facturacion',\n        canActivate: [TwoStep],\n        component:PreFacturacionComponent\n      },\n      {\n        path:'etiqueta',\n        component:EtiquetaComponent\n      },\n      {\n        path:'verificacion',\n        component:TokenValidationComponent\n      },\n      {\n        path:'consulta-facturacion',\n        canActivate: [TwoStep],\n        component:ConsultaFacturacionComponent\n      }\n    ]\n}]\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes)\n  ]\n})\nexport class CotizacionRoutingModule { }\n","import { Component, OnInit, NgModule } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-ordenes',\r\n  templateUrl: './ordenes.component.html',\r\n  styleUrls: ['./ordenes.component.css']\r\n})\r\nexport class OrdenesComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-navbar></app-navbar>\n<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MainComponent } from './main/main.component';\r\nimport { NuevoPedidoRoutingModule } from './nuevo-pedido-routing.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { OrdenCompraComponent } from './orden-compra/orden-compra.component';\r\nimport { ConsultaOrdenComponent } from './consulta-orden/consulta-orden.component';\r\nimport { IndexComponent } from './index/index.component';\r\nimport { RouterModule } from '@angular/router';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [MainComponent, OrdenCompraComponent, ConsultaOrdenComponent, IndexComponent],\r\n  imports: [\r\n    CommonModule,\r\n    NuevoPedidoRoutingModule,\r\n    FormsModule,\r\n    RouterModule\r\n  ],\r\n  exports: [MainComponent]\r\n})\r\nexport class NuevoPedidoModule { }\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LaboratorioComponent } from '../laboratorio/laboratorio.component';\nimport { MainComponent } from './main/main.component';\nimport { MateriaPrimaComponent } from './materia-prima/materia-prima.component';\nimport { ProductoTerminadoComponent } from './producto-terminado/producto-terminado.component';\nimport { LaboratorioRoutingModule } from './laboratorio-routing.module';\nimport { SharedModule } from '../shared/shared.module';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IndexComponent } from './index/index.component';\n\n\n\n@NgModule({\n  declarations: [LaboratorioComponent, MainComponent, MateriaPrimaComponent, ProductoTerminadoComponent, IndexComponent],\n  imports: [\n    CommonModule,\n    LaboratorioRoutingModule,\n    SharedModule,\n    RouterModule,\n    FormsModule,\n    ReactiveFormsModule\n  ]\n})\nexport class LaboratorioModule { }\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-almacen',\r\n  templateUrl: './almacen.component.html',\r\n  styleUrls: ['./almacen.component.css']\r\n})\r\nexport class AlmacenComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-navbar></app-navbar>\r\n<router-outlet></router-outlet>","<app-navbar></app-navbar>\r\n<div class=\"container mt-5\">\r\n\r\n    <div class=\"card\" *ngIf='loading'>\r\n        <div class=\"card-content\">\r\n            <div class=\"loading\">\r\n                <div class=\"icon\">\r\n                    cargando...<i class=\"fa-solid fa-loader\"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class=\"card\" *ngIf='!loading'>\r\n        <div class=\"card-content\">\r\n            <ng-container *ngIf=\"usuario.Role === 'ADMIN'\">\r\n                <button class=\"button is-small is-danger\" (click)=\"cancelarOrden()\" *ngIf=\"usuario.Role === 'ADMIN'\">Cancelar Orden</button> \r\n                <button class=\"button is-small is-success\" (click)=\"EditarOrden()\" *ngIf=\"!edicion && usuario.Role === 'ADMIN'\">Editar Orden</button>\r\n                <button class=\"button is-small is-success\" (click)=\"FinalizarEdicion()\" *ngIf=\"edicion\">Finalizar</button>  <br><br>\r\n            </ng-container>\r\n\r\n            <div class=\"columns\">\r\n                <div class=\"column is-3\">\r\n                    <table class=\"table is-bordered is-fullwidth\">\r\n                        <thead>\r\n                            <th colspan=\"2\">\r\n                                ORDEN DE COMPRA\r\n                            </th>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Nº</td>\r\n                                <td *ngIf=\"!edicion\">\r\n                                    {{PRODUCTO.orden}}\r\n                                </td>\r\n                                <td *ngIf=\"edicion\">\r\n                                    <input type=\"text\" class=\"input\" [(ngModel)]=\"PRODUCTO.orden\">\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Fecha de OC:.</td>\r\n                                <td *ngIf=\"!edicion\">{{PRODUCTO.fecha_o | date: 'dd/MM/yyyy': 'UTC'}}\r\n                                </td>\r\n                                <td *ngIf=\"edicion\">\r\n                                    <input type=\"date\" class=\"input\" [(ngModel)]=\"PRODUCTO.fecha_o\">\r\n                                </td>\r\n                                <!-- <td>{{PRODUCTO.fecha_o | date: 'dd/MM/yyyy'}}</td> -->\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <table class=\"table is-bordered is-fullwidth\">\r\n                        <thead>\r\n                            <th colspan=\"2\">\r\n                                PRODUCTO\r\n                            </th>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>NOMBRE:</td>\r\n                                <td>{{PRODUCTO.producto.producto}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>CÓDIGO:</td>\r\n                                <td>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class=\"column is-4\">\r\n                    <table class=\"table is-bordered is-fullwidth\">\r\n                        <thead>\r\n                            <th colspan=\"2\">\r\n                                ORDEN DE PRODUCCIÓN\r\n                            </th>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Nº:</td>\r\n                                <td><b id='n_orden'>{{PRODUCTO.sort}}</b></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>FECHA DE EMISIÓN:</td>\r\n                                <!-- <td>{{PRODUCTO.fecha}}</td> -->\r\n                                <td>{{PRODUCTO.fecha | date:'dd/MM/yyyy'}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            <table class=\"table is-bordered is-fullwidth\">\r\n                    <thead>\r\n                        <th colspan=\"2\">\r\n                            INFORMACIÓN DEL PRODUCTO\r\n                        </th>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th width=\"30%\">CLIENTE:</th>\r\n                            <td>{{PRODUCTO.cliente.nombre}}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>CÓDIGO DE PRODUCTO DEL CLIENTE:</th>\r\n                            <td>{{PRODUCTO.producto.cod_cliente}}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>CÓDIGO ESPECIFICACIÓN</th>\r\n                            <td>E-{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{PRODUCTO.producto.edicion}}</td>\r\n                        </tr>\r\n                    </tbody>\r\n            </table>\r\n\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <th colspan=\"5\">\r\n                        PLANIFICACIÓN DE ENTREGAS\r\n                    </th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <th>Nº</th>\r\n                        <th>CANTIDAD</th>\r\n                        <th>FECHA SOLICITADA</th>\r\n                        <th>LUGAR DE ENTREGA</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>1</td>\r\n                        <td>{{cantidad}}</td>\r\n                        <!-- <td>{{PRODUCTO.fecha_s}}</td> -->\r\n                        <td *ngIf=\"!edicion\">\r\n                            {{PRODUCTO.fecha_s | date:'dd/MM/yyyy': 'UTC'}}\r\n                        </td>\r\n                        <td *ngIf=\"edicion\">\r\n                            <div class=\"columns\">\r\n                                <div class=\"column is-7\">\r\n                                    <input type=\"date\" class=\"input\" [(ngModel)]=\"PRODUCTO.fecha_s\" width=\"150px\">\r\n                                </div>\r\n                            </div>\r\n                        </td> \r\n                        <td *ngIf=\"!edicion\">\r\n                            {{PRODUCTO.almacen}}\r\n                        </td>\r\n                        <td *ngIf=\"edicion\">\r\n                            <select class=\"select\" [(ngModel)]=\"PRODUCTO.almacen\">\r\n                                <option value=\"{{almacen}}\" *ngFor=\"let almacen of PRODUCTO.cliente.almacenes\">{{almacen}}</option>\r\n                            </select>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>TOTAL</th>\r\n                        <td>{{cantidad}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <th>\r\n                        CARACTERÍSTICAS Y MATERIALES\r\n                    </th>\r\n                </thead>\r\n                <tr>\r\n                    <td>\r\n\r\n                        <!-- HORIZONTAL -->\r\n                        <table class=\"table is-fullwidth is-bordered\">\r\n                            <thead>\r\n                                <th>PRE-IMPRESION</th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        <div class=\"columns\">\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CÓDIGO DEL MONTAJE\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                M-{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CANTIDAD DE EJEMPLARES\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                {{PRODUCTO.producto.ejemplares[PRODUCTO.montaje]}}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                </table>\r\n                                            </div>\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CÓDIGO DE PELICULA\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                                            <tr>\r\n                                                                <td>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Negro'\"><b>Negro:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-1 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Cyan'\"><b>Cyan:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-2 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Magenta'\"><b>Magenta:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-3 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Amarillo'\"><b>Amarillo:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-4 </p>\r\n                                                                    <div *ngIf=\"TintaProducto.producto.color != 'Amarillo' && TintaProducto.producto.color != 'Magenta' && TintaProducto.producto.color != 'Cyan' && TintaProducto.producto.color != 'Negro' \">\r\n                                                                        <b>{{TintaProducto.producto.color}}:</b>\r\n                                                                        <ng-container>\r\n                                                                            {{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-\r\n                                                                            <ng-container *ngIf=\"PRODUCTO.montaje == 0\">\r\n                                                                                {{sumaTintas(i)}}\r\n                                                                            </ng-container>\r\n                                                                            <ng-container *ngIf=\"PRODUCTO.montaje != 0\">\r\n                                                                                {{sumaTintas(i)-2}}\r\n                                                                            </ng-container>\r\n                                                                        </ng-container>\r\n                                                                    </div>\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </thead>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n\r\n                        <table class=\"table is-fullwidth is-bordered\">\r\n                            <thead>\r\n                                <th>IMPRESIÓN</th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        <div class=\"columns\">\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-bordered-is-fullwidth\">\r\n                                                    <tr>\r\n                                                        <th width=\"50%\">SUSTRATO</th>\r\n                                                        <th>TAMAÑO ORIGINAL (cm)</th>\r\n                                                    </tr>\r\n                                                    <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                                    <tr>\r\n                                                        <td>\r\n                                                            {{TintaProducto.producto.nombre}} {{TintaProducto.producto.marca}}  (Calibre:{{TintaProducto.producto.calibre}}, Gramaje:{{TintaProducto.producto.gramaje}})\r\n                                                        </td>\r\n                                                        <td>\r\n                                                            ({{TintaProducto.producto.ancho}} x {{TintaProducto.producto.largo}})\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                            <th>DIRECCIÓN DE FIBRA</th>\r\n                                                            <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                                <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                                            <td>{{TintaProducto.producto.largo}}</td>\r\n                                                                </ng-container>\r\n                                                            </ng-container>\r\n                                                    </tr>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                    <tr>\r\n                                                        <th>TAMAÑO DE SUSTRATO A IMPRIMIR (cm)</th>\r\n                                                        <td *ngIf=\"!edicion\">\r\n                                                            {{PRODUCTO.i_ancho}} x {{PRODUCTO.i_largo}}\r\n                                                        </td>\r\n                                                        <td *ngIf=\"edicion\">\r\n                                                            <div class=\"columns\">\r\n                                                                <div class=\"column is-6\">\r\n                                                                    <input type=\"Number\" class=\"input\" [(ngModel)]=\"PRODUCTO.i_ancho\">\r\n                                                                </div>\r\n                                                                <div class=\"column is-6\">\r\n                                                                    <input type=\"Number\" class=\"input\" [(ngModel)]=\"PRODUCTO.i_largo\">\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                </table>\r\n                                            </div>\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <tr>\r\n                                                        <th>% DEMASÍA</th>\r\n                                                        <td>{{PRODUCTO.demasia}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>HOJAS DE DEMASÍA</th>\r\n                                                        <td>{{hojas_demasia}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>HOJAS A IMPRIMIR</th>\r\n                                                        <td>{{hojas_imprimir}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>TOTAL DE HOJAS POR ASIGNAR</th>\r\n\r\n                                                        <ng-container *ngIf=\"PRODUCTO.montaje == 0\">\r\n                                                            <td>{{PRODUCTO.paginas}}</td>\r\n                                                        </ng-container>\r\n                                                        <ng-container *ngIf=\"PRODUCTO.montaje == 1\">\r\n                                                            <td>{{hojas_demasia + hojas_imprimir}}</td>\r\n                                                        </ng-container>\r\n                                                    </tr>\r\n                                                </table>\r\n                                            </div>\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>COLOR</th>\r\n                                                        <th>TINTA</th>\r\n                                                    </tr>\r\n                                                    <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                                        <tr>\r\n                                                            <td>{{TintaProducto.producto.color}}</td>\r\n                                                            <td>{{TintaProducto.producto.nombre}}\r\n                                                                ({{TintaProducto.producto.marca}})\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                        <table class=\"table is-fullwidth is-bordered\">\r\n                                            <tr>\r\n                                                <th>BARNIZ</th>\r\n                                                <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                    <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Barniz' || TintaProducto.producto.grupo.nombre === 'Barniz Acuoso'\">\r\n                                                <td colspan=\"2\">{{TintaProducto.producto.nombre}}\r\n                                                    ({{TintaProducto.producto.marca}})\r\n                                                </td>\r\n                                                     </ng-container>\r\n                                                </ng-container>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <th>ESTÁNDAR DE COLORES:</th>\r\n                                                <td *ngIf=\"PRODUCTO.e_c === true && !edicion\">Si</td>\r\n                                                <td *ngIf=\"PRODUCTO.e_c != true && !edicion\">No</td>\r\n                                                <td *ngIf=\"edicion\"><select class=\"select\" [(ngModel)]=\"PRODUCTO.e_c\">\r\n                                                    <option value=\"true\">Si</option>\r\n                                                    <option value=\"false\">No</option>\r\n                                                </select></td>\r\n                                            <tr>\r\n                                        </table>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n\r\n                        <table class=\"table is-fullwidth is-bordered\">\r\n                            <thead>\r\n                                <th>POST-IMPRESIÓN</th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        <div class=\"columns\">\r\n                                            <div class=\"column\">\r\n                                                <p *ngFor=\"let post of PRODUCTO.producto.post\" class=\"post\">\r\n                                                ○    {{post}}\r\n                                                </p>\r\n                                                <br>\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <thead>\r\n                                                        <th>TIPO DE PEGA</th>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Pega'\">\r\n                                                                <td>{{TintaProducto.producto.nombre}}</td>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <thead>\r\n                                                        <th>CÓDIGO DE CAJA</th>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cajas Corrugadas'\">\r\n                                                                <td>{{TintaProducto.producto.nombre}}</td>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tbody>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>CINTA DE EMBALAJE</th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cajas Corrugadas'\">\r\n                                                        <td>\r\n                                                            <!-- {{PRODUCTO.cantidad}} - {{TintaProducto.cantidad}} * - {{TintaProducto.producto.cinta}} -->\r\n                                                            {{(Aprox(PRODUCTO.cantidad,TintaProducto.cantidad) * TintaProducto.producto.cinta).toFixed(2)}}m\r\n                                                        <br>\r\n                                                        </td>\r\n                                                             </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tr>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n\r\n                        <!-- FIN HORIZONTAL -->\r\n\r\n                        <!-- <div class=\"columns\">\r\n                            <div class=\"column\">\r\n                                <table class=\"table is-fullwidth\">\r\n                                    <thead>\r\n                                        <th>PRE-IMPRESIÓN</th>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CÓDIGO DEL MONTAJE\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                M-{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CANTIDAD DE EJEMPLARES\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                {{PRODUCTO.producto.ejemplares[PRODUCTO.montaje]}}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CÓDIGO DE PELICULA\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                                            <tr>\r\n                                                                <td>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Negro'\"><b>Negro:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-1 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Cyan'\"><b>Cyan:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-2 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Magenta'\"><b>Magenta:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-3 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Amarillo'\"><b>Amarillo:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-4 </p>\r\n                                                                    <div *ngIf=\"TintaProducto.producto.color != 'Amarillo' && TintaProducto.producto.color != 'Magenta' && TintaProducto.producto.color != 'Cyan' && TintaProducto.producto.color != 'Negro' \">\r\n                                                                        <b>{{TintaProducto.producto.color}}:</b>\r\n                                                                        <ng-container>\r\n                                                                            {{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{sumaTintas(i)}}\r\n                                                                        </ng-container>\r\n                                                                    </div>\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </thead>\r\n                                                </table>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <table class=\"table is-fullwidth is-bordered\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>IMPRESIÓN</th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <table class=\"table is-bordered-is-fullwidth\">\r\n                                                    <tr>\r\n                                                        <th width=\"50%\">SUSTRATO</th>\r\n                                                        <th>TAMAÑO ORIGINAL (cm)</th>\r\n                                                    </tr>\r\n                                                    <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                                    <tr>\r\n                                                        <td>\r\n                                                            {{TintaProducto.producto.nombre}}\r\n                                                        </td>\r\n                                                        <td>\r\n                                                            ({{TintaProducto.producto.ancho}} x {{TintaProducto.producto.largo}})\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                            <th>DIRECCIÓN DE FIBRA</th>\r\n                                                            <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                                <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                                            <td>{{TintaProducto.producto.largo}}</td>\r\n                                                                </ng-container>\r\n                                                            </ng-container>\r\n                                                    </tr>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <tr>\r\n                                                        <th>% DEMASIA</th>\r\n                                                        <td>{{demasia}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>TOTAL DE HOJAS</th>\r\n                                                        <td>{{PRODUCTO.demasia}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>TOTAL DE HOJAS POR ASIGNAR</th>\r\n                                                        <td>{{PRODUCTO.paginas}}</td>\r\n                                                    </tr>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>COLOR</th>\r\n                                                        <th>TINTA</th>\r\n                                                    </tr>\r\n                                                    <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                                        <tr>\r\n                                                            <td>{{TintaProducto.producto.color}}</td>\r\n                                                            <td>{{TintaProducto.producto.nombre}}\r\n                                                                ({{TintaProducto.producto.marca}})\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>BARNIZ</th>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Barniz'\">\r\n                                                        <td>{{TintaProducto.producto.nombre}}\r\n                                                            ({{TintaProducto.producto.marca}})\r\n                                                        </td>\r\n                                                             </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tr>\r\n                                                </table>\r\n\r\n                                            </td>\r\n                                        </tr>\r\n                                    </thead>\r\n                                </table>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <table class=\"table is-fullwidth is-bordered\">\r\n                                    <thead>\r\n                                        <th>POST-IMPRESIÓN</th>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <p *ngFor=\"let post of PRODUCTO.producto.post\">\r\n                                                    {{post}}\r\n                                                </p>\r\n                                                <br>\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <thead>\r\n                                                        <th>TIPO DE PEGA</th>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Pega'\">\r\n                                                                <td>{{TintaProducto.producto.nombre}}</td>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tbody>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <thead>\r\n                                                        <th>CÓDIGO DE CAJA</th>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cajas Corrugadas'\">\r\n                                                                <td>{{TintaProducto.producto.nombre}}</td>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tbody>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>CINTA DE EMBALAJE</th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cinta de embalaje'\">\r\n                                                        <td>{{TintaProducto.producto.nombre}}\r\n                                                            ({{TintaProducto.producto.marca}})\r\n                                                        </td>\r\n                                                             </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tr>\r\n                                                </table>\r\n\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div> -->\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <tr>\r\n                    <th>\r\n                        PROCESOS\r\n                    </th>\r\n                </tr>\r\n                <tr>\r\n                    <td>\r\n\r\n                        <table class=\"table is-fullwidth is-bordered\">\r\n                            <tr>\r\n                                <th colspan=\"2\">EQUIPOS</th>\r\n                            </tr>\r\n                            <tr *ngFor=\"let maquina of Maquinas.maquinasDB\">\r\n                                <td>\r\n                                    {{maquina.maquina.nombre}}\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n\r\n                        <table class=\"table is-fullwidth isbordered\">\r\n                            <tr>\r\n                                <th colspan=\"6\">OBSERVACIONES</th>\r\n                                <th colspan=\"2\">ELABORADO POR</th>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colspan=\"6\" *ngIf=\"!edicion\">\r\n                                {{this.PRODUCTO.observacion}}\r\n                                    <br>\r\n                                    <br>\r\n                                    <br>\r\n                                </td> \r\n                                <td colspan=\"6\" *ngIf=\"edicion\">\r\n                                    <textarea cols=\"30\" rows=\"3\" class=\"textarea\" [(ngModel)]=\"this.PRODUCTO.observacion\"></textarea>\r\n                                </td>\r\n                                <td colspan=\"2\">\r\n                                    Firma:\r\n                                    <br>\r\n                                    <br>\r\n                                    Fecha:\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <hr>\r\n            <button class=\"button is-success\" (click)='descargarPDF()'>\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-download\"></i>\r\n                </span>\r\n                <span>Descargar</span>\r\n              </button>\r\n            <!-- <button class=\"button is-primary\" (click)='descargarPDF()'>Descargar</button> -->\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- <div class=\"container mt-5\">\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n                <table width='100%'>\r\n                    <tr>\r\n                        <td>\r\n                            <img src=\"../../assets/Poligrafica_black.png\">\r\n                        </td>\r\n                        <td class=\"orden\">\r\n                            ORDEN DE PRODUCCIÓN <br>\r\n                            <b id='n_orden'>{{PRODUCTO.sort}}</b> <br>\r\n                            FECHA DE EMISION: {{PRODUCTO.fecha | date:'dd-MM-yyyy'}}\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <br>\r\n                <table border=\"solid 1px black\" width='100%'>\r\n                    <tr>\r\n                        <td><b> CLIENTE: </b>{{PRODUCTO.cliente.nombre}}</td>\r\n                        <td><b> O.C.: </b>{{PRODUCTO.orden}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan='2'>\r\n                            <b> PRODUCTO: </b> {{PRODUCTO.cliente.codigo}} - {{PRODUCTO.producto.codigo}} - {{PRODUCTO.producto.version}} {{PRODUCTO.producto.producto}}\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <br>\r\n                <table class=\"table is-fullwidth\">\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='2'>ENTREGAS</th>\r\n                    </tr>\r\n                </table>\r\n                <table border=\"solid 1px black\" width='100%'>\r\n                    <tr>\r\n                        <th> N° ENTREGA</th>\r\n                        <th> CANTIDAD</th>\r\n                        <th> FECHA</th>\r\n                        <th> OBSERVACIÓN</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td> 1</td>\r\n                        <td> {{PRODUCTO.cantidad}}</td>\r\n                        <td>{{PRODUCTO.fecha_s}}</td>\r\n                        <td></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td> TOTAL</td>\r\n                        <td> {{PRODUCTO.cantidad}}</td>\r\n                    </tr>\r\n                </table>\r\n                <br>\r\n                <table class=\"table is-fullwidth\">\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='3'>MONTAJE Y DESARROLLO</th>\r\n                    </tr>\r\n                </table>\r\n                <table border='solid 1px black' width='100%'>\r\n                    <tr>\r\n                        <th> ESPECIFICACIÓN</th>\r\n                        <th> IMPRESIÓN</th>\r\n                        <th> POST-IMPRESION</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>E {{PRODUCTO.cliente.codigo}} - {{PRODUCTO.producto.codigo}} - {{PRODUCTO.producto.version}} - {{PRODUCTO.producto.edicion}}</td>\r\n                        <td class=\"has-text-centered\">\r\n                        <ng-container *ngFor='let material of PRODUCTO.producto.materiales'>\r\n                            <p *ngIf='material.producto.grupo.nombre != \"Sustrato\"'>\r\n                                {{material.producto.nombre}} ({{material.producto.marca}})<br>\r\n                            </p>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor='let post of PRODUCTO.producto.post'>\r\n                                 {{post}} <br>\r\n                            </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <br>\r\n                <table class=\"table is-fullwidth\">\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='3'>SUSTRATO</th>\r\n                    </tr>\r\n                </table>\r\n                <table border='solid 1px black' width='100%'>\r\n                    <tr>\r\n                        <td colspan='2'>\r\n                             <b> TIPO DE SUSTRATO:\r\n                                <ng-container *ngFor='let material of PRODUCTO.producto.materiales'>\r\n                                    <ng-container *ngIf='material.producto.grupo.nombre === \"Sustrato\"'>\r\n                                        {{material.producto.nombre}} ({{material.producto.marca}})<br>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            </b>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b> TAMAÑO ORIGINAL: {{PRODUCTO.producto.dimensiones}}</b></td>\r\n                        <td> <b>DIRECCIÓN DE FIBRA: </b> {{PRODUCTO.producto.fibra}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b> DEMASIA:</b> {{PRODUCTO.demasia}}</td>\r\n                        <td><b> TAMAÑOS A IMPRIMIR: </b> {{PRODUCTO.paginas}}</td>\r\n                    </tr>\r\n                </table>\r\n                <hr>-->\r\n        <!--</div>\r\n        <!-- <div class=\"card-content\">\r\n\r\n            <div class=\"orden\">Orden de Producción</div>\r\n            <div class=\"op\">\r\n                <b>\r\n                    {{PRODUCTO.sort}}\r\n                </b>\r\n            </div>\r\n            <table class=\"table is-fullwidth\">\r\n                <tr>\r\n                    <td>\r\n                        <b>CLIENTE:</b> {{PRODUCTO.cliente.nombre}}\r\n                    </td>\r\n                    <td>\r\n                        <b>Orden De Compra:</b> {{PRODUCTO.orden}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan='2'>\r\n                            <b>PRODUCTO:</b> {{PRODUCTO.producto.producto}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='2'>ENTREGAS</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <b>Cantidad:</b> {{PRODUCTO.cantidad}} <br>\r\n                        </td>\r\n                        <td>\r\n                            <b>Fecha de Creacion: </b> {{PRODUCTO.fecha | date:'dd-MM-yyyy'}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='2'>MONTAJE Y DESARROLLO</th>\r\n                    </tr>\r\n                    <tr class=\"has-text-centered\">\r\n                        <th class=\"has-text-centered is-selected\">MATERIALES</th>\r\n                        <th class=\"has-text-centered is-selected\">HOJAS</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td rowspan=\"2\">\r\n                            <ng-container *ngFor='let material of PRODUCTO.producto.materiales'>\r\n                                {{material.material}} <br>\r\n                            </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <b>Ejemplares Montados:</b>\r\n                            {{PRODUCTO.producto.ejemplares}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <b>Hojas:</b>\r\n                            {{PRODUCTO.paginas}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr class=\"has-text-centered\">\r\n                        <th class=\"is-selected\" colspan='2'>POST - IMPRESION</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan='2'>\r\n                            <b>Corte:</b>\r\n                            {{PRODUCTO.producto.post}}\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <div class=\"column\">\r\n                </div>\r\n            <hr>\r\n        </div>\r\n    </div>\r\n</div> -->","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\nimport { PdfMakeWrapper, Txt, Img, Table, Cell, Columns, Stack } from 'pdfmake-wrapper';\r\nimport * as pdfFonts from \"pdfmake/build/vfs_fonts\";\r\nimport * as moment from 'moment';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-orden',\r\n  templateUrl: './orden.component.html',\r\n  styleUrls: ['./orden.component.css']\r\n})\r\nexport class OrdenComponent implements OnInit {\r\n\r\n  public id!:any;\r\n  public PRODUCTO;\r\n  public Maquinas;\r\n  public listo:boolean = true;\r\n  public loading:boolean = true;\r\n  public necesidad;\r\n  public demasia;\r\n  public cantidad;\r\n  public usuario;\r\n\r\n  constructor(private route:ActivatedRoute,\r\n              private api:RestApiService) { \r\n    this.usuario = api.usuario\r\n    this.id = this.route.snapshot.paramMap.get('id');\r\n  }\r\n\r\n  public hojas_imprimir\r\n  public hojas_demasia\r\n  ngOnInit(): void {\r\n    this.api.getOrdenById(this.id)\r\n      .subscribe((resp:any)=>{\r\n        this.loading = true;\r\n        this.PRODUCTO = resp;\r\n        this.getMaquinas(this.PRODUCTO._id)\r\n        this.cantidad = new Intl.NumberFormat('de-DE').format(this.PRODUCTO.cantidad)\r\n        this.demasia = Math.ceil(this.PRODUCTO.demasia * 100 / this.PRODUCTO.paginas);\r\n        let ejemplares_montados = this.PRODUCTO.producto.ejemplares[this.PRODUCTO.montaje]\r\n        let paginas_sin_demasia = this.PRODUCTO.cantidad /  ejemplares_montados;\r\n        this.hojas_imprimir = Math.ceil(this.PRODUCTO.cantidad / this.PRODUCTO.producto.ejemplares[this.PRODUCTO.montaje])\r\n        this.hojas_demasia = Math.ceil(this.PRODUCTO.demasia * this.hojas_imprimir / 100)\r\n        // this.PRODUCTO.demasia = Math.ceil(this.demasia * paginas_sin_demasia / 100);\r\n        // this.PRODUCTO.demasia = this.PRODUCTO.producto.ejemplares[this.PRODUCTO.montaje]\r\n        // console.log(this.PRODUCTO, 'este es el Producto');\r\n        this.loading = false;\r\n        console.log(this.PRODUCTO)\r\n      })\r\n  }\r\n\r\n  cancelarOrden(){\r\n    Swal.fire({\r\n      icon:'info',\r\n      title: `¿Cancelar Orden ${this.PRODUCTO.sort}?` ,\r\n      text:'Describe brevemente el motivo',\r\n      input: 'textarea',\r\n      inputAttributes: {\r\n        autocapitalize: 'off'\r\n      },\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Cancelar orden',\r\n      cancelButtonText:'No cancelar',\r\n      showLoaderOnConfirm: true,\r\n      cancelButtonColor:'#f14668',\r\n      confirmButtonColor:'#48c78e',\r\n      preConfirm: (login) => {\r\n        return fetch(`//localhost:8080/api/orden/cancelar/${this.PRODUCTO._id}/${login}`)\r\n          .then(response => {\r\n            if (!response.ok) {\r\n              console.log(response)\r\n              throw new Error('Debes indicar un motivo')\r\n            }\r\n            return response.json()\r\n          })\r\n          .catch(error => {\r\n            Swal.showValidationMessage(\r\n              `No se pudo cancelar: ${error}`\r\n            )\r\n          })\r\n      },\r\n      allowOutsideClick: () => !Swal.isLoading()\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        Swal.fire({\r\n          title: `${result.value}`,\r\n          text:`La orden ${this.PRODUCTO.sort} fué cancelada`,\r\n          icon:'success',\r\n          showConfirmButton:false\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  getMaquinas(orden){\r\n    this.api.getMaquinasByOrdens(orden)\r\n      .subscribe((resp:any)=>{\r\n        this.Maquinas = resp;\r\n      })\r\n\r\n  }\r\n\r\n  FinalizarEdicion(){\r\n    this.api.putOrden(this.PRODUCTO, this.PRODUCTO._id)\r\n      .subscribe((resp:any)=>{\r\n        this.EditarOrden()\r\n      })\r\n  }\r\n\r\n  public edicion:boolean = false;\r\n  EditarOrden(){\r\n    if(!this.edicion){\r\n      this.edicion = true;\r\n    }else{\r\n      this.edicion = false\r\n    }\r\n  }\r\n\r\n  NumToLet(n){\r\n    switch(n)\r\n    {\r\n        case 0: return \"A\";\r\n        case 1: return \"B\";\r\n        case 2: return \"C\";\r\n        case 3: return \"D\";\r\n        case 4: return \"E\";\r\n        case 5: return \"F\";\r\n        case 6: return \"G\";\r\n        case 7: return \"H\";\r\n        case 8: return \"I\";\r\n    }\r\n\r\n  }\r\n\r\n  Aprox(x,y){\r\n    let z = x/y;\r\n    Number(z)\r\n    z = Math.ceil(z)\r\n    return z;\r\n  }\r\n\r\n  sumaTintas(n){\r\n    if(this.listo){\r\n      this.listo = false;\r\n      this.necesidad = n - 5;\r\n      return n + Math.abs(this.necesidad);\r\n    }else{\r\n      return n + Math.abs(this.necesidad);\r\n    }\r\n  }\r\n\r\n  descargarPDF(){\r\n\r\n    let PRODUCTO = this.PRODUCTO\r\n    let hojas_demasia = this.hojas_demasia\r\n    let hojas_imprimir = this.hojas_imprimir\r\n    // console.log(this.PRODUCTO)\r\n    \r\n    PRODUCTO.fecha_o = moment(PRODUCTO.fecha_o).utc().format('DD/MM/yyyy');\r\n    PRODUCTO.fecha_s = moment(PRODUCTO.fecha_s).utc().format('DD/MM/yyyy');\r\n    PRODUCTO.fecha = moment(PRODUCTO.fecha).format('DD/MM/yyyy');\r\n    PRODUCTO.cantidad_ = new Intl.NumberFormat('de-DE').format(PRODUCTO.cantidad)\r\n\r\n    if(!PRODUCTO.usuario){\r\n      PRODUCTO.usuario = ' '\r\n    }\r\n    \r\n    \r\n    let montajes = this.NumToLet(PRODUCTO.montaje);\r\n    let maquinas = this.Maquinas.maquinasDB\r\n    let maquina = []\r\n    \r\n    let peliculas = [];\r\n    let demasia = this.demasia\r\n\r\n    let materiales = PRODUCTO.producto.materiales[PRODUCTO.montaje];\r\n    \r\n    let tintas = materiales.filter(x => x.producto.grupo.nombre === 'Tinta')\r\n    let sustrato = materiales.filter(x => x.producto.grupo.nombre === 'Sustrato')\r\n    let barniz = materiales.filter(x => x.producto.grupo.nombre === 'Barniz' || x.producto.grupo.nombre === 'Barniz Acuoso')\r\n    let cantidad_barniz;\r\n    let b_name = ''\r\n    let b_marc = ''\r\n    let b_und = ''\r\n\r\n    if(barniz.length > 0){\r\n\r\n      // barniz[0].producto.nombre} (${barniz[0].producto.marca} - ${cantidad_barniz}${barniz[0].producto.unidad\r\n\r\n      b_name = barniz[0].producto.nombre;\r\n      b_marc = barniz[0].producto.marca;\r\n      b_und = barniz[0].producto.unidad\r\n      let cant_barniz = (barniz[0].cantidad * PRODUCTO.paginas)/1000;\r\n      cantidad_barniz = cant_barniz.toFixed(2)\r\n\r\n    }else{\r\n      cantidad_barniz = 'N/A';\r\n    }\r\n\r\n    let pega = materiales.filter(x => x.producto.grupo.nombre === 'Pega')\r\n    // console.log(pega,'pegaa')\r\n    let cantidad_pega;\r\n    let pega_nombre = '';\r\n    let pega_marca = '';\r\n    let pega_unidad = '';\r\n    if(pega.length == 0){\r\n      cantidad_pega = 'N/A'\r\n    }else{\r\n      let cant_pega = (pega[0].cantidad * PRODUCTO.cantidad)/1000;\r\n      cantidad_pega = cant_pega.toFixed(2)\r\n      pega_nombre = pega[0].producto.nombre\r\n      pega_marca = pega[0].producto.marca\r\n      pega_unidad =pega[0].producto.unidad\r\n    }\r\n    let caja = materiales.filter(x => x.producto.grupo.nombre === 'Cajas Corrugadas')\r\n    let cant_cajas = 0;\r\n    let cinta_ = 0;\r\n    if(caja[0]){\r\n      cant_cajas = Math.ceil(PRODUCTO.cantidad / caja[0].cantidad)\r\n      cinta_ = caja[0].producto.cinta * cant_cajas;\r\n    }else{\r\n      caja = [];\r\n      caja.push({producto:{nombre:'N/A'},cantidad:'N/A'})\r\n    }\r\n    let cantidad_cajas = Math.ceil(cant_cajas)\r\n    let cinta = materiales.filter(x => x.producto.grupo.nombre === 'Cinta de Embalaje')\r\n    let Nombre_sustrato = `${sustrato[0].producto.nombre} ${sustrato[0].producto.marca} (Calibre:${sustrato[0].producto.calibre}, Gramaje:${sustrato[0].producto.gramaje})`\r\n    let tintas_color = []\r\n    let tintas_marca = []\r\n    \r\n    let Estandar_de_color = ''\r\n\r\n    if(PRODUCTO.e_c){\r\n      Estandar_de_color = 'SI'\r\n    }else{\r\n      Estandar_de_color = 'NO'\r\n    }\r\n    \r\n    let _i = 5;\r\n    for(let i = 0; i<tintas.length; i++){\r\n      if(tintas[i].producto.color === 'Negro'){\r\n        let peli = `Negro: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-1`;\r\n        peliculas.push(peli)\r\n      }else if(tintas[i].producto.color === 'Cyan'){\r\n        let peli = `Cyan: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-2`;\r\n        peliculas.push(peli)\r\n      }else if(tintas[i].producto.color === 'Magenta'){\r\n        let peli = `Magenta: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-3`;\r\n        peliculas.push(peli)\r\n      }else if(tintas[i].producto.color === 'Amarillo'){\r\n        let peli = `Amarillo: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-4`;\r\n        peliculas.push(peli)\r\n      }else{\r\n        let peli = `${tintas[i].producto.color}: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-${_i++}`;\r\n        peliculas.push(peli)\r\n      }\r\n      tintas_color.push(tintas[i].producto.color)\r\n      let cantidad = (tintas[i].cantidad * this.PRODUCTO.paginas)/1000;\r\n      cantidad = Number(cantidad)\r\n      let cantidad_tinta = cantidad.toFixed(2)\r\n      let tinta = `${tintas[i].producto.color}: ${tintas[i].producto.nombre}(${tintas[i].producto.marca} - ${cantidad_tinta}${tintas[i].producto.unidad})`\r\n      tintas_marca.push(tinta)\r\n    }\r\n\r\n    for(let i=0; i<maquinas.length;i++){\r\n      maquina.push(maquinas[i].maquina.nombre);\r\n    }\r\n    \r\n    \r\n    if(PRODUCTO.montaje == 1){\r\n      PRODUCTO.paginas = hojas_demasia + hojas_imprimir\r\n    }\r\n    \r\n    \r\n    const pdf = new PdfMakeWrapper();\r\n    PdfMakeWrapper.setFonts(pdfFonts);\r\n\r\n    \r\n    async function generarPDF(){\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(await new Img('../../assets/poli_cintillo.png').width(85).margin([20, 5]).build()).rowSpan(4).end,\r\n            new Cell(new Txt(`\r\n            ORDEN DE PRODUCCIÓN`).bold().end).alignment('center').fontSize(13).rowSpan(4).end,\r\n            new Cell(new Txt('Código: FPR-008').end).fillColor('#dedede').fontSize(7).alignment('center').end,\r\n          ],\r\n          [\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('N° de Revisión: 0').end).fillColor('#dedede').fontSize(7).alignment('center').end,\r\n          ],\r\n          [\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('Fecha de Revision: 24/05/2022').end).fillColor('#dedede').fontSize(7).alignment('center').end,\r\n          ],\r\n          [\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('Página: 1 de 5').end).fillColor('#dedede').fontSize(7).alignment('center').end,\r\n          ],\r\n        ]).widths(['25%','50%','25%']).end\r\n      )\r\n\r\n      pdf.add(\r\n        pdf.ln(1)\r\n      )\r\n\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('ORDEN DE COMPRA').bold().end).colSpan(2).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('N°').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.orden}`).end).fontSize(9).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('Fecha de OC:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.fecha_o}`).margin([0,6]).end).fontSize(9).end\r\n              ]\r\n            ]).widths(['40%','60%']).end\r\n            ).end,\r\n\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('PRODUCTO').bold().end).colSpan(2).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('NOMBRE:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.producto.producto}`).end).fontSize(12).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('CÓDIGO:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}`).end).fontSize(12).end\r\n              ]\r\n            ]).widths(['25%','75%']).end\r\n            ).end,\r\n\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('ORDEN DE PRODUCCIÓN').bold().end).colSpan(2).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('N°:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.sort}`).bold().end).fontSize(15).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('FECHA DE EMISIÓN:').end).fillColor('#dedede').fontSize(8).end,\r\n                new Cell(new Txt(`${PRODUCTO.fecha}`).margin([0,6]).end).fontSize(9).end\r\n              ]\r\n            ]).widths(['40%','60%']).end\r\n            ).end,\r\n\r\n          ],\r\n          \r\n        ]).layout('noBorders').widths(['30%','40%','30%']).end\r\n\r\n      )\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('INFORMACIÓN DEL PRODUCTO').bold().end).colSpan(2).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('CLIENTE:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.cliente.nombre}`).end).fontSize(12).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('CÓDIGO DE PRODUCTO DEL CLIENTE:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.producto.cod_cliente}`).end).fontSize(12).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('CÓDIGO DE ESPECIFICACIÓN:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`E-${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${PRODUCTO.producto.edicion}`).end).fontSize(12).end\r\n              ]\r\n            ]).widths(['40%','60%']).end\r\n            ).end,\r\n\r\n          ],\r\n          \r\n        ]).layout('noBorders').widths(['100%']).end\r\n\r\n      )\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('PLANIFICACIÓN DE ENTREGAS').bold().end).colSpan(4).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n\r\n              ],\r\n              [\r\n                new Cell(new Txt('N°:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt('CANTIDAD:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt('FECHA SOLICITADA:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt('LUGAR DE ENTREGA:').end).fillColor('#dedede').fontSize(9).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt(`1`).end).fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.cantidad_}`).end).fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.fecha_s}`).end).fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.almacen}`).end).fontSize(9).end\r\n              ],\r\n              [\r\n                new Cell(new Txt(`TOTAL`).end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.cantidad_}`).end).fontSize(9).end,\r\n                new Cell(new Txt(``).end).border([false]).fontSize(9).end,\r\n                new Cell(new Txt(``).end).border([false]).fontSize(9).end\r\n              ],\r\n            ]).widths(['7%','31%','31%','31%']).end\r\n            ).end,\r\n\r\n          ],\r\n          \r\n        ]).layout('noBorders').widths(['100%']).end\r\n\r\n      )\r\n      pdf.ln(2)\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('CARACTERÍSTICAS Y MATERIALES ').bold().end).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n              ],\r\n              [\r\n                new Cell(\r\n                  new Table([\r\n                    [\r\n                      new Cell(new Table([\r\n                        [\r\n                          new Cell(new Txt('PRE-IMPRESIÓN').end).fillColor('#dedede').fontSize(9).end,\r\n                        ],\r\n                        [\r\n                          new Cell(new Table([\r\n                            [\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('CÓDIGO DEL MONTAJE').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`M-${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}`).end).end\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('CANTIDAD DE EJEMPLARES').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`${PRODUCTO.producto.ejemplares[PRODUCTO.montaje]}`).end).end\r\n                                ]\r\n                              ]).widths(['100%']).end\r\n                              ).fontSize(9).end,\r\n                              new Cell(\r\n                                new Table([\r\n                                [\r\n                                  new Cell(new Txt('CÓDIGO DE PELICULAS').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Stack(peliculas).fontSize(9).end\r\n                                ]\r\n                              ]).widths(['100%']).end\r\n                              ).end,\r\n                            ],\r\n                          ]).layout('noBorders').widths(['50%', '50%']).end\r\n                          ).end,\r\n                        ]\r\n                      ]).layout('noBorders').widths(['100%']).end\r\n                      ).border([false]).fillColor('#ffffff').end,\r\n                    ], //FINAL PRE-IMPRESION\r\n                    [\r\n                      new Cell(new Table([\r\n                        [\r\n                          new Cell(new Txt('IMPRESIÓN').end).fillColor('#dedede').fontSize(9).end,\r\n                        ],\r\n                        [\r\n                          new Cell(new Table([\r\n                            [\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('SUSTRATO').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                  new Cell(new Txt('TAMAÑO ORIGINAL').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(Nombre_sustrato).end).fontSize(11).end,\r\n                                  new Cell(new Txt(`${sustrato[0].producto.ancho} x ${sustrato[0].producto.largo}`).end).alignment('center').fontSize(11).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('DIRECCIÓN DE FIBRA').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                  new Cell(new Txt('TAMAÑO A IMPRIMIR').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(sustrato[0].producto.largo).end).alignment('center').fontSize(11).end,\r\n                                  new Cell(new Txt(`${PRODUCTO.i_ancho} x ${PRODUCTO.i_largo}`).end).alignment('center').fontSize(11).end,\r\n                                ]\r\n\r\n\r\n                              ]).widths(['60%','40%']).end\r\n                              ).fontSize(9).end,\r\n\r\n\r\n\r\n                              // new Cell(new Table([\r\n                              //   [\r\n                              //     new Cell(new Txt('% DEMASIA').end).fillColor('#dedede').lineHeight(0.5).fontSize(9).end,\r\n                              //     new Cell(new Txt(demasia).end).fontSize(11).alignment('center').end,\r\n                              //   ],\r\n                              //   [\r\n                              //     new Cell(new Txt('HOJAS DE DEMASIA').end).fillColor('#dedede').fontSize(9).end,\r\n                              //     new Cell(new Txt(PRODUCTO.demasia).end).fontSize(11).alignment('center').end,\r\n                              //   ],\r\n                              //   [\r\n                              //     new Cell(new Txt('HOJAS A IMPRIMIR').end).fillColor('#dedede').fontSize(9).end,\r\n                              //     new Cell(new Txt(`${PRODUCTO.paginas - demasia}`).end).fontSize(11).alignment('center').end,\r\n                              //   ],\r\n                              //   [\r\n                              //     new Cell(new Txt('TOTAL DE HOJAS POR ASIGNAR').end).fillColor('#dedede').fontSize(9).end,\r\n                              //     new Cell(new Txt(PRODUCTO.paginas).end).fontSize(11).alignment('center').end,\r\n                              //   ]\r\n                              // ]).widths(['80%','20%']).end\r\n                              // ).fontSize(9).end,\r\n\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('% DEMASÍA').end).fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                  new Cell(new Txt('HOJAS DE DEMASÍA:').end).fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(PRODUCTO.demasia).end).fontSize(10).alignment('center').end,\r\n                                  new Cell(new Txt(hojas_demasia).end).fontSize(10).alignment('center').end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('HOJAS A IMPRIMIR:').end).fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                  new Cell(new Txt('TOTAL HOJAS A ASIGNAR:').end).fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(hojas_imprimir).bold().end).fontSize(12).alignment('center').end,\r\n                                  new Cell(new Txt(PRODUCTO.paginas).bold().end).fontSize(12).alignment('center').end,\r\n                                ]\r\n                              ]).widths(['50%','50%']).end\r\n                              ).end,\r\n                            ],\r\n                            [\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('BARNIZ').end).alignment('center').fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                  new Cell(new Txt('ESTÁNDAR DE COLOR:').alignment('center').end).fillColor('#dedede').alignment('center').fontSize(7).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`${b_name} (${b_marc} - ${cantidad_barniz}${b_und})`).end).fontSize(9).end,\r\n                                  // new Cell(new Txt(`N/A`).end).fontSize(9).end,\r\n                                  new Cell(new Txt(Estandar_de_color).end).alignment('center').fontSize(9).end\r\n                                ]\r\n                              ]).widths(['70%','30%']).end\r\n                              ).fontSize(9).end,\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('TINTA').end).alignment('center').fillColor('#dedede').fontSize(9).end\r\n                                ],\r\n                                [\r\n                                  new Cell(new Stack(tintas_marca).end).fontSize(9).end\r\n                                ],\r\n                              ]).widths(['100%']).end\r\n                              ).fontSize(9).end,\r\n                              // new Cell(new Txt('').end).end\r\n                            ]\r\n                          ]).layout('noBorders').widths(['50%', '50%']).end\r\n                        // ]).layout('noBorders').widths(['33%', '27%', '40%']).end\r\n                          ).end\r\n                        ]\r\n                      ]).layout('noBorders').widths(['100%']).end\r\n                      ).border([false]).fillColor('#ffffff').end\r\n                    ],\r\n                    [\r\n                      new Cell(new Table([\r\n                        [\r\n                          new Cell(new Txt('POST-IMPRESIÓN').end).fillColor('#dedede').fontSize(9).end,\r\n                        ],\r\n                        [\r\n                          new Cell(new Table([\r\n                            [\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Stack(PRODUCTO.producto.post).end).fontSize(9).border([false]).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('TIPO DE PEGA').alignment('center').end).fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`${pega_nombre} (${pega_marca} - ${cantidad_pega}${pega_unidad})`).end).fontSize(9).end\r\n                                ]\r\n                              ]).widths(['100%']).end\r\n                              ).end,\r\n\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('CÓDIGO DE CAJA').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`${caja[0].producto.nombre} (${caja[0].cantidad} Unidades por Caja / ${cantidad_cajas} Cajas necesarias)`).end).fontSize(9).end\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('CINTA DE EMBALAJE').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`${(cinta_).toFixed(2)}m`).end).fontSize(9).end\r\n                                ]\r\n                              ]).widths(['100%']).end\r\n                              ).end\r\n                              \r\n                            ]\r\n                            \r\n                          ]).layout('noBorders').widths(['50%', '50%']).end\r\n                          ).end\r\n                        ]\r\n\r\n                      ]).layout('noBorders').widths(['100%']).end\r\n                      ).border([false]).fillColor('#ffffff').end\r\n                    ],\r\n                  ]).widths(['100%']).end\r\n                ).end\r\n              ]\r\n            ]).layout('noBorders').widths(['100%']).end\r\n            ).end,\r\n\r\n          ],\r\n          \r\n        ]).layout('noBorders').widths(['100%']).end\r\n\r\n      )\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Txt('EQUIPOS').end).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n            new Cell(new Txt('OBSERVACIONES').end).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n            new Cell(new Txt('ELABORADO POR:').end).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n          ],\r\n          [\r\n            new Cell(new Stack(maquina).end).fontSize(9).end,\r\n            new Cell(new Txt(PRODUCTO.observacion).end).fontSize(9).end,\r\n            new Cell(new Txt(`Firma:${PRODUCTO.usuario}\r\n          \r\n            Fecha:${PRODUCTO.fecha}`).end).fontSize(9).end\r\n          ]\r\n\r\n        ]).widths(['34%','33%','33%']).end\r\n      )\r\n\r\n\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( await new Img('../../assets/Poligrafica_black_P.png').build()).end,\r\n      //       new Cell( new Table([[new Cell(new Txt('ORDEN DE PRODUCCIÓN').end).fillColor('#dedede').fontSize(9).end],\r\n      //                             [new Cell(new Txt(`${PRODUCTO.sort}`).end).fontSize(30).end],\r\n      //                             [new Cell(new Txt(`FECHA DE EMISION: ${fecha1}`).end).fontSize(8).end]\r\n      //                           ]).end).alignment('center').end\r\n      //     ]\r\n      //   ]).widths(['70%','30%']).layout('noBorders').end\r\n      // )\r\n      // pdf.add(\r\n\r\n      //   pdf.ln(2)\r\n        \r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt(`CLIENTE: ${PRODUCTO.cliente.nombre}`).end).end,\r\n      //       new Cell( new Txt(`O.C.: ${PRODUCTO.orden}`).end).end,\r\n      //     ],\r\n      //     [\r\n      //       new Cell( new Txt(`PRODUCTO: ${PRODUCTO.cliente.codigo} - ${PRODUCTO.producto.codigo} ${PRODUCTO.producto.producto}`).end).colSpan(2).end,\r\n      //       ''\r\n      //     ]\r\n      //   ]).widths(['60%','40%']).end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt('ENTREGAS').end).fillColor('#dedede').end\r\n      //     ]\r\n      //   ]).widths(['100%']).alignment('center').layout('noBorders').end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       'N° ENTREGA','CANTIDAD','FECHA','OBSERVACIÓN'\r\n      //     ],\r\n      //     [\r\n      //       '1',\r\n      //       new Cell( new Txt(`${PRODUCTO.cantidad}`).end).end,\r\n      //       new Cell( new Txt(`${PRODUCTO.fecha_s}`).end).end,\r\n      //       ''\r\n      //     ],\r\n      //     [\r\n      //       'TOTAL',\r\n      //       new Cell( new Txt(`${PRODUCTO.cantidad}`).end).end,\r\n      //       new Cell( new Txt('').end).border([false, false]).end,\r\n      //       new Cell( new Txt('').end).border([false, false]).end\r\n      //     ]\r\n      //   ]).widths(['24%','24%','24%','28%']).end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt('MONTAJE Y DESARROLLO').end).fillColor('#dedede').end\r\n      //     ]\r\n      //   ]).widths(['100%']).alignment('center').layout('noBorders').end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       'VERSIÓN','IMPRESIÓN','POST-IMPRESION'\r\n      //     ],\r\n      //     [\r\n      //       new Cell( new Txt(`${PRODUCTO.producto.version}`).end).end,\r\n      //       new Cell( new Stack(materiales).end).end,\r\n      //       new Cell( new Stack(PRODUCTO.producto.post).end).end\r\n      //     ],\r\n      //   ]).widths(['30%','40%','30%']).end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt('SUSTRATO').end).fillColor('#dedede').end\r\n      //     ]\r\n      //   ]).widths(['100%']).alignment('center').layout('noBorders').end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt(`TIPO DE SUSTRATO: ${PRODUCTO.producto.sustrato}`).end).colSpan(2).end,\r\n      //       ''\r\n      //     ],\r\n      //     [\r\n      //       new Cell( new Txt(`TAMAÑO ORIGINAL: ${PRODUCTO.producto.dimensiones}`).end).end,\r\n      //       new Cell( new Txt(`DIRECCIÓN DE FIBRA: ${PRODUCTO.producto.fibra}`).end).end,\r\n      //     ],\r\n      //     [\r\n      //       new Cell( new Txt(`DEMASIA: ${PRODUCTO.demasia}`).end).end,\r\n      //       new Cell( new Txt(`TAMAÑO A IMPRIMIR: ${PRODUCTO.paginas}`).end).end,\r\n      //     ]\r\n      //   ]).widths(['50%','50%']).end\r\n      // )\r\n  \r\n      pdf.create().download(`OP_${PRODUCTO.sort}`)\r\n    }\r\n\r\n    generarPDF();\r\n\r\n  }\r\n\r\n}\r\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import { Component, OnInit } from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { Router } from '@angular/router';\r\nimport Swal from 'sweetalert2';\r\nimport { iif } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  public NUEVA_ORDEN:boolean = false;\r\n\r\n  public cs:boolean = false;\r\n  public ps:boolean = false;\r\n  public os:boolean = false;\r\n\r\n  public Cantidad_ejemplares = 1000;\r\n  public Ejemplares_montados = 1;\r\n  public demasia = 0;\r\n  public paginas = Math.ceil(this.Cantidad_ejemplares / this.Ejemplares_montados)\r\n  public Fases:boolean = false;\r\n  public SinMaterial:boolean = false;\r\n\r\n  i_montajes = 0;\r\n\r\n  oc_ = '';\r\n  fo_ = '';\r\n  ae_ = 0;\r\n  observacion_ = '';\r\n\r\n  x; \r\n  y;\r\n\r\n\r\n\r\n  public TOTALES = [\r\n    {\r\n      material:null,\r\n      marca:null,\r\n      total:null,\r\n      grupo:null,\r\n      presentacion:null,\r\n      neto:null,\r\n      unidad:null,\r\n      ancho:null,\r\n      largo:null\r\n    }\r\n  ];\r\n\r\n  public CLIENTES;\r\n  public PRODUCTOS = [];\r\n  public PRODUCTO = {\r\n    montajes:null,\r\n    ejemplares:null,\r\n    materiales: [],\r\n    _id:null,\r\n    grupo:null,\r\n    sustrato:[{\r\n      nombre:'',\r\n      marca:''\r\n    }],\r\n    dimensiones:null\r\n  };\r\n  public montajes\r\n  public MAQUINAS\r\n  public ALMACEN\r\n  public CANTIDAD = [];\r\n  public _CANTIDAD = [];\r\n\r\n  public CLIENTE\r\n  public OC\r\n\r\n  public Fecha_S\r\n\r\n  public restantes = [];\r\n  public almacenes = [];\r\n  public hoy;\r\n  public usuario;\r\n\r\n  constructor(public api:RestApiService,\r\n              private router: Router) { this.usuario = api.usuario }\r\n\r\n  ngOnInit(): void {\r\n    this.obtenerClientes();\r\n    this.BuscarAlmacen();\r\n    this.Almacenado();\r\n    this.OrdenesdeCompra();\r\n    this.hoy = moment().format('yyyy-MM-DD');\r\n  }\r\n\r\n  public OrdenesDeCompra = []\r\n  OrdenesdeCompra(){\r\n    this.api.getOrdenesDeCompra()\r\n      .subscribe((resp:any)=>{\r\n        this.OrdenesDeCompra = resp\r\n        console.log(this.OrdenesDeCompra)\r\n      })\r\n  }\r\n\r\n  NumToLet(n){\r\n    switch(n)\r\n    {\r\n        case 0: return \"A\";\r\n        case 1: return \"B\";\r\n        case 2: return \"C\";\r\n        case 3: return \"D\";\r\n        case 4: return \"E\";\r\n        case 5: return \"F\";\r\n        case 6: return \"G\";\r\n        case 7: return \"H\";\r\n        case 8: return \"I\";\r\n    }\r\n\r\n  }\r\n\r\n  alertaRoja(aja){\r\n    let cantidad = this.PRODUCTO.materiales.length\r\n    if(cantidad > this.restantes.length){\r\n      this.restantes.push(aja)\r\n    }else{\r\n      this.restantes = [];\r\n      this.restantes.push(aja)\r\n    }\r\n\r\n    // // console.log(this.restantes)\r\n  }\r\n\r\n  modal_nueva_orden(){\r\n    if(!this.NUEVA_ORDEN){\r\n      this.NUEVA_ORDEN = true\r\n    }else{\r\n      this.NUEVA_ORDEN = false\r\n    }\r\n  }\r\n\r\n  obtenerClientes(){\r\n    this.api.GetClientes()\r\n      .subscribe((resp:any)=>{\r\n        this.CLIENTES = resp.clientes\r\n      })\r\n  }\r\n\r\n  public OrdenSelected\r\n  OrdenDeCompraSeleccionada(e){\r\n    this.cs = true;\r\n    this.OrdenSelected = this.ordenesFiltered[e];\r\n    (<HTMLInputElement>document.getElementById('cliente')).value = this.ordenesFiltered[e].cliente._id;\r\n    this.cliente_selected(this.ordenesFiltered[e].cliente._id)\r\n  }\r\n\r\n  public ordenesFiltered\r\n  cliente_selected(e){\r\n\r\n    this.ordenesFiltered = this.OrdenesDeCompra.filter(x=>x.cliente._id === e)\r\n    console.log(this.ordenesFiltered)\r\n    this.ps = false\r\n    this.oc_ = ''\r\n    this.fo_ = ''\r\n    if(e === '0'){\r\n      this.cs = false \r\n    }else{\r\n      this.CLIENTE = e\r\n      let index = this.CLIENTES.find(x => x._id === e)\r\n      this.ALMACEN = index.almacenes;\r\n    }\r\n\r\n    this.api.getById(e)\r\n      .subscribe((resp:any)=>{\r\n        this.PRODUCTOS = resp.productos;\r\n        // // console.log(this.PRODUCTOS)\r\n      })\r\n  }\r\n\r\n  Almacenado(){\r\n    this.api.getAlmacenado()\r\n      .subscribe((resp:any)=>{\r\n        this._CANTIDAD = resp;\r\n        this.totalizar_materiales();\r\n      })\r\n  }\r\n\r\n  cambios(){\r\n\r\n    this.Ejemplares_montados = this.PRODUCTO.ejemplares[this.i_montajes]\r\n    // this.paginas = Math.ceil(this.Cantidad_ejemplares / this.Ejemplares_montados)\r\n    this.Ejemplares(this.Ejemplares_montados)\r\n    // this.Cantidad(this.Cantidad_ejemplares)\r\n\r\n  }\r\n\r\n  public Cantidad_de_orden\r\n  public Fecha_solicitada\r\n  public ProductodeProductos\r\n  producto_selected(e){\r\n\r\n    let indexOF = this.OrdenSelected.productos.findIndex(x=> x.producto._id == e.target.value)\r\n    this.ProductodeProductos = indexOF\r\n    this.Cantidad_de_orden = this.OrdenSelected.productos[indexOF].cantidad\r\n    this.Fecha_solicitada = this.OrdenSelected.productos[indexOF].fecha\r\n    this.Fecha_S = this.Fecha_solicitada;\r\n    this.Cantidad_ejemplares = this.Cantidad_de_orden\r\n    if(e.target.value === '0'){\r\n      this.ps = false \r\n    }else{\r\n      this.ps = true;\r\n      this.oc_ = this.OrdenSelected.orden\r\n      this.fo_ = this.OrdenSelected.fecha_recepcion\r\n    }\r\n\r\n    this.api.getOneById(e.target.value)\r\n      .subscribe((resp:any)=>{\r\n        this.PRODUCTO = resp.producto;\r\n        // // console.log(this.PRODUCTO,'PRODUCTO')\r\n        this.montajes = this.PRODUCTO.montajes\r\n        this.Ejemplares_montados = this.PRODUCTO.ejemplares[this.i_montajes];\r\n        this.Ejemplares(this.Ejemplares_montados)\r\n        this.MAQUINAS = resp.maquinas;\r\n        //   this.modal_nueva_orden()\r\n        let x = this.PRODUCTO.materiales.length;\r\n        this.CANTIDAD = [];\r\n        for(let i=0; i<x; i++){\r\n          let respuesta = this._CANTIDAD.find(x => x.material.nombre == this.PRODUCTO[this.i_montajes].materiales[i].producto.nombre && x.material.marca == this.PRODUCTO.materiales[i].producto.marca && x.material.grupo.nombre)\r\n          \r\n          // // console.log(this.PRODUCTO)\r\n          if(!respuesta){\r\n            this.SinMaterial = true;\r\n            return\r\n          }else{\r\n            this.SinMaterial = false;\r\n          }\r\n          \r\n          this.CANTIDAD.push(respuesta)\r\n        }\r\n       })\r\n\r\n\r\n  }\r\n\r\n  orden_selected(e){\r\n    if(e.target.value === null){\r\n      this.os = false \r\n    }else{\r\n      this.os = true;\r\n      this.OC = e.target.value;\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  BuscarAlmacen(){\r\n    this.api.getAlmacen()\r\n      .subscribe((resp:any) => {\r\n        this.ALMACEN = resp.materiales;\r\n        this.totalizar_materiales();\r\n      })\r\n  }\r\n\r\n  Cantidad(e){\r\n    this.Cantidad_ejemplares = e.target.value\r\n    // // console.log(e.target.value)\r\n    this.paginas = Math.ceil(this.Cantidad_ejemplares / this.Ejemplares_montados)\r\n    let demasia = (<HTMLInputElement>document.getElementById('demasia_input')).value;\r\n    this.Demasia(demasia)\r\n    // this.paginas = this.paginas + this.demasia\r\n    // this.paginas = this.paginas\r\n  }\r\n\r\n  Ejemplares(e){\r\n    // alert(e)\r\n    this.Ejemplares_montados = e\r\n    this.paginas = Math.ceil(this.Cantidad_ejemplares / this.Ejemplares_montados) \r\n    this.paginas = this.paginas + this.demasia\r\n    this.Demasia(this.demasia_)\r\n    // // console.log(this.Cantidad_ejemplares, '/', this.Ejemplares_montados, '/ ', this.demasia ,'-', this.paginas)\r\n    // this.paginas = (this.paginas)\r\n  }\r\n  public demasia_ = 0;\r\n  Demasia(e){\r\n\r\n    this.paginas = Math.ceil(this.Cantidad_ejemplares / this.Ejemplares_montados)\r\n    this.demasia = Math.ceil(e * this.paginas / 100)\r\n    this.demasia_ = e\r\n    this.paginas = this.paginas + this.demasia\r\n\r\n    // // console.log(this.Cantidad_ejemplares, '/', this.Ejemplares_montados, '/ ', this.demasia ,'-', this.paginas)\r\n    // this.paginas = (this.paginas)\r\n\r\n  }\r\n\r\n  buscar_tintas(tinta, marca,sinMarca?,ancho?,largo?,calibre?){\r\n    let almacenado = [];\r\n    if(sinMarca){\r\n      almacenado = this._CANTIDAD.filter(x => x.material.nombre === tinta && x.cantidad > 0)\r\n    }else{\r\n      almacenado = this._CANTIDAD.filter(x => x.material.nombre === tinta && x.material.marca === marca && x.cantidad > 0)\r\n    }\r\n    if(ancho){\r\n      almacenado = this._CANTIDAD.filter(x => x.material.nombre === tinta && x.material.marca === marca && x.material.ancho === ancho && x.material.largo === largo && x.material.calibre === calibre && x.cantidad > 0)\r\n    }\r\n    if(almacenado.length < 1){\r\n      return 'No hay producto en inventario'\r\n    }else{\r\n      let cantidades = 0;\r\n      let neto = 0\r\n      for(let i = 0; i<almacenado.length; i++)\r\n      {\r\n\r\n          // cantidades = cantidades +  Number(almacenado[i].cantidad)\r\n          \r\n\r\n          cantidades =  cantidades + (Number(almacenado[i].material.neto) * Number(almacenado[i].cantidad))\r\n      }\r\n        return cantidades.toFixed(2)\r\n      }\r\n  }\r\n\r\n  restantes_(tinta, marca,i,caja?){\r\n    let almacenado = [];\r\n    if(caja === 'caja' || caja === 'barniz'){\r\n      almacenado = this._CANTIDAD.filter(x => x.material.nombre === tinta && x.cantidad > 0)\r\n    }else{\r\n      almacenado = this._CANTIDAD.filter(x => x.material.nombre === tinta && x.material.marca === marca && x.cantidad > 0)\r\n    }\r\n    if(almacenado.length < 1){\r\n      return 0\r\n    }else{\r\n      \r\n      let cantidades = 0;\r\n      for(let i = 0; i<almacenado.length; i++)\r\n        {\r\n\r\n          cantidades =  cantidades + (Number(almacenado[i].material.neto) * Number(almacenado[i].cantidad))\r\n        }\r\n\r\n        //  * this.paginas\r\n        let necesario\r\n        if(caja === 'caja'){\r\n          necesario = this.Cantidad_ejemplares / this.PRODUCTO.materiales[this.i_montajes][i].cantidad;\r\n        }else{\r\n          necesario = (this.PRODUCTO.materiales[this.i_montajes][i].cantidad * this.paginas)/1000;\r\n        }\r\n        let EnAlmacen = cantidades.toFixed(2);\r\n        return (Number(EnAlmacen) - necesario).toFixed(2);\r\n      }\r\n  }\r\n\r\n  totalizar_materiales(){\r\n    for(let i=0; i<this._CANTIDAD.length; i++){\r\n      let existe = this.TOTALES.find(x => x.material == this._CANTIDAD[i].material.nombre && x.marca == this._CANTIDAD[i].material.marca);\r\n      if(existe){\r\n          let x = this.TOTALES.findIndex(x => x.material == this._CANTIDAD[i].material.nombre && x.marca == this._CANTIDAD[i].material.marca)\r\n          \r\n          this.TOTALES[x].total = Number(this.TOTALES[x].total)\r\n          this._CANTIDAD[i].cantidad = Number(this._CANTIDAD[i].cantidad)\r\n          this._CANTIDAD[i].neto = Number(this._CANTIDAD[i].material.neto)\r\n\r\n          let def = (this._CANTIDAD[i].neto * this._CANTIDAD[i].cantidad) / this.TOTALES[x].neto\r\n\r\n          this.TOTALES[x].total = this.TOTALES[x].total + def;\r\n\r\n        }else{\r\n        this.TOTALES.push({\r\n                       material:this._CANTIDAD[i].material.nombre,\r\n                       marca:this._CANTIDAD[i].material.marca,\r\n                       grupo:this._CANTIDAD[i].material.grupo.nombre,\r\n                       presentacion:this._CANTIDAD[i].material.presentacion,\r\n                       neto:this._CANTIDAD[i].material.neto,\r\n                       unidad:this._CANTIDAD[i].material.unidad,\r\n                      ancho:this._CANTIDAD[i].material.ancho,\r\n                      largo:this._CANTIDAD[i].material.largo,\r\n                      total:this._CANTIDAD[i].cantidad\r\n                    })\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  Fecha_s(e){\r\n    this.Fecha_S = e;\r\n  }\r\n\r\n  TimesTime(){\r\n\r\n    let index = this.PRODUCTO.materiales[this.i_montajes].length\r\n    \r\n    for(let i=0; i<index; i++){\r\n      if(this.PRODUCTO.materiales[this.i_montajes][i].producto.grupo.nombre != \"Sustrato\")\r\n      {\r\n        let resto;\r\n        if(this.PRODUCTO.materiales[this.i_montajes][i].producto.grupo.nombre === \"Cajas Corrugadas\"){\r\n          resto = this.restantes_(this.PRODUCTO.materiales[this.i_montajes][i].producto.nombre, this.PRODUCTO.materiales[this.i_montajes][i].producto.marca,i,'caja')\r\n        }else if(this.PRODUCTO.materiales[this.i_montajes][i].producto.grupo.nombre === \"Barniz\"){\r\n          resto = this.restantes_(this.PRODUCTO.materiales[this.i_montajes][i].producto.nombre, this.PRODUCTO.materiales[this.i_montajes][i].producto.marca,i,'barniz')\r\n        }else{\r\n          resto = this.restantes_(this.PRODUCTO.materiales[this.i_montajes][i].producto.nombre, this.PRODUCTO.materiales[this.i_montajes][i].producto.marca,i)\r\n        }\r\n        resto = Number(resto)\r\n        if(resto < 0){\r\n          // // console.log(this.PRODUCTO.materiales[this.i_montajes][i].producto.nombre, '<>', resto)\r\n            Swal.fire({\r\n              icon:'error',\r\n              title:'Oops!',\r\n              text:'No posees los materiales necesarios para realizar este producto',\r\n              showConfirmButton:false,\r\n              // timer:2500\r\n            })\r\n            return\r\n        }\r\n      }else{\r\n        let SUSTRATO_EN_ALMACEN = this.buscar_tintas(this.PRODUCTO.materiales[this.i_montajes][i].producto.nombre,this.PRODUCTO.materiales[this.i_montajes][i].producto.marca,'NA',this.PRODUCTO.materiales[this.i_montajes][i].producto.ancho,this.PRODUCTO.materiales[this.i_montajes][i].producto.largo,this.PRODUCTO.materiales[this.i_montajes][i].producto.calibre)\r\n        let resta = Number(SUSTRATO_EN_ALMACEN) - this.paginas;\r\n        if(resta <0){\r\n          Swal.fire({\r\n            icon:'error',\r\n            title:'Oops!',\r\n            text:'No posees los materiales necesarios para realizar este producto',\r\n            showConfirmButton:false,\r\n            // timer:2500\r\n          })\r\n          return\r\n        }\r\n      }\r\n    }\r\n\r\n    // for(let i=0; i<this.restantes.length; i++){\r\n    //   if(this.restantes[i] < 0){\r\n    //     Swal.fire({\r\n    //       icon:'error',\r\n    //       title:'Oops!',\r\n    //       text:'No posees los materiales necesarios para realizar este producto',\r\n    //       showConfirmButton:false,\r\n    //       // timer:2500\r\n    //     })\r\n    //     return\r\n    //   }\r\n    // }\r\n\r\n    this.Fases = true;\r\n    this.modal_nueva_orden()\r\n  }\r\n\r\n  colocarFecha(e,fase,i){\r\n\r\n    // CPH = CANTIDAD POR HOJAS\r\n\r\n    this.api.getFechas(e.target.value)\r\n      .subscribe((resp:any)=>{\r\n        let cph = 0\r\n        let HorasAgregadas = 0\r\n        let fecha;\r\n\r\n        if(resp.trabajo.length > 0){\r\n          cph = resp.trabajo[0].maquina.cph\r\n\r\n            // HpC = this.paginas / diasAgregados;\r\n            // let hoymas3 = moment(resp.trabajo[0].fecha).add(HpC, 'hours').format('yyyy-MM-DD');\r\n\r\n            let hoy = moment().format('yyyy-MM-DD');\r\n\r\n            let fecha_ = resp.trabajo[0].fecha;\r\n\r\n            let after = moment(fecha_).isAfter(hoy, 'day');\r\n\r\n            // // console.log(fecha_,'/',hoy,'/',after)\r\n\r\n            if(!after){\r\n              fecha = hoy;\r\n            }else{\r\n              fecha = fecha_;\r\n            }\r\n\r\n\r\n\r\n        }else{\r\n          let hoy = moment().format('yyyy-MM-DD');\r\n          fecha = hoy;\r\n        }\r\n\r\n        (<HTMLInputElement>document.getElementById(fase)).value = fecha\r\n\r\n\r\n        if(cph > 0){\r\n          HorasAgregadas = this.paginas / cph;\r\n        }else{\r\n          let MaquinaSelected2 = this.MAQUINAS.find(x => x._id == e.target.value)\r\n\r\n          cph = MaquinaSelected2.cph;\r\n\r\n          HorasAgregadas = this.paginas / cph;\r\n        }\r\n\r\n        let dias = HorasAgregadas / 7;\r\n\r\n          let hoymas3 = moment(fecha).add(dias, 'days').format('yyyy-MM-DD');\r\n\r\n          (<HTMLInputElement>document.getElementById(`${fase}-C`)).value = hoymas3;\r\n\r\n      })\r\n  }\r\n\r\n  reprogramar(e, fase){\r\n\r\n          let maquina = (<HTMLInputElement>document.getElementById(`${fase}-maquina`)).value\r\n          let MaquinaSelected2 = this.MAQUINAS.find(x => x._id == maquina)\r\n\r\n          let cph = MaquinaSelected2.cph;\r\n\r\n          let HorasAgregadas = this.paginas / cph;\r\n\r\n          let dias = HorasAgregadas / 7;\r\n\r\n          let hoymas3 = moment(e.target.value).add(dias, 'days').format('yyyy-MM-DD');\r\n\r\n          (<HTMLInputElement>document.getElementById(`${fase}-C`)).value = hoymas3;\r\n  }\r\n\r\n  // test(){\r\n  //   // console.log()\r\n  // }\r\n\r\n  \r\n  finalizar(cantidad){\r\n\r\n    let data = {\r\n      usuario:`${this.usuario.Nombre} ${this.usuario.Apellido}`,\r\n      fecha_o:this.fo_,\r\n      montaje:this.i_montajes,\r\n      cliente:this.CLIENTE,\r\n      producto:this.PRODUCTO._id,\r\n      orden_compra:this.oc_,\r\n      cantidad:cantidad.value,\r\n      paginas:this.paginas,\r\n      demasia:this.demasia_,\r\n      fecha_s:this.Fecha_S,\r\n      almacen:this.ae_,\r\n      e_c:(<HTMLInputElement>document.getElementById(`e_c`)).checked,\r\n      i_ancho:(<HTMLInputElement>document.getElementById(`ancho_imprimir`)).value,\r\n      i_largo:(<HTMLInputElement>document.getElementById(`largo_imprimir`)).value,\r\n      observacion:this.observacion_,\r\n      ordencompra:this.OrdenSelected,\r\n      ProductodeProductos:this.ProductodeProductos\r\n    }\r\n\r\n    this.api.postOrden(data)\r\n      .subscribe((resp:any)=>{\r\n        let fases = this.PRODUCTO.grupo.tipos.length\r\n        for(let x=0; x<fases; x++){\r\n          \r\n          let fase = this.PRODUCTO.grupo.tipos[x]\r\n          // // console.log(this.PRODUCTO.grupo.tipos[x])\r\n          let maquina = (<HTMLInputElement>document.getElementById(`${fase}-maquina`)).value\r\n          let fechaI = (<HTMLInputElement>document.getElementById(`${fase}`)).value\r\n          let fecha = (<HTMLInputElement>document.getElementById(`${fase}-C`)).value\r\n\r\n          let Data = {\r\n            maquina,\r\n            fechaI, \r\n            fecha,\r\n            orden:resp,\r\n            pos:x\r\n          }\r\n\r\n          this.api.postOrden2(Data)\r\n            .subscribe((respuesta:any)=>{\r\n              // // console.log(respuesta)\r\n            })\r\n\r\n        }\r\n        this.router.navigate([`/orden-produccion/${resp}`]);\r\n      })\r\n  }\r\n\r\n}\r\n","<div class=\"ml-5 mt-5\">\r\n    <div class=\"subtitulos\">\r\n        Nueva Orden de Producción\r\n    </div>\r\n</div>\r\n<br>\r\n<nav class=\"breadcrumb ml-5\" aria-label=\"breadcrumbs\">\r\n    <ul>\r\n      <li><a href=\"#\">Home</a></li>\r\n      <li><a href=\"/orden\">Ordenes</a></li>\r\n      <li class=\"is-active\"><a>Orden de producción</a></li>\r\n    </ul>\r\n</nav>\r\n<div class=\"columns mt-5 ml-5\">\r\n    <div class=\"column is-3\">\r\n        <div class=\"card\">\r\n            <div class=\"card-content\">\r\n\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Cliente</label>\r\n                    <div class=\"control\">\r\n                        <div class=\"select\">\r\n                            <select id='cliente' (change)='cliente_selected($event.target.value)'>\r\n                                <option value='0'>Selecciona Cliente</option>\r\n                                <option *ngFor='let cliente of CLIENTES' value=\"{{cliente._id}}\">{{cliente.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Orden de compra</label>\r\n                    <div class=\"control\">\r\n                        <div class=\"select\">\r\n                            <select (change)=\"OrdenDeCompraSeleccionada($event.target.value)\">\r\n                                <option value=\"\">Selecciona orden de compra</option>\r\n                                <option value=\"{{i}}\" *ngFor=\"let orden of ordenesFiltered;index as i\">{{orden.orden}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div class=\"field\" *ngIf='cs'>\r\n                    <label class=\"label\">Producto</label>\r\n                    <div class=\"control\">\r\n                        <div class=\"select\">\r\n                            <select id='producto' (change)='producto_selected($event)'>\r\n                                <option value='0'>Selecciona Producto</option>\r\n                                <option *ngFor='let producto of OrdenSelected.productos' value='{{producto.producto._id}}'>{{producto.producto.producto}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"field\" *ngIf='ps'>\r\n                    <label class=\"label\">Orden de Compra</label>\r\n                    <div class=\"control\">\r\n                        <!-- <input type=\"text\" class=\"input\" (change)='orden_selected($event)' [(ngModel)]=\"userName\"> -->\r\n                        <input type=\"text\" class=\"input\" [(ngModel)]=\"oc_\" disabled>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"field\" *ngIf='oc_'>\r\n                <label class=\"label\">Fecha orden de compra:</label>\r\n                <div class=\"control\">\r\n                    <input type=\"date\" name=\"f_oc\" class=\"input\" max=\"{{hoy}}\" [(ngModel)]=\"fo_\" disabled>\r\n                </div>\r\n                </div>\r\n\r\n                <div class=\"field\" *ngIf='fo_'>\r\n                    <label class=\"label\">Almacen de entrega:</label>\r\n                    <div class=\"control\">\r\n                        <div class=\"select\">\r\n                            <select id='producto' [(ngModel)]=\"ae_\">\r\n                                <option value='0'>Selecciona Almacen</option>\r\n                                <option *ngFor='let almacen of ALMACEN' value='{{almacen}}'>{{almacen}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <button class=\"button is-primary\" (click)='modal_nueva_orden()' [disabled]=\"!ae_ || ae_ == 0\">\r\n                    <span class=\"icon\">\r\n                        <i class=\"fas fa-calendar-day\"></i>\r\n                    </span>\r\n                    <span>\r\n                        Realizar Programación\r\n                    </span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"column\" *ngIf='Fases'>\r\n        <div class=\"card planificacion\">\r\n            <div class=\"card-content\">\r\n                <div class=\"titulo\">Fases de la Producción</div>\r\n                <div class=\"card\" *ngFor='let fase of PRODUCTO.grupo.tipos;index as i'>\r\n                    <div class=\"card-content\">\r\n                            <div class=\"subtitulo_\">\r\n                                {{fase}}\r\n                            </div>\r\n                        <div class=\"columns\">\r\n                            <div class=\"column\"><div class=\"field\">\r\n                                <label class=\"label\">Maquina</label>\r\n                                <div class=\"control\">\r\n                                    <div class=\"select\">\r\n                                        <select (change)='colocarFecha($event, fase,i)' id='{{fase}}-maquina'>\r\n                                                <option value=\"\">Selecciona Maquina</option>\r\n                                            <ng-container *ngFor='let maquina of MAQUINAS'>\r\n                                                <option value=\"{{maquina._id}}\" *ngIf='maquina.tipo === fase'>{{maquina.nombre}}</option>\r\n                                            </ng-container>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div></div>\r\n                            <div class=\"column\">\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\">\r\n                                        Fecha de Inicio\r\n                                    </label>\r\n                                    <div class=\"control\">\r\n                                        <input type=\"date\" min=\"{{hoy}}\" class=\"input\" id='{{fase}}' (change)='reprogramar($event, fase)'>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\">\r\n                                        Culminación Estimada\r\n                                    </label>\r\n                                    <div class=\"control\">\r\n                                        <input type=\"date\" class=\"input\" id='{{fase}}-C'>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button class=\"button is-primary mt-5\" (click)='finalizar(cantidad)'>\r\n                    Generar Orden de Produccion\r\n                </button>\r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVA_ORDEN}\">\r\n    <div class=\"modal-background\" (click)='modal_nueva_orden()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Nueva Orden de Producción</div>\r\n            <hr>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cantidad</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" [value]='Cantidad_de_orden' (change)='Cantidad($event)' #cantidad>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Demasía (%)</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" value='0' id='demasia_input' (change)='Demasia($event.target.value)'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Fecha Solic.</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"date\" class=\"input\" [value]='Fecha_solicitada' [min]=\"hoy\" (change)='Fecha_s($event.target.value)'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Tamaño de sustrato a imprimir:</label>\r\n                <div class=\"control\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <div class=\"columns\">\r\n                                <ng-container *ngFor='let materiales of PRODUCTO.materiales[i_montajes]'>\r\n                                    <ng-container *ngIf='materiales.producto.grupo.nombre === \"Sustrato\"'>\r\n                                <div class=\"column\">\r\n                                    <label class=\"label\">ancho:</label>\r\n                                    <input type=\"number\" min=\"10\" class=\"input\" value=\"{{materiales.producto.ancho}}\" id=\"ancho_imprimir\">\r\n                                </div>\r\n                                <div class=\"column\">\r\n                                    <label class=\"label\">largo:</label>\r\n                                    <input type=\"number\"  min=\"10\" class=\"input\" value=\"{{materiales.producto.largo}}\" id=\"largo_imprimir\">\r\n                                </div>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"column\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <br>\r\n            <input type=\"checkbox\" name=\"Estandar\" id=\"e_c\"> Estándar de Colores\r\n            <hr>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Observación:</label>\r\n                <textarea class=\"textarea\" placeholder=\"Observación\" [(ngModel)]=\"observacion_\"></textarea>\r\n            </div>\r\n            <hr>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Montaje:</label>\r\n                <div class=\"select\">\r\n                    <select name=\"montaje\" [(ngModel)]=\"i_montajes\" (change)=\"cambios()\">\r\n                        <option value=\"{{i}}\" *ngFor=\"let e of [].constructor(montajes); let i = index\">\r\n                            Montaje {{NumToLet(i)}}\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <hr>\r\n            <b>Ejemplares montados: </b>{{Ejemplares_montados}} <br>\r\n            <b>Sustrato</b><br>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacén</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                        <ng-container *ngFor='let materiales of PRODUCTO.materiales[i_montajes]'>\r\n                            <tr *ngIf='materiales.producto.grupo.nombre === \"Sustrato\"'>\r\n                                <td>\r\n                                    {{materiales.producto.nombre}} {{materiales.producto.marca}} ({{materiales.producto.ancho}} x {{materiales.producto.largo}})\r\n                                </td>\r\n                                <td>\r\n                                    {{paginas}}\r\n                                </td>\r\n                                <td>\r\n                                    {{buscar_tintas(materiales.producto.nombre,materiales.producto.marca,'NA',materiales.producto.ancho,materiales.producto.largo,materiales.producto.calibre)}}\r\n                                </td>\r\n                                <td>\r\n                                    {{buscar_tintas(materiales.producto.nombre,materiales.producto.marca,'NA',materiales.producto.ancho,materiales.producto.largo,materiales.producto.calibre) - paginas}}\r\n                                </td>\r\n                            </tr>\r\n                        </ng-container>\r\n                        </tbody>\r\n                    </table>\r\n                    <hr>\r\n            <b>Materia Prima</b>\r\n            <div *ngIf=\"SinMaterial\">\r\n                <article class=\"message is-danger\">\r\n                    <div class=\"message-body\">\r\n                      Actualmente en su inventario no hay registrada la materia prima solicitada para realizar este producto, ingrese nueva materia e intentelo de nuevo\r\n                    </div>\r\n                  </article>\r\n            </div><br>\r\n            <b>Tintas</b>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacén</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor='let material of PRODUCTO.materiales[i_montajes];let i = index'>\r\n                        <tr *ngIf='material.producto.grupo.nombre === \"Tinta\"'>\r\n                            <td>{{material.producto.nombre}} ({{material.producto.marca}})</td>\r\n                            <td>{{((material.cantidad * paginas) / 1000).toFixed(2)}}</td>\r\n                            <td>{{buscar_tintas(material.producto.nombre,material.producto.marca)}}</td>\r\n                            <td>{{restantes_(material.producto.nombre,material.producto.marca,i)}}</td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n\r\n            <b>Barniz</b>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacén</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor='let material of PRODUCTO.materiales[i_montajes];let i = index'>\r\n                        <tr *ngIf='material.producto.grupo.nombre === \"Barniz\"'>\r\n                            <td>{{material.producto.nombre}}</td>\r\n                            <td>{{((material.cantidad * paginas)/ 1000).toFixed(2)}}</td>\r\n                            <td>{{buscar_tintas(material.producto.nombre,material.producto.marca,true)}}</td>\r\n                            <td>{{restantes_(material.producto.nombre,material.producto.marca,i,'barniz')}}</td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n\r\n            <b>Pega</b>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacén</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor='let material of PRODUCTO.materiales[i_montajes];let i = index'>\r\n                        <tr *ngIf='material.producto.grupo.nombre === \"Pega\"'>\r\n                            <td>{{material.producto.nombre}} ({{material.producto.marca}})</td>\r\n                            <td>{{((material.cantidad * Cantidad_ejemplares) / 1000).toFixed(2)}}</td>\r\n                            <td>{{buscar_tintas(material.producto.nombre,material.producto.marca)}}</td>\r\n                            <!-- <td>{{restantes_(material.producto.nombre,material.producto.marca,i)}}</td> -->\r\n                            <td>{{(buscar_tintas(material.producto.nombre,material.producto.marca)-((material.cantidad * Cantidad_ejemplares) / 1000).toFixed(2))}}</td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n\r\n            <b>Cajas Corrugadas</b>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacén</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor='let material of PRODUCTO.materiales[i_montajes];let i = index'>\r\n                        <tr *ngIf='material.producto.grupo.nombre === \"Cajas Corrugadas\"'>\r\n                            <td>{{material.producto.nombre}}</td>\r\n                            <td>{{(Cantidad_ejemplares / material.cantidad).toFixed(2)}}</td>\r\n                            <td>{{buscar_tintas(material.producto.nombre,material.producto.marca,true)}}</td>\r\n                            <td>{{restantes_(material.producto.nombre,material.producto.marca,i,'caja')}}</td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table> \r\n            <button class=\"button is-primary\" (click)='TimesTime()' *ngIf=\"!SinMaterial\">\r\n                <span class=\"icon\">\r\n                    <i class=\"far fa-clock\"></i>\r\n                </span>\r\n                <span>\r\n                    Gestionar tiempo\r\n                </span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'Poligrafica';\r\n}\r\n","<router-outlet></router-outlet>","import { Component, OnInit } from '@angular/core';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\nimport * as moment from 'moment'\r\n\r\n\r\n@Component({\r\n  selector: 'app-planificacion',\r\n  templateUrl: './planificacion.component.html',\r\n  styleUrls: ['./planificacion.component.css']\r\n})\r\nexport class PlanificacionComponent implements OnInit {\r\n\r\n  public MAQUINAS;\r\n  public FUNCIONES = [];\r\n  public TRABAJOS = [];\r\n  public cargado:boolean = false\r\n\r\n  constructor(private api:RestApiService) { }\r\n\r\n  ngOnInit(): void {\r\n    \r\n    this.ObtenerMaquinas()\r\n    this.obtenerTrabajos()\r\n    this.ObtenerDespachos()\r\n    let mes = moment().format('M')\r\n    let ano = moment().format('yyyy')\r\n    this.getDaysFromDate(mes,ano)\r\n    this.obtenerOrdenes()\r\n  }\r\n\r\n  // ***********************************************************\r\n  getDaysFromDate(month, year) {\r\n    \r\n    moment.locale('es')\r\n    \r\n    moment.updateLocale('es', {\r\n      months : [\r\n          \"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\",\r\n          \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"\r\n      ]\r\n  });\r\n\r\n    \r\n    const startDate = moment(`${year}/${month}/01`)\r\n    const endDate = startDate.clone().endOf('month')\r\n    this.dateSelect = startDate;\r\n\r\n    const diffDays = endDate.diff(startDate, 'days', true)\r\n    const numberDays = Math.round(diffDays);\r\n\r\n    const arrayDays = Object.keys([...Array(numberDays)]).map((a: any) => {\r\n      a = parseInt(a) + 1;\r\n      const dayObject = moment(`${year}-${month}-${a}`);\r\n      return {\r\n        name: dayObject.format(\"dddd\"),\r\n        value: a,\r\n        indexWeek: dayObject.isoWeekday()\r\n      };\r\n    });\r\n\r\n    this.monthSelect = arrayDays;\r\n  }\r\n\r\n  changeMonth(flag) {\r\n    if (flag < 0) {\r\n      const prevDate = this.dateSelect.clone().subtract(1, \"month\");\r\n      this.getDaysFromDate(prevDate.format(\"MM\"), prevDate.format(\"YYYY\"));\r\n    } else {\r\n      const nextDate = this.dateSelect.clone().add(1, \"month\");\r\n      this.getDaysFromDate(nextDate.format(\"MM\"), nextDate.format(\"YYYY\"));\r\n    }\r\n  }\r\n\r\n  clickDay(day) {\r\n    const monthYear = this.dateSelect.format('YYYY-MM')\r\n    const parse = `${monthYear}-${day.value}`\r\n    const objectDate = moment(parse)\r\n    this.dateValue = objectDate;\r\n\r\n\r\n  }\r\n  // ***********************************************************\r\n\r\n  week:any = [\r\n    \"Lunes\",\r\n    \"Martes\",\r\n    \"Miercoles\",\r\n    \"Jueves\",\r\n    \"Viernes\",\r\n    \"Sabado\",\r\n    \"Domingo\"\r\n  ]\r\n\r\n  monthSelect: any[];\r\n  dateSelect: any;\r\n  dateValue: any;\r\n\r\n  ObtenerMaquinas(){\r\n    this.api.GetMaquinas()\r\n      .subscribe(maquinas => {\r\n        this.MAQUINAS = maquinas;\r\n        this.obtenerTipos();\r\n        this.cargado = true\r\n      });\r\n  }\r\n\r\n  public Despachos = []\r\n  ObtenerDespachos(){\r\n    this.api.GetDespacho()\r\n      .subscribe((resp:any)=>{\r\n        this.Despachos = resp\r\n      })\r\n  }\r\n\r\n  obtenerTipos(){\r\n    let x = this.MAQUINAS.length;\r\n    for(let i = 0; i< x; i++){\r\n      let inde = this.FUNCIONES.includes(this.MAQUINAS[i].tipo)\r\n      if(!inde){\r\n        this.FUNCIONES.push(this.MAQUINAS[i].tipo)\r\n      }\r\n      if(i === x -1){\r\n        this.FUNCIONES.push('DESPACHO')\r\n      }\r\n    }\r\n  }\r\n\r\n  obtenerOrdenes(){\r\n    this.api.getOrden()\r\n      .subscribe((resp:any)=>{\r\n        console.log(resp)\r\n      })\r\n  }\r\n\r\n  Cant_hojas(x,y){\r\n    return Math.ceil(x/y)\r\n  }\r\n  \r\n  getFechas(fecha:any, funcion:any){\r\n\r\n    // 2021-08-\r\n    \r\n    let mes = moment(this.dateSelect).format('MM')\r\n    let ano = moment(this.dateSelect).format('yyyy')\r\n\r\n    if(fecha<10){\r\n      fecha = `0${fecha}`\r\n    }\r\n\r\n    let fecha_ = `${ano}-${mes}-${fecha}`\r\n\r\n    let betas = [];\r\n\r\n    let nuevo = this.TRABAJOS.filter(x => x.maquina.tipo === funcion);\r\n\r\n    let despach = []\r\n    if(funcion === 'DESPACHO'){\r\n      let funcion_:any = this.Despachos.filter(x => x.fecha === `${fecha}-${mes}-${ano}`)\r\n      if(funcion_.length>0){\r\n        // console.log(funcion_)\r\n        for(let i=0;i<funcion_.length;i++){\r\n          for(let x=0;x<funcion_[i].despacho.length;x++){\r\n            despach.push(funcion_[i].despacho[x])\r\n            if(i === funcion_[i].despacho.length-1){\r\n              return despach\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if(nuevo){\r\n      let final = [];\r\n      let Long = nuevo.length;\r\n      for(let i=0; i<Long; i++){\r\n\r\n        if(fecha_ >= nuevo[i].fechaI){\r\n          if(fecha_ <= nuevo[i].fecha){\r\n            final.push(nuevo[i])\r\n          }\r\n        }\r\n\r\n      }\r\n      return final;\r\n      \r\n    }\r\n    // // console.log(nuevo)\r\n  }\r\n    // // console.log(this.TRABAJOS.length )\r\n\r\n    // fecha = '2021-08-20'\r\n    // funcion = \"IMPRESION\"\r\n\r\n    \r\n    // let nuevo = this.TRABAJOS.find(x => x.maquina.tipo === funcion);\r\n\r\n    // if(nuevo){\r\n    //   let fecha_final = moment(nuevo.fecha).format('yyyy-MM-DD')\r\n    //   let fecha_Inicial = moment(nuevo.fechaI).format('yyyy-MM-DD')\r\n    //   let fecha_actual = moment(fecha).format('yyyy-MM-DD')\r\n\r\n    //   // console.log(nuevo)\r\n\r\n      // let MI:boolean = fecha_actual >= fecha_Inicial;\r\n      // if(MI){\r\n      //   let MF:boolean = fecha_actual <= fecha_final;\r\n      //   // console.log(MF)\r\n      // }\r\n\r\n\r\n    // if(nuevo){\r\n    //   let fecha_final = moment(nuevo.fecha).format('yyyy-MM-DD')\r\n    //   let fecha_Inicial = moment(nuevo.fechaI).format('yyyy-MM-DD')\r\n    //   let fecha_actual = moment(fecha).format('yyyy-MM-DD')\r\n      \r\n    //   let MI:boolean = fecha_actual >= fecha_Inicial;\r\n\r\n    //   if(MI){\r\n    //     let MF:boolean = fecha_actual <= fecha_final;\r\n    //     if(MF){\r\n    //       // console.log(nuevo,'_',funcion)\r\n    //       return `${nuevo._id.slice(3,6)}`\r\n    //     }\r\n    //   }\r\n\r\n    // }\r\n\r\n    \r\n    \r\n    // if(nuevo){\r\n    //   let fecha_final = moment(nuevo.fecha).format('yyyy-MM-DD')\r\n    //   let fecha_Inicial = moment(nuevo.fechaI).format('yyyy-MM-DD')\r\n    //   let fecha_actual = moment(fecha).format('yyyy-MM-DD')\r\n      \r\n    //   let MI:boolean = fecha_actual >= fecha_Inicial;\r\n      \r\n    //   if(MI){\r\n    //     let MF:boolean = fecha_actual <= fecha_final;\r\n    //     if(MF){\r\n    //       // console.log('aqui',nuevo)\r\n    //        return `${nuevo._id.slice(3,6)}`\r\n    //     }\r\n    //   }\r\n    // }\r\n\r\n\r\n\r\n      // if(nuevo.fecha < fecha)\r\n\r\n    // if(nuevo){\r\n    //   let nuevo2 = nuevo.find(x => x.fecha <= fecha)\r\n    //   // console.log(nuevo2)\r\n    // }\r\n\r\n\r\n    // return nuevo\r\n\r\n  obtenerTrabajos(){\r\n    this.api.getTrabajos()\r\n      .subscribe((resp:any)=>{\r\n        this.cargado = false;\r\n        this.TRABAJOS = resp;\r\n        // console.log(this.TRABAJOS)\r\n        this.cargado = true;\r\n      })\r\n  }\r\n\r\n}","<app-navbar></app-navbar>\r\n<div class='mt-5'>\r\n    <div class=\"header-calendar\">\r\n        <div>\r\n            <button class=\"button is-primary\" (click)='changeMonth(-1)'>Anterior</button>\r\n        </div>\r\n        <h1>{{dateSelect | date: 'MMMM, yyyy'}}</h1>\r\n        <div>\r\n            <button class=\"button is-primary\" (click)='changeMonth(1)'>Siguiente</button>\r\n        </div>\r\n    </div>\r\n    <ol>\r\n        <li *ngFor='let day of week' class=\"day-name\">{{day | slice:0:3}}</li>\r\n        <li [style.gridColumnStart]=\"first ? day?.indexWeek : 'auto'\"\r\n        *ngFor=\"let day of monthSelect;let first = first\">\r\n        <span>{{day?.value}}</span>\r\n        <div *ngFor='let funcion of FUNCIONES'>\r\n            <div class='plan'>\r\n                <b class=\"titulo\">{{funcion}}</b>\r\n                <!-- * -->\r\n                <ng-container *ngFor=\"let id of getFechas(day?.value, funcion);index as i\">\r\n                    <ng-container *ngIf=\"id.orden\">\r\n\r\n                        <div style=\"--i:{{id.orden.sort.charAt(id.orden.sort.length - 1)}}\" class=\"op-{{id.orden.sort.charAt(id.orden.sort.length - 1)}} color\">\r\n                            <span class=\"tooltip\">\r\n                                <b>Producto: </b>{{id.orden.producto.producto}} <br>\r\n                                <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                <b>Cantidad de productos: </b>{{id.orden.cantidad}} <br>\r\n                                <b>Cantidad de hojas: </b>{{Cant_hojas(id.orden.cantidad, id.orden.producto.ejemplares[id.orden.montaje])}} <br>\r\n                                <b>Maquina: </b>{{id.maquina.nombre}}\r\n                            </span>\r\n                            {{id.orden.sort}}\r\n                            <br> \r\n                        </div>\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"!id.orden\">\r\n                        <div class=\"op-{{id.op.charAt(id.op.length - 1)}} color\">\r\n                            <span class=\"tooltip\">\r\n                                <b>Producto: </b>{{id.producto}} <br>\r\n                                <b>Numero de Orden: </b>{{id.op}} <br>\r\n                                <b>Cantidad a despachar: </b>{{id.cantidad}} <br>\r\n                            </span>\r\n                            {{id.op}}\r\n                        </div>\r\n                    </ng-container>\r\n                </ng-container>\r\n                <!-- * -->\r\n            </div>\r\n        </div>\r\n    </li>\r\n    </ol>\r\n</div>\r\n\r\n\r\n\r\n<!-- <div class=\"container\">\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>01/08</th>\r\n                        <th>02/08</th>\r\n                        <th>03/08</th>\r\n                        <th>04/08</th>\r\n                        <th>05/08</th>\r\n                        <th>06/08</th>\r\n                        <th>07/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-01', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-02', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-03', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-04', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-05', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-06', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-07', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>08/08</th>\r\n                        <th>09/08</th>\r\n                        <th>10/08</th>\r\n                        <th>11/08</th>\r\n                        <th>12/08</th>\r\n                        <th>13/08</th>\r\n                        <th>14/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-08', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-09', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-10', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-11', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-12', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-13', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-14', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>15/08</th>\r\n                        <th>16/08</th>\r\n                        <th>17/08</th>\r\n                        <th>18/08</th>\r\n                        <th>19/08</th>\r\n                        <th>20/08</th>\r\n                        <th>21/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-15', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-16', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-17', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-18', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-19', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-20', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-21', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>22/08</th>\r\n                        <th>23/08</th>\r\n                        <th>24/08</th>\r\n                        <th>25/08</th>\r\n                        <th>26/08</th>\r\n                        <th>27/08</th>\r\n                        <th>28/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-22', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-23', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-24', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-25', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-26', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-27', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-28', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>29/08</th>\r\n                        <th>30/08</th>\r\n                        <th>31/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-29', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-30', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-31', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div> -->\r\n\r\n<!-- <div class=\"card\" *ngIf='cargado'>\r\n    <div class=\"card-content\">\r\n        <table class=\"table is-fullwidth is-bordered\">\r\n            <thead>\r\n                <tr>\r\n                    <th></th>\r\n                    <th>15/08</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td>IMPRESION</td>\r\n                    <td>\r\n                        <ng-container *ngFor=\"let id of getFechas('2021-08-19', 'IMPRESION')\">\r\n                            {{id._id.slice(3,6)}} <br>\r\n                        </ng-container>\r\n                        <br>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>  -->","import { Component, OnInit } from '@angular/core';\nimport { zIndex } from 'html2canvas/dist/types/css/property-descriptors/z-index';\nimport * as moment from 'moment';\nimport { RestApiService } from 'src/app/services/rest-api.service';\n\n\n\n\n@Component({\n  selector: 'app-etiqueta',\n  templateUrl: './etiqueta.component.html',\n  styleUrls: ['./etiqueta.component.css']\n})\nexport class EtiquetaComponent implements OnInit {\n\n  constructor(private api:RestApiService) { }\n\n  public ordenes = []\n  public valido:boolean = false;\n  public orden;\n\n  ngOnInit(): void {\n\n    \n\n    this.api.getOrden()\n      .subscribe((resp:any)=>{\n        this.ordenes = resp.reverse()\n      })\n\n    this.api.getDespachados()\n      .subscribe((resp:any)=>{\n        this.Despachados = resp\n      })\n\n  }\n\n  Despachado(n){\n    return this.Despachados.indexOf(n)\n  }\n\n  public __orden;\n  public __Cajas\n  public __gestiones;\n  public __producto_por_caja\n  public loaded = false;\n  public fecha\n  public hoy\n  public sustrato\n  public Despachados\n  public cargando:boolean = false;\n  public __orden__\n  seleccionar_orden(e){\n    console.log(e,'<- e')\n    this.__orden__ = e;\n    let id = this.ordenes.find(x=> x.sort === e)\n    // console.log(id)\n    e = id._id\n\n    if(e != '#'){\n      this.visto = false\n      this.loaded = false;\n      this.api.getOrdenById2(e)\n      .subscribe((resp:any)=>{\n        this.__Cajas = null\n          this.__orden = resp.ordenes\n          this.__gestiones = resp.gestiones\n          this.fecha = resp.trabajos;\n          this.hoy = moment.utc().format('DD/MM/yyyy');\n          console.log(this.__orden)\n          this.orden = e;\n          console.log(this.orden, '<-- this.orden')\n          // this.__orden = this.ordenes.find(x=> x._id === e)\n          for(let i=0;i<this.__orden.producto.materiales[this.__orden.montaje].length;i++){\n            \n            let material = this.__orden.producto.materiales[this.__orden.montaje][i]\n            if(material.producto.presentacion === 'Caja'){\n              this.__producto_por_caja = material.cantidad\n              this. __Cajas = Math.ceil(this.__orden.cantidad_o / material.cantidad);\n              \n            }\n            if(this.__orden.producto.materiales[this.__orden.montaje][i].producto.ancho){\n              this.sustrato = `${this.__orden.producto.materiales[this.__orden.montaje][i].producto.nombre}, Cal ${this.__orden.producto.materiales[this.__orden.montaje][i].producto.calibre}, Gramaje ${this.__orden.producto.materiales[this.__orden.montaje][i].producto.gramaje}`\n            }\n            \n            if(i === this.__orden.producto.materiales[this.__orden.montaje].length -1){\n              this.loaded = true\n              this.valido = true;\n            }\n          }\n        })\n      \n      \n    }else{\n      this.valido = false\n    }\n  }\n  \n  EtiquetasAImprimir(x,y){\n    let z = x/y\n\n   if( Number.isInteger(x / y)){\n     return z\n   }else{\n    return z\n   }\n    \n  }\n\n  formatear(x,y){\n    let z = x/y;\n    return Math.trunc(z)\n  }\n\n  public visto = false;\n  public cantidad__;\n  public unidades__;\n  public gestion\n  public resto\n  verEtiqueta(x,y,z, gestion,resto){\n\n    this.visto = true\n    \n    let c = x/y\n    \n    c = Math.trunc(c)\n    this.cantidad__ = c\n    this.unidades__ = z\n    this.gestion = gestion\n    this.resto = resto\n\n\n    // const WindowPrt = window.open(`http://localhost:4200/etiqueta/${this.orden}/${c}/${z}/${gestion}`, '', 'left=300,top=300,width=400,height=300,toolbar=0,scrollbars=0,status=0');\n    // // window.open(\"http://localhost:4200/pruebas\")\n  }\n\n  generarpdf()\n  {\n    this.cargando = true;\n    let data = {\n      orden:this.__orden,\n      fecha:this.fecha,\n      hoy:this.hoy,\n      value:`${this.__orden.producto.producto}\\nOP: ${this.__orden.sort}\\nOC: ${this.__orden.orden}\\n${this.unidades__} Und.`,\n      sustrado:this.sustrato,\n      cantidad:this.puntoYcoma(this.unidades__),\n      copias:this.cantidad__,\n      gestion:this.gestion,\n      resto:this.resto\n    }\n    this.api.ImprimirPDF(data)\n      .subscribe((resp:any)=>{\n        console.log(resp)\n        console.log('---> ',this.orden)\n        this.seleccionar_orden(this.__orden__)\n        this.visto = false\n        this.api.copyTags(this.__orden.sort, this.unidades__)\n          .subscribe((resp:any)=>{\n           this.cargando = false;\n            console.log('done')\n          })\n      })\n    \n  }\n\n  puntoYcoma(n){\n    return n = new Intl.NumberFormat('de-DE').format(n)\n   }\n\n}\n","<div class=\"container\">\n    <div class=\"titulo\">\n        Etiquetas\n    </div> <br>\n\n    <div class=\"columns\">\n        <div class=\"column\">\n            <div class=\"card\">\n                <div class=\"card-content\">\n                    <!-- <div class=\"select\">\n                        <select name=\"\" id=\"\" (change)=\"seleccionar_orden($event.target.value)\">\n                            <option value=\"#\">Selecciona una orden</option>\n                            <ng-container *ngFor=\"let orden of ordenes\">\n                                <ng-container *ngIf=\"Despachado(orden.sort) < 0\">\n                                    <option value=\"{{orden._id}}\" >{{orden.sort}}</option>\n                                </ng-container>\n                            </ng-container>\n                        </select>\n                    </div> -->\n                    <label class=\"label\">Ingrese Orden de producción:</label>\n                    <div class=\"columns\">\n                        <div class=\"column width__\">\n                            <div class=\"field\">\n                                <div class=\"control\">\n                                    <input type=\"text\" class=\"input width__\" placeholder=\"Orden de producción N°\" (change)=\"seleccionar_orden($event.target.value)\" >\n                                     <button class=\"button is-success\">\n                                        <span class=\"icon\">\n                                            <i class=\"fas fa-search\"></i>\n                                        </span>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <br> <br>\n                    <div *ngIf=\"valido\">\n                        <b>Producto:</b> {{__orden.producto.producto}} <br>\n                        <b>Cliente:</b> {{__orden.cliente.nombre}} <br>\n                        <b>Cantidad estimada de cajas:</b> {{__Cajas}} <br>\n                        <b>Cantidad de etiquetas a imprimir:</b> {{__Cajas}}\n                    </div>\n                </div>\n            </div>\n            <br>\n            <!-- **************************\n                THIS\n            ************************** -->\n            <div class=\"card\" *ngIf=\"visto\"> \n                <div class=\"card-content\">\n                    <div class=\"container_\" id=\"componentID\" *ngIf=\"visto\">\n                        <div class=\"header\">\n                            <table class=\"datos\">\n                                <tr>\n                                    <td class=\"dato__ Logo-etiquetas\" >\n                                        <img src=\"../../assets/Logo-etiquetas.png\" alt=\"\" class=\"dato__\">\n                                    </td>\n                                    <td class=\"dato__ qrcode\">\n                                        <!-- <ngx-qrcode \n                                          [elementType]=\"elementType\" \n                                          [value]=\"value\"\n                                          [scale]=\"scale\"\n                                          [margin]=\"margin\"\n                                          cssClass=\"qrcode\"\n                                          errorCorrectionLevel=\"L\">\n                                        </ngx-qrcode> -->\n                                    </td>\n                                    <td class=\"dato__ Orden__\">\n                                        <span class=\"orden_pro\">\n                                            ORDEN DE PRODUCCIÓN <br>\n                                        </span>\n                                        <span class=\"op\">\n                                            {{__orden.sort}}\n                                        </span>\n                                    </td>\n                                </tr>\n                            </table>\n                            <table>\n                                <tr>\n                                    <td class=\"item__\">\n                                        <span class=\"subtitulo__\">  PRODUCTO:</span><br>\n                                        <span class=\"titulo__\">  {{__orden.producto.producto}}</span>\n                                    </td>\n                                </tr>\n                            </table>\n                            <table>\n                                <tr>\n                                    <td class=\"item__ short\">\n                                        <span class=\"subtitulo__\">  CLIENTE:</span><br>\n                                        <span class=\"titulo__\">  {{__orden.cliente.nombre}}</span>\n                                    </td>\n                                    <td class=\"shorter\">\n                                        <span class=\"subtitulo__\">  ORDEN DE COMPRA:</span><br>\n                                        <span class=\"titulo__\">  {{__orden.orden}}</span>\n                                    </td>\n                                </tr>\n                            </table>\n                            <table>\n                                <tr>\n                                    <td class=\"item__ short\">\n                                        <span class=\"subtitulo__\">  SUSTRATO:</span><br>\n                                        <span class=\"titulo__\">  {{sustrato}}</span>\n                                    </td>\n                                    <td class=\"shorter\">\n                                        <span class=\"subtitulo__\">  CÓD. DEL PRODUCTO:</span><br>\n                                        <span class=\"titulo__\">  {{__orden.producto.cod_cliente}}</span>\n                                    </td>\n                                </tr>\n                            </table>\n                            <table>\n                                <tr>\n                                    <td class=\"shortest\">\n                                        <span class=\"subtitulo__\">CÓD. ESPECIFICACIÓN:</span><br>\n                                        <span class=\"titulo__ _ml\">E-{{__orden.cliente.codigo}}-{{__orden.producto.codigo}}-{{__orden.producto.version}}-{{__orden.producto.edicion}}</span>\n                                    </td>\n                                    <td class=\"shortest ml ml__\">\n                                        <span class=\"subtitulo__\">  FECHA DE FAB:</span><br>\n                                        <span class=\"titulo__ _ml\">  {{fecha}}</span>\n                                    </td>\n                                    <td class=\"shortest ml\">\n                                        <span class=\"subtitulo__\">  FECHA DE ETIQ.:</span><br>\n                                        <span class=\"titulo__ _ml\">  {{hoy}}</span>\n                                    </td>\n                                    <td class=\"unidades__\">\n                                        <span class=\"unidades\">  {{unidades__}}</span><br>\n                                        <span class=\"letter\">  unidades</span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                </tr>\n                            </table>\n                            <span class=\"FPR\">\n                                FPR-018\n                            </span>\n                            <table>\n                                <tr>\n                                    <td class=\"mensaje\">\n                                        <span class=\"linea1\">\n                                            Se recomienda el uso de este producto dentro de un lapso no mayor<br>\n                                        </span>\n                                        <span class=\"linea2\">\n                                            a 6 meses. Para más información lea detenidamente nuestra<br>\n                                        </span>\n                                        <span class=\"linea2\">\n                                            “Politica de devoluciones o Reclamos (DDE-005)”\n                                        </span>\n                                    </td>\n                                </tr>\n                            </table>\n                        </div>\n                    </div>\n                    <br><br>\n                    <button class=\"button is-success\" id='imprimir__' (click)=\"generarpdf()\" *ngIf=\"visto\"\n                    [ngClass]=\"{'is-loading':cargando}\">\n                        <span class=\"icon\">\n                            <i class=\"fas fa-print\"></i>\n                        </span>\n                    </button>\n                </div>\n            </div>\n            \n            <!-- <button class=\"button is-success\" id='imprimir__' (click)=\"onPrint()\">\n                <span class=\"icon\">\n                    <i class=\"fas fa-print\"></i>\n                </span>\n                <span>Imprimir</span>\n              </button> -->\n            \n            \n            \n            <!-- **************************\n            END\n            ************************* -->\n\n\n            <!-- <button class=\"button is-info\" *ngIf=\"valido\" (click)=\"verEtiqueta()\">Pre visualizar</button> -->\n        </div>\n        <div class=\"column\" *ngIf=\"loaded\">\n            <div class=\"card\" *ngFor=\"let gestion of __gestiones\">\n                <div class=\"card-content\">\n                    <table class=\"table is-fullwidth\">\n                        <tr>\n                            <th class=\"is-selected\">\n                                {{gestion.fecha}}\n                            </th>\n                        </tr>\n                        <tr>\n                            <td>\n                                <table class=\"table is-fullwidth\">\n                                    <tr>\n                                        <th>Cantidad gestionada</th>\n                                        <th>Total Etiquetas a imprimir</th>\n                                        <th>Previsualizar</th>\n                                    </tr>\n                                    <tr>\n                                        <td>{{gestion.productos}}</td>\n                                        <td>{{formatear(gestion.productos,__producto_por_caja)}} Etiquetas de {{__producto_por_caja}} Unidades\n                                        </td>\n                                        <td>\n                                            <ng-container *ngIf=\"!gestion.Impreso\">\n                                                <button class=\"button is-success\" (click)=\"verEtiqueta(gestion.productos,__producto_por_caja,__producto_por_caja,gestion._id,false)\">\n                                                    <span class=\"icon is-small\">\n                                                      <i class=\"fas fa-eye\"></i>\n                                                    </span>\n                                                    <span>Ver</span>\n                                                  </button>\n                                            </ng-container>\n                                            <ng-container *ngIf=\"gestion.Impreso\">\n                                                Impreso: {{gestion.Impreso | date:'dd/MM/yyyy'}}\n                                            </ng-container>\n                                    </td>\n                                    </tr>\n                                    <tr *ngIf=\"gestion.productos % __producto_por_caja > 0\">\n                                        <td></td>\n                                        <td>1 por {{gestion.productos % __producto_por_caja}} Unidades</td>\n                                        <td>\n                                            <ng-container *ngIf=\"!gestion.Resto\">\n                                                <button class=\"button is-success\" (click)=\"verEtiqueta(10,10,(gestion.productos % __producto_por_caja),gestion._id,true)\">\n                                                    <span class=\"icon is-small\">\n                                                      <i class=\"fas fa-eye\"></i>\n                                                    </span>\n                                                    <span>Ver</span>\n                                                  </button>\n                                            </ng-container>\n        \n                                              <ng-container *ngIf=\"gestion.Resto\">\n                                                Impreso: {{gestion.Resto  | date:'dd/MM/yyyy'}}\n                                            </ng-container>\n        \n                                        </td>\n                                    </tr>\n                                </table>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-index',\n  templateUrl: './index.component.html',\n  styleUrls: ['./index.component.css']\n})\nexport class IndexComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<section class=\"hero is-small is-primary\">\n    <!-- <img src=\"../assets/BANNER-SIO-1092x270-v03.jpg\"> -->\n</section>\n\n<div class=\"container\">\n    <div class=\"columns menu\">\n        <div class=\"column\">\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        </div>\n        <div class=\"column\">\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        </div>\n        <div class=\"column\">\n            <img src=\"../../../assets/BANNER-ORDENES-COMPRA.png\" alt=\"\" routerLink=\"/orden/orden-compra\">\n        </div>\n        <div class=\"column\">\n            <img src=\"../../../assets/BANNER-ORDENES-PRODUCCION.png\" alt=\"\" routerLink=\"/orden/orden-produccion\">\n        </div>\n        <div class=\"column\">\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        </div>\n        <div class=\"column\">\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { NgModule } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-nuevo-pedido',\r\n  templateUrl: './nuevo-pedido.component.html',\r\n  styleUrls: ['./nuevo-pedido.component.css']\r\n})\r\nexport class NuevoPedidoComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-navbar></app-navbar>\n<router-outlet></router-outlet>","import { BrowserModule } from '@angular/platform-browser';\r\nimport { LOCALE_ID, NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { IndexComponent } from './index/index.component';\r\nimport { MainComponent } from './index/main/main.component';\r\nimport { SharedModule } from './shared/shared.module';\r\nimport { IndexModule } from './index/index.module';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { NuevoPedidoComponent } from './nuevo-pedido/nuevo-pedido.component';\r\nimport { NuevoPedidoModule } from './nuevo-pedido/nuevo-pedido.module';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ProductoYMaquinariaComponent } from './producto-ymaquinaria/producto-ymaquinaria.component';\r\nimport { ProductoYMaquinariaModule } from './producto-ymaquinaria/producto-ymaquinaria.module';\r\nimport { AlmacenComponent } from './almacen/almacen.component';\r\nimport { AlmacenModule } from './almacen/almacen.module';\r\nimport { OrdenComponent } from './orden/orden.component';\r\nimport { OrdenesModule } from './ordenes/ordenes.module';\r\nimport { OrdenesComponent } from './ordenes/ordenes.component';\r\nimport { PlanificacionComponent } from './planificacion/planificacion.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { EstadisticasModule } from './estadisticas/estadisticas.module';\r\n\r\nimport localeES from '@angular/common/locales/es';\r\nimport { registerLocaleData } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { UnicosPipe } from './pipe/unicos.pipe';\r\nimport { BarChartComponent } from './bar-chart/bar-chart.component';\r\nimport { CotizacionModule } from './cotizacion/cotizacion.module';\r\nimport { TokenValidationComponent } from './token-validation/token-validation.component';\r\nregisterLocaleData(localeES, 'es')\r\n\r\nimport { NgxQRCodeModule } from '@techiediaries/ngx-qrcode';\r\nimport { LaboratorioComponent } from './laboratorio/laboratorio.component';\r\nimport { LaboratorioModule } from './laboratorio/laboratorio.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    IndexComponent,\r\n    MainComponent,\r\n    NuevoPedidoComponent,\r\n    ProductoYMaquinariaComponent,\r\n    AlmacenComponent,\r\n    OrdenComponent,\r\n    OrdenesComponent,\r\n    PlanificacionComponent,\r\n    LoginComponent,\r\n    UnicosPipe,\r\n    BarChartComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    RouterModule,\r\n    SharedModule,\r\n    AppRoutingModule,\r\n    EstadisticasModule,\r\n    LaboratorioModule,\r\n    IndexModule,\r\n    NuevoPedidoModule,\r\n    ProductoYMaquinariaModule,\r\n    AlmacenModule,\r\n    OrdenesModule,\r\n    CotizacionModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    NgxQRCodeModule\r\n  ],\r\n  providers: [{provide: LOCALE_ID, useValue: 'es'}],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport * as _ from 'lodash'; \r\n\r\n@Pipe({\r\n  name: 'unicos',\r\n  pure: false\r\n})\r\nexport class UnicosPipe implements PipeTransform {\r\n\r\n  transform(value: any): any{\r\n    if(value!== undefined && value!== null){\r\n        return _.uniqBy(value, 'name');\r\n    }\r\n    return value;\r\n}\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-index',\r\n  templateUrl: './index.component.html',\r\n  styleUrls: ['./index.component.css']\r\n})\r\nexport class IndexComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-navbar></app-navbar>\n<router-outlet></router-outlet>","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-orden-compra',\n  templateUrl: './orden-compra.component.html',\n  styleUrls: ['./orden-compra.component.css']\n})\nexport class OrdenCompraComponent implements OnInit {\n\n  constructor(private api:RestApiService,\n    private route:ActivatedRoute) {\n   }\n  \n  ngOnInit(): void {\n    this.obtenerClientes()\n  }\n\n  public CLIENTES = []\n  obtenerClientes(){\n    this.api.GetClientes()\n      .subscribe((resp:any)=>{\n        this.CLIENTES = resp.clientes\n      })\n  }\n\n\n  public PRODUCTOS = []\n  public CLIENTE;\n  cliente_selected(e){\n    this.CLIENTE = e.target.value;\n    if(e.target.value != '#')\n    {\n      this.api.getById(e.target.value)\n        .subscribe((resp:any)=>{\n          this.PRODUCTOS = resp.productos;\n          // // console.log(this.PRODUCTOS)\n      })\n    }else{\n      this.PRODUCTOS = []\n    }\n  }\n\n  public PRODUCTO = [];\n  public producto__ = ''\n  producto_selected(e){\n    if(e != '#'){\n      this.PRODUCTO = e\n      let produc = this.PRODUCTOS.find(x=> x._id == e)\n      this.producto__ = produc.producto\n      console.log(produc.producto)\n    }else{\n      this.PRODUCTO = []\n    }\n  }\n\n  public ORDEN_COMPRA = ''\n  OC(e){\n    this.ORDEN_COMPRA = e\n  }\n\n  public Fecha_entrega = ''\n  date_(e){\n    this.Fecha_entrega = e\n  }\n  public _Fecha_entrega = ''\n  date__(e){\n    this._Fecha_entrega = e\n  }\n\n  public Loaded = false\n  datos(){\n    this.Loaded = true\n  }\n\n  public _CANTIDAD = ''\n  NuevaCantidad(e){\n    this._CANTIDAD = e\n  }\n\n  public __Fecha = ''\n  Fecha__(e){\n    this.__Fecha = e\n  }\n\n\n  public DATOS = []\n  AgregarNuevo(){\n    this.DATOS.push(\n    {\n     producto:this.PRODUCTO,\n     nombre:this.producto__,\n     cantidad:this._CANTIDAD,\n     fecha:this.__Fecha\n    })\n\n    this.__Fecha = ''\n    this._CANTIDAD = ''\n    this.PRODUCTO = []\n  }\n\n  Eliminar(i){\n    this.DATOS.splice(i,1)\n  }\n\n  Editar(i){\n    let _i_ = i.toString()\n    document.getElementById(`field_c${_i_}`).style.display = 'block';\n    document.getElementById(`field_f${_i_}`).style.display = 'block';\n    document.getElementById(`dato_c${_i_}`).style.display = 'none';\n    document.getElementById(`dato_f${_i_}`).style.display = 'none';\n    document.getElementById(`buttons${_i_}`).style.display = 'none'\n    document.getElementById(`buttons_${_i_}`).style.display = 'block'\n  }\n\n  editarCantidad(e,i){\n    this.DATOS[i].cantidad = e\n  }\n\n  editarFecha(e,i){\n    this.DATOS[i].fecha = e\n  }\n\n  FinalizarEdicion(i){\n    let _i_ = i.toString()\n    document.getElementById(`field_c${_i_}`).style.display = 'none';\n    document.getElementById(`field_f${_i_}`).style.display = 'none';\n    document.getElementById(`dato_c${_i_}`).style.display = 'block';\n    document.getElementById(`dato_f${_i_}`).style.display = 'block';\n    document.getElementById(`buttons${_i_}`).style.display = 'block'\n    document.getElementById(`buttons_${_i_}`).style.display = 'none'\n  }\n\n  nueva_oc(){\n\n    let data = {\n      cliente:this.CLIENTE,\n      orden:this.ORDEN_COMPRA,\n      fecha_entrega:this.Fecha_entrega,\n      fecha_recepcion:this._Fecha_entrega,\n      productos:this.DATOS\n    }\n\n    this.api.postOrdenDeCompra(data)\n      .subscribe((resp:any)=>{\n        this.Loaded = false;\n        this.DATOS = []\n        this.CLIENTE = ''\n        this.ORDEN_COMPRA = ''\n        this.Fecha_entrega = ''\n        this._Fecha_entrega = ''\n        this.PRODUCTOS = []\n        Swal.fire({\n          icon:'success',\n          title:'Hecho',\n          text:'Se registró una nueva orden de compra',\n          showConfirmButton:false\n        })\n      })\n\n\n  }\n\n}\n","<div class=\"ml-5 mt-5\">\n    <div class=\"subtitulos\">\n        Nueva orden de compra\n    </div>\n</div>\n<br>\n<nav class=\"breadcrumb ml-5\" aria-label=\"breadcrumbs\">\n    <ul>\n      <li><a href=\"#\">Home</a></li>\n      <li><a href=\"/orden\">Ordenes</a></li>\n      <li class=\"is-active\"><a>Ordenes de compra</a></li>\n    </ul>\n</nav>\n\n<div class=\"mt-5 ml-5\">\n    <div class=\"columns\" >\n        <div class=\"column is-one-quarter\">\n            <div class=\"tabs\">\n                <ul>\n                  <li class=\"is-active\"><a>Crear</a></li>\n                  <li><a routerLink=\"/orden/ver-oc\">Consultar</a></li>\n                </ul>\n              </div>\n            <div class=\"card\">\n                <div class=\"card-content\">\n                    <div class=\"field\">\n                        <label class=\"label\">Cliente:</label>\n                        <div class=\"control\">\n                            <div class=\"select input_\">\n                                <select (change)='cliente_selected($event)'>\n                                    <option value=\"#\">Seleccionar cliente</option>\n                                    <option *ngFor='let cliente of CLIENTES' value=\"{{cliente._id}}\">{{cliente.nombre}}</option>\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n                    <!-- <div class=\"field\" *ngIf=\"PRODUCTOS.length > 0\">\n                        <label class=\"label\">Producto:</label>\n                        <div class=\"control\">\n                            <div class=\"select input_\" >\n                                <select id='producto' (change)='producto_selected($event.target.value)'>\n                                    <option value='#'>Selecciona Producto</option>\n                                    <option *ngFor='let producto of PRODUCTOS' value='{{producto._id}}'>{{producto.producto}}</option>\n                                </select>\n                            </div>\n                        </div>\n                    </div> -->\n                    <div class=\"field\" *ngIf=\"PRODUCTOS.length > 0\">\n                        <label class=\"label\">Orden de compra:</label>\n                        <div class=\"control\">\n                            <div class=\"input_\">\n                                <input type=\"text\" class=\"input\" placeholder=\"Orden de compra\" (keydown)=\"OC($event.target.value)\" (change)=\"OC($event.target.value)\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"field\" *ngIf=\"ORDEN_COMPRA.length > 0\">\n                        <label class=\"label\">Fecha orden de compra:</label>\n                        <div class=\"control\">\n                            <div class=\"input_\">\n                                <input type=\"date\" class=\"input\" (change)=\"date_($event.target.value)\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"field\" *ngIf=\"Fecha_entrega\">\n                        <label class=\"label\">Fecha de recepción:</label>\n                        <div class=\"control\">\n                            <div class=\"input_\">\n                                <input type=\"date\" class=\"input\" (change)=\"date__($event.target.value)\">\n                            </div>\n                        </div>\n                    </div>\n                    <button class=\"button is-primary\" *ngIf=\"_Fecha_entrega\" (click)=\"datos()\">\n                        <span class=\"icon\">\n                            <i class=\"fas fa-arrow-right\"></i>\n                        </span>\n                        <span>\n                            Continuar\n                        </span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        <div class=\"column\">\n            <div class=\"card\" *ngIf=\"Loaded\">\n                <div class=\"card-content\">\n                    <div class=\"subtitulos\">\n                        Selección de productos\n                    </div>\n                    <hr>\n                    <div class=\"field\">\n                        <label class=\"label\">Producto</label>\n                        <div class=\"control\">\n                            <div class=\"select\" >\n                                <select id='producto' (change)='producto_selected($event.target.value)'>\n                                    <option value='#'>Selecciona Producto</option>\n                                    <option *ngFor='let producto of PRODUCTOS' value='{{producto._id}}'>{{producto.producto}}</option>\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"columns\">\n                        <div class=\"column\">\n                            <div class=\"field\" *ngIf=\"PRODUCTO.length > 0\">\n                                <label class=\"label\">Cantidad</label>\n                                <div class=\"control\">\n                                    <!-- <input type=\"number\" class=\"input\" [(ngModel)]=\"_CANTIDAD\"> -->\n                                    <input type=\"number\" class=\"input\" (keydown)=\"NuevaCantidad($event.target.value)\" (change)=\"NuevaCantidad($event.target.value)\">\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"column\">\n                            <div class=\"field\" *ngIf=\"_CANTIDAD.length > 0\">\n                                <label class=\"label\">Fecha solicitada</label>\n                                <div class=\"control\">\n                                    <input type=\"date\" class=\"input\" (change)=\"Fecha__($event.target.value)\">\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"column\">\n                            <div class=\"field\" *ngIf=\"__Fecha.length > 0\">\n                                <label class=\"label\"> </label>\n                                <div class=\"control\">\n                                    <button class=\"button is-success\" (click)=\"AgregarNuevo()\">\n                                        <span class=\"icon\">\n                                            <i class=\"fas fa-plus\"></i>\n                                        </span>\n                                        <span>\n                                            Agregar\n                                        </span>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <hr>\n                    <table class=\"table is-fullwidth\">\n                        <tr>\n                            <th class=\"is-selected\">Producto</th>\n                            <th class=\"is-selected\">Cantidad</th>\n                            <th class=\"is-selected\">Fecha solicitada</th>\n                            <th class=\"is-selected\">Modificar</th>\n                        </tr>\n                        <tr *ngFor=\"let dato of DATOS;index as i\">\n                            <td>{{dato.nombre}}</td>\n                            <td>\n                                <div id=\"dato_c{{i}}\">\n                                    {{dato.cantidad}}\n                                </div>\n                                <ng-container>\n                                    <input type=\"number\" class=\"input is-small\" id=\"field_c{{i}}\" style=\"display:none\" value='DATO[i].cantidad' (change)=\"editarCantidad($event.target.value, i)\">\n                                </ng-container>\n                            </td>\n                            <td>\n                                <div id=\"dato_f{{i}}\">\n                                    {{dato.fecha}}\n                                </div>\n                                <ng-container>\n                                    <input type=\"date\" class=\"input is-small\" id=\"field_f{{i}}\" style=\"display:none\" value='DATO[i].fecha' (change)=\"editarFecha($event.target.value, i)\">\n                                </ng-container>\n                            </td>\n                            <td>\n                                <div id=\"buttons{{i}}\">\n                                    <button class=\"button is-success is-outlined is-small\" (click)=\"Editar(i)\">\n                                        <span>Editar</span>\n                                        <span class=\"icon is-small\">\n                                            <i class=\"far fa-edit\"></i>\n                                        </span>\n                                    </button> \n                                    <button class=\"button is-danger is-outlined is-small\" (click)=\"Eliminar(i)\">\n                                        <span>Eliminar</span>\n                                        <span class=\"icon is-small\">\n                                            <i class=\"fas fa-trash-alt\"></i>\n                                        </span>\n                                    </button>\n                                </div>\n                                <div id=\"buttons_{{i}}\" style=\"display:none\">\n                                    <button class=\"button is-success is-outlined is-small\" (click)=\"FinalizarEdicion(i)\">\n                                        <span>Listo</span>\n                                        <span class=\"icon is-small\">\n                                            <i class=\"fas fa-check\"></i>\n                                        </span>\n                                    </button> \n                                </div>\n                            </td>\n                        </tr>\n                        \n                    </table>\n                    <button class=\"button is-primary\" (click)=\"nueva_oc()\">\n                        <span class=\"icon\">\n                            <i class=\"fas fa-check\"></i>\n                        </span>\n                        <span>Finalizar</span>\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","<div class=\"containe\">\n    <div class=\"titulo\">\n        Pre-facturación\n    </div>\n\n    <div class=\"card\">\n        <div class=\"card-content\">\n            <div class=\"subtitulo\">\n                Despachos pendientes:\n            </div>\n            <hr>\n            <ng-container *ngFor=\"let despacho of Despachos;index as i\">\n                <table class=\"table is-fullwidth is-bordered\" *ngIf=\"despacho.despacho.documento === ''\">\n                    <thead>\n                        <tr>\n                            <td class=\"is-selected\" colspan=\"2\">\n                                <b>Fecha: </b>{{despacho.fecha}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <th width=\"70px\">OP</th>\n                            <th width=\"300px\">Cliente</th>\n                            <th width=\"300px\">Producto</th>\n                            <th width=\"125px\">OC</th>\n                            <th width=\"100px\">Cantidad</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>{{despacho.orden.sort}}</td>\n                            <td>{{despacho.orden.cliente.nombre}}</td>\n                            <td>{{despacho.despacho.producto}}</td>\n                            <td>{{despacho.orden.orden}}</td>\n                            <td>{{despacho.despacho.cantidad}}</td>\n                            <td>\n                                <button class=\"button is-info is-small\" (click)=\"ValidarDatos(i)\" *ngIf=\"!despacho.despacho.precio\">\n                                <div class=\"icon\">\n                                    <i class=\"far fa-calendar-check\"></i>\n                                </div>\n                                <span>\n                                    Validar Datos\n                                </span>\n                                </button>\n                                <button class=\"button is-success is-small\" (click)=\"openFacturacion(i)\" *ngIf=\"despacho.despacho.precio\">\n                                    <div class=\"icon\">\n                                        <i class=\"far fa-calendar-check\"></i>\n                                    </div>\n                                    <span>\n                                        Facturado\n                                    </span>\n                                    </button>\n                        </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </ng-container>\n        </div>\n    </div>\n</div>\n\n<!-- MODAL CONFIRMAR FACTURACION -->\n<div class=\"modal\" [ngClass]=\"{'is-active':Facturacion}\">\n    <div class=\"modal-background\" (click)=\"closeFacturacion()\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <span class=\"subtitulo_\">\n                Confirmación de facturación\n            </span>\n            <hr>\n            <table class=\"table is-fullwidth\">\n                <tr>\n                    <th class=\"is-selected\">\n                        Producto:\n                    </th>\n                    <td>\n                        {{Despachos[INDEX].despacho.producto}}\n                    </td>\n                </tr>\n                <tr>\n                    <th class=\"is-selected\">\n                       Orden de producción: \n                    </th>\n                    <td>\n                        {{Despachos[INDEX].orden.sort}}\n                    </td>\n                </tr>\n                <tr>\n                    <th class=\"is-selected\">\n                        Orden de compra:\n                    </th>\n                    <td>\n                        {{Despachos[INDEX].orden.orden}}\n                    </td>\n                </tr>\n                <tr>\n                    <th class=\"is-selected\">\n                        Cantidad:\n                    </th>\n                    <td>\n                        {{puntoYcoma(Despachos[INDEX].despacho.cantidad)}}\n                    </td>\n                </tr>\n                <tr>\n                    <th class=\"is-selected\">\n                        Precio/millar (USD):\n                    </th>\n                    <td>\n                        {{puntoYcoma(Despachos[INDEX].despacho.precio)}}\n                    </td>\n                </tr>\n                <tr>\n                    <th class=\"is-selected\">\n                        Precio/millar (Bs):\n                    </th>\n                    <td>\n                        {{puntoYcoma(Despachos[INDEX].despacho.precio * Despachos[INDEX].despacho.tasa)}}\n                    </td>\n                </tr>\n                <tr>\n                    <th class=\"is-selected\">\n                        Subtotal (USD):\n                    </th>\n                    <td>\n                        {{puntoYcoma(Despachos[INDEX].despacho.cantidad / 1000 * Despachos[INDEX].despacho.precio)}}\n                    </td>\n                </tr>\n                <tr>\n                    <th class=\"is-selected\">\n                        Subtotal (Bs):\n                    </th>\n                    <td>\n                        {{puntoYcoma(Despachos[INDEX].despacho.cantidad / 1000 * Despachos[INDEX].despacho.precio*Despachos[INDEX].despacho.tasa)}}\n                    </td>\n                </tr>\n            </table>\n            <button class=\"button is-success\" (click)=\"confirmar()\">\n                Validada\n            </button>  \n            <button class=\"button is-danger\" (click)=\"closeFacturacion()\">\n                Cancelar\n            </button>  \n            <hr>\n            <div class=\"columns\" *ngIf=\"confirmed\">\n                <div class=\"column\">\n                    <div class=\"field\">\n                        <label for=\"\" class=\"label\">N° documento</label>\n                        <div class=\"field has-addons\">\n                            <p class=\"control\">\n                              <span class=\"select\" id=\"tipo_documento\">\n                                <select (change)=\"editTipo($event.target.value)\">\n                                  <option value ='F - '>F</option>\n                                  <option value ='N - '>N</option>\n                                </select>\n                              </span>\n                            </p>\n                            <p class=\"control\">\n                              <input class=\"input\" type=\"text\" placeholder=\"N° documento\" (change)=\"editDocumento($event.target.value)\">\n                            </p>\n                          </div>  \n\n                    </div>\n                </div>\n                <div class=\"column\">\n                    <div class=\"field\">\n                        <label for=\"\" class=\"label\">Fecha</label>\n                        <input type=\"date\" class=\"input\" (change)=\"fecha_modificacion($event.target.value)\" [disabled]=\"!numero_facturacion\">\n                    </div>\n                </div>\n                <div class=\"column\">\n                    <div class=\"field\">\n                        <label for=\"\" class=\"label\"> </label>\n                        <button class=\"button is-success\" (click)=\"confirmar_todo()\" [disabled]=\"!fecha_facturacion\">\n                            Confirmar\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- MODAL CONFIRMAR FACTURACION -->\n\n<!-- MODAL DE VALIDACION DE DATOS -->\n<div class=\"modal\" [ngClass]=\"{'is-active':Validacion}\">\n    <div class=\"modal-background\" (click)=\"closeModal()\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <span class=\"subtitulo_\">\n                Validación de datos\n            </span>\n            <hr>\n            <div class=\"columns\">\n                <div class=\"column is-three-quarters\">\n                    <span>\n                        <b>Cliente: </b>{{Despachos[INDEX].orden.cliente.nombre}}\n                    </span><br>\n                    <span>\n                        <b>Producto: </b>{{Despachos[INDEX].despacho.producto}}\n                    </span><br>\n                    <span>\n                        <b>OC: </b>{{Despachos[INDEX].orden.orden}}  \n                        <div class=\"field has-addons\">\n                            <div class=\"control\">\n                                <b>Cantidad en OC: </b> \n                              <input class=\"input is-small corto\" type=\"text\" disabled id=\"Cantidad_en_OC\" (change)=\"buscarEscala(Despachos[INDEX].orden.cantidad)\" [(ngModel)]=\"Despachos[INDEX].orden.cantidad\">\n                            </div>\n                            <div class=\"control\">\n                              <a class=\"button is-success is-small\" (click)=\"Editar_Cantidad_en_OC()\">\n                                <i class=\"fas fa-edit\"></i>\n                              </a>\n                            </div>\n                        </div>\n                    </span><br>\n                    <span>\n                        <div class=\"field has-addons\">\n                            <div class=\"control\">\n                              <b>Cantidad despachada: </b> \n                              <input class=\"input is-small corto\" type=\"text\" disabled id=\"Cantidad_Despachada\" [(ngModel)]=\"Despachos[INDEX].despacho.cantidad\">\n                            </div>\n                            <div class=\"control\">\n                              <a class=\"button is-success is-small\" (click)=\"Editar_Cantidad_despachada()\">\n                                <i class=\"fas fa-edit\"></i>\n                              </a>\n                            </div>\n                        </div>\n                    </span>\n                </div>\n                <div class=\"column\">\n                    <span class=\"subtitulo_\">\n                        <b>OP: </b>{{Despachos[INDEX].despacho.op}}\n                    </span>\n                </div>\n            </div>\n\n            <hr>\n\n            <table class=\"table is-fullwidth\">\n                <thead>\n                    <tr>\n                        <th>Tabla</th>\n                        <th>Escala (Und)</th>\n                        <th>Precio (USD)</th>\n                        <th>Tasa BCV</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>1</td>\n                        <td>{{puntoYcoma(Escala.cantidad)}} <a (click)=\"modificarModal('escala')\"><i class=\"fas fa-edit\" style=\"color: #48c78e;\"></i></a></td>\n                        <td>{{puntoYcoma(Escala.precio)}} <a (click)=\"modificarModal('precio')\"><i class=\"fas fa-edit\" style=\"color: #48c78e;\"></i></a></td>\n                        <td>{{Tasa}} <a href=\"https://www.bcv.org.ve/\" target=\"_blank\" (click)=\"habilitarBoton()\"><i class=\"fas fa-globe\"></i></a></td>\n                        <td>\n                            <button class=\"button is-small is-info\" [disabled]=\"resumen\" (click)=\"resumir()\">\n                                <div class=\"icon\">\n                                    <i class=\"fas fa-eye\"></i>\n                                </div>\n                                <span>Ver total</span>\n                            </button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n            <hr>\n            <div class=\"resumen\" *ngIf=\"resumido\">\n                <b>Resumen:</b><br>\n                {{Despachos[INDEX].despacho.producto}} <br>\n                <b>Subtotal (USD): {{puntoYcoma(Despachos[INDEX].despacho.cantidad / 1000 * Escala.precio)}} </b><br>\n                <b>Subtotal (Bs): {{puntoYcoma((Despachos[INDEX].despacho.cantidad / 1000 * Escala.precio)*Tasa)}}</b><br>\n    \n                <br>\n                <div class=\"field\">\n                    <label for=\"\" class=\"label\">Observaciones</label>\n                    <div class=\"control\">\n                        <textarea class='textarea' id=\"\" [(ngModel)]=\"Observacion\"></textarea>\n                    </div>\n                </div>\n                <br>\n                <button class=\"button is-success\" (click)=\"descargarPDF()\">\n                    <div class=\"icon\">\n                        <i class=\"fas fa-download\"></i>\n                    </div>\n                    <span>\n                        Descargar\n                    </span>\n                </button>\n            </div>\n\n        </div>\n    </div>\n</div>\n\n\n<!-- modal modificaciones pequeñas -->\n<div class=\"modal\" [ngClass]=\"{'is-active':Modificacion}\">\n    <div class=\"modal-background\" (click)=\"Modificacion_close()\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body modificacion\">\n            <div class=\"escala\" *ngIf=\"ModificaciondeEscala\">\n                <span>\n                    <span class=\"subtitulo_\">\n                        Escala Nueva\n                    </span><br>\n                    <div class=\"select is-small\">\n                        <select #escalanueva placeholder=\"Seleccionar nueva escala\">\n                            <option value=\"\">Nueva escala</option>\n                            <option value=\"{{escala.cantidad}}\" *ngFor=\"let escala of this.Despachos[this.INDEX].escala.escalas\">{{puntoYcoma(escala.cantidad)}}</option>\n                        </select>\n                    </div>\n                </span><br><br>\n                <button class=\"button is-success is-small\" (click)=\"buscarEscala_(escalanueva.value)\">\n                    Confirmar\n                </button> \n                <button class=\"button is-danger is-small\" (click)=\"Modificacion_close()\">\n                    Cancelar\n                </button>\n            </div>\n\n\n            <div class=\"escala\" *ngIf=\"ModificaciondePrecio\">\n                <span class=\"subtitulo_\">\n                    Precio (USD)\n                </span><br>\n                <input type='number' class=\"input is-small\" [(ngModel)]=\"Escala.precio\">\n                <br> <br>\n                <button class=\"button is-success is-small boton_continuar\" (click)=\"Modificacion_close()\">\n                    <span class=\"icon\">\n                        <i class=\"fas fa-long-arrow-alt-right\"></i>\n                    </span>\n                    <span>\n                        Continuar\n                    </span>\n                </button>\n            </div>\n\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport * as moment from 'moment';\nimport { Cell, Img, Line, PdfMakeWrapper, Table, Txt } from 'pdfmake-wrapper';\nimport * as pdfFonts from \"pdfmake/build/vfs_fonts\";\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-pre-facturacion',\n  templateUrl: './pre-facturacion.component.html',\n  styleUrls: ['./pre-facturacion.component.css']\n})\nexport class PreFacturacionComponent implements OnInit {\n\n  constructor(private api:RestApiService) {\n    this.usuario = api.usuario\n   }\n\n  public usuario\n  public Despachos\n  public Tasa\n  public Observacion = ''\n  public Validacion:boolean = false\n  public Modificacion:boolean = false\n  public ModificaciondeEscala:boolean = false\n  public ModificaciondePrecio:boolean = false\n  public resumido:boolean = false\n  public resumen:boolean = true\n\n  ngOnInit(): void {\n    this.api.getDespachosYOrdenes()\n      .subscribe((resp:any)=>{\n        this.Despachos = resp.preFacuracion\n        console.log(this.Despachos,'AQUIIIIIIIIIIIIIIIII')\n        this.Tasa = resp.MonitorBCV\n        let split_dolar = resp.MonitorBCV.split(' ')\n        this.Tasa = Number(split_dolar[1])\n        console.log(this.Tasa)\n      })\n  }\n\n  Editar_Cantidad_en_OC(){\n    (<HTMLInputElement>document.getElementById('Cantidad_en_OC')).disabled = false\n  }\n\n  Editar_Cantidad_despachada(){\n    (<HTMLInputElement>document.getElementById('Cantidad_Despachada')).disabled = false\n  }\n\n  Modificacion_close(){\n    this.Modificacion = false;\n    this.ModificaciondeEscala = false;\n    this.ModificaciondePrecio = false;\n  }\n\n  resumir(){\n    this.resumido = true;\n  }\n\n  habilitarBoton(){\n    this.resumen = false;\n  }\n\n  closeModal(){\n    this.Validacion = false;\n  }\n\n  buscarEscala_(i){\n    Swal.fire({\n      text:'Escala modificada',\n      icon:'success',\n      showConfirmButton:false\n    })\n    this.Modificacion_close();\n    this.buscarEscala(i)\n  }\n\n\n  public Escala = {cantidad:0, precio:0};\n  buscarEscala(precio,nueva?){\n    console.log(precio,'PRECIOOOO')\n    let escalas = this.Despachos[this.INDEX].escala.escalas\n    for(let i=0;i<escalas.length;i++){\n      escalas[i].cantidad = Number(escalas[i].cantidad)\n    }\n    console.log(escalas,'ESCALAAAAAAAAAAAAAAAAAAAS')\n    let search = escalas.findLast(x=> x.cantidad <= precio)\n    console.log(search,'SEARCH')\n    if(!search && !nueva){\n      console.log('fail')\n      search = escalas[0]\n    }\n    this.Escala = search  \n  }\n\n  public INDEX = 0;\n  ValidarDatos(i){\n    if(!this.Validacion){\n      this.Validacion = true;\n      this.INDEX = i\n      // let busqueda = this.Despachos[this.INDEX].find(x=>x.escala.escalas.cantidad === \"100000\")\n      this.buscarEscala(this.Despachos[this.INDEX].orden.cantidad)\n    }else{\n      this.closeModal();\n    }\n  }\n\n  modificarModal(i){\n    this.Modificacion = true;\n    if(i === 'escala'){\n      this.ModificaciondeEscala = true\n    }\n    if(i === 'precio'){\n      this.ModificaciondePrecio = true\n    }\n  }\n\n  public confirmed:boolean = false;\n  confirmar(){\n    this.confirmed = true\n  }\n\n  public tipo_documento = 'F - '\n  editTipo(e){\n    this.tipo_documento = e\n  }\n\n  public n_documento = ''\n  public numero_facturacion:boolean = false;\n  editDocumento(e){\n    this.n_documento = e;\n    if(!e){\n      this.numero_facturacion = false\n    }\n    else{\n      this.numero_facturacion = true\n    }\n  }\n\n  public fecha_facturacion:boolean = false\n  fecha_modificacion(e){\n    if(!e){\n      this.fecha_facturacion = false\n    }else{\n      this.fecha_facturacion = true\n    }\n  }\n\n  confirmar_todo(){\n    Swal.fire({\n      icon:'warning',\n      title: 'Verifique bien los datos',\n      text:`Los datos previamente mostrados, así como, la información suministrada por usted son de vital     importancia.\n      Es necesario su correcta verificación.   Dichos cambios no podrán ser modificados`,\n      showDenyButton: true,\n      showCancelButton: false,\n      confirmButtonText: 'Continuar',\n      denyButtonText: `Ir atrás`,\n      confirmButtonColor:'#48c78e'\n    }).then((result) => {\n      /* Read more about isConfirmed, isDenied below */\n      if (result.isConfirmed) {\n        this.Despachos[this.INDEX].despacho.documento =`${this.tipo_documento}${this.n_documento}`\n        this.n_documento = ''\n        this.tipo_documento = 'F - '\n        this.Facturacion = false;\n        Swal.fire(\n        {title:'Listo.', \n        text:'Se realizó el registro de facturación correctamente.', \n        icon:'info',\n        showConfirmButton:false}\n        )\n        this.api.facturado(this.Despachos[this.INDEX].despacho)\n          .subscribe((resp:any)=>{\n            console.log('donde')\n          })\n      } else if (result.isDenied) {\n        Swal.fire({title:'Nada cambió', text:'Ningún cambio fue realizado.', icon:'info',showConfirmButton:false})\n      }\n    })\n  }\n\n  puntoYcoma(n){\n    if(!n){\n      return 0\n    }\n    return n = new Intl.NumberFormat('de-DE').format(n)\n  }\n\n  public Facturacion:boolean = false\n  openFacturacion(i){\n    this.Facturacion = true\n      this.INDEX = i\n      // let busqueda = this.Despachos[this.INDEX].find(x=>x.escala.escalas.cantidad === \"100000\")\n      this.buscarEscala(this.Despachos[this.INDEX].orden.cantidad)\n  }\n  closeFacturacion(){\n    this.Facturacion = false\n  }\n\n  descargarPDF(){\n\n    \n    this.Despachos[this.INDEX].despacho.tasa = this.Tasa\n    this.Despachos[this.INDEX].despacho.precio = this.Escala.precio\n    this.Despachos[this.INDEX].despacho.escala = this.Escala.cantidad\n    console.log(this.Despachos[this.INDEX])\n\n\n    let cliente = this.Despachos[this.INDEX].orden.cliente.nombre\n    let rif = this.Despachos[this.INDEX].orden.cliente.rif\n    let codigo_name = this.Despachos[this.INDEX].orden.cliente.codigo\n    let direccion = this.Despachos[this.INDEX].orden.cliente.direccion\n    let producto = this.Despachos[this.INDEX].orden.producto.producto\n    let codigo = this.Despachos[this.INDEX].orden.producto.cod_cliente\n    let observacion = this.Observacion\n    let sustrato = ''\n    let colores = '0'\n    let usuario = `${this.usuario.Nombre} ${this.usuario.Apellido}`\n    let cargo = this.usuario.Departamento\n    let procesos = 'Barnizado'\n    for(let n=1;n<this.Despachos[this.INDEX].orden.producto.post.length;n++){\n        let incluye = procesos.includes(this.Despachos[this.INDEX].orden.producto.post[n]);\n      if(procesos.includes(this.Despachos[this.INDEX].orden.producto.post[n])){\n        procesos = procesos + `, ${this.Despachos[this.INDEX].orden.producto.post[n]}`;\n      }\n    }\n    let cantidad = this.Despachos[this.INDEX].despacho.cantidad\n    cantidad = this.puntoYcoma(cantidad)\n    let fecha = new Date();\n    let hoy = fecha.getDate();\n    let dia = fecha.getDate();\n    if(dia < 10){\n      dia = Number(`0${dia}`)\n    }\n    let mes = fecha.getMonth()+1;\n    if(mes < 10){\n      mes = Number(`0${mes}`)\n    }\n    let ano = fecha.getFullYear();\n    let firma = `../../assets/firmas/${this.usuario._id}.png`\n    let escale\n    escale = this.puntoYcoma(this.Escala.cantidad)\n    let tasa\n    tasa = this.puntoYcoma(this.Tasa)\n    let precioUSD\n    precioUSD = this.puntoYcoma(this.Escala.precio)\n    let precioBS\n    precioBS = this.puntoYcoma(this.Escala.precio*this.Tasa)\n    let SubtotalUSD\n    SubtotalUSD = this.puntoYcoma(this.Despachos[this.INDEX].despacho.cantidad / 1000 * this.Despachos[this.INDEX].despacho.precio)\n    let SubtotalBS\n    SubtotalBS = this.puntoYcoma(this.Despachos[this.INDEX].despacho.cantidad / 1000 * this.Despachos[this.INDEX].despacho.precio*this.Despachos[this.INDEX].despacho.tasa)\n    \n\n    // this.Despachos[this.INDEX].fecha_prefacturacion =  moment().format('DD/MM/YYYY')\n    let contactos\n    let cargos\n    let margin = 0;\n\n    for(let i=0;i<this.Despachos[this.INDEX].orden.cliente.contactos.length;i++){\n      if(i === 0){\n        console.log(this.Despachos[this.INDEX].orden.cliente.contactos[i].trato)\n        contactos = `${this.Despachos[this.INDEX].orden.cliente.contactos[i].trato} ${this.Despachos[this.INDEX].orden.cliente.contactos[i].nombre}`\n        cargos = `${this.Despachos[this.INDEX].orden.cliente.contactos[i].cargo}`\n      }\n      if(i === 1){\n        margin = -35\n        contactos = contactos + ` \\n\\n ${this.Despachos[this.INDEX].orden.cliente.contactos[i].trato} ${this.Despachos[this.INDEX].orden.cliente.contactos[i].nombre}`\n        cargos = cargos + ` \\n\\n\\n ${this.Despachos[this.INDEX].orden.cliente.contactos[i].cargo}`\n      }\n    }\n    console.log(this.Despachos[this.INDEX].orden.cliente)\n    for(let i=0;i<this.Despachos[this.INDEX].orden.producto.post.length;i++){\n      procesos = procesos +', '+this.Despachos[this.INDEX].orden.producto.post[i];\n    }\n    for(let i=0;i<this.Despachos[this.INDEX].orden.producto.materiales[this.Despachos[this.INDEX].orden.montaje].length;i++)\n    {\n      let material = this.Despachos[this.INDEX].orden.producto.materiales[this.Despachos[this.INDEX].orden.montaje][i]\n      console.log(material.producto.grupo.nombre)\n      if(material.producto.grupo.nombre === 'Sustrato'){\n        sustrato = `${material.producto.nombre} ${material.producto.gramaje}g, calibre:${material.producto.calibre}`\n      }else if(material.producto.grupo.nombre === 'Tinta'){\n        let Numer = Number(colores) + 1;\n        colores = Numer.toString()\n      }\n    }\n\n    \n    let pre;\n    this.api.aumentoPre(this.Despachos[this.INDEX].despacho)\n      .subscribe((resp:any)=>{\n        pre = resp\n        this.Validacion = false\n        this.resumen = true\n        this.resumido = false\n        generarPDF();\n        // if(pre < 10){\n        //   pre = `000${pre}`\n        // }\n        // if(pre > 10 && pre < 100){\n\n        // }\n      })\n\n    const pdf = new PdfMakeWrapper();\n    PdfMakeWrapper.setFonts(pdfFonts);\n\n    \n    async function generarPDF(){\n      // pdf.footer();\n\n      pdf.add(\n        new Table([\n          [\n            new Cell(await new Img('../../assets/poli_cintillo.png').width(85).margin([20, 5]).build()).rowSpan(4).end,\n            new Cell(new Txt(`\n            COTIZACIÓN`).bold().end).alignment('center').fontSize(13).rowSpan(4).end,\n            new Cell(new Txt('Código: FDE-001').end).fillColor('#dedede').fontSize(7).alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('N° de Revisión: 0').end).fillColor('#dedede').fontSize(7).alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('Fecha de Revision: 14/04/2023').end).fillColor('#dedede').fontSize(7).alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('Página: 1 de 1').end).fillColor('#dedede').fontSize(7).alignment('center').end,\n          ],\n        ]).widths(['25%','50%','25%']).end\n      )\n\n      pdf.add(\n        pdf.ln(1)\n      )\n\n      pdf.add(\n        new Table([\n          [\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('').end).end,\n            new Cell(new Table([\n              [\n                new Cell(new Txt('COTIZACIÓN').bold().end).colSpan(2).alignment('center').fillColor('#000000').color('#ffffff').end,\n                new Cell(new Txt('').end).end,\n              ],\n              [\n                new Cell(new Txt('N°').alignment('center').end).end,\n                new Cell(new Txt(`C-23-${pre}`).bold().color('#FF0000').alignment('center').end).end,\n              ],\n              [\n                new Cell(new Txt('Fecha').alignment('center').end).end,\n                new Cell(new Txt(`${dia}/${mes}/${ano}`).alignment('center').end).end,\n              ],\n            ]).widths(['25%','75%']).end).end,\n\n          ],\n        ]).widths(['25%','40%','35%']).layout('noBorders').end\n      )\n\n      pdf.add(\n        pdf.ln(1)\n      )\n\n      pdf.add(\n        new Table([\n          [\n            new Cell(\n              new Table([\n                [\n                  new Cell(new Txt('Cliente:').bold().end).end,\n                  new Cell(new Txt(cliente).end).end,\n                ],\n                [\n                  new Cell(new Txt('').end).end,\n                  new Cell(new Txt('').end).end,\n\n                ],\n                [\n                  new Cell(new Txt('Rif:').bold().end).end,\n                  new Cell(new Txt(rif).end).end,\n                ],\n                [\n                  new Cell(new Txt('').end).end,\n                  new Cell(new Txt('').end).end,\n\n                ],\n                [\n                  new Cell(new Txt('Dirección Fiscal:').bold().end).colSpan(2).end,\n                  new Cell(new Txt('').end).end,\n                ],\n                [\n                  new Cell(new Txt(direccion).end).colSpan(2).end,\n                  new Cell(new Txt('').end).end,\n                ]\n              ]).widths([\"15%\", \"85%\"]).layout('noBorders').end,\n              \n            ).end,\n            new Cell(\n              new Table([\n                [\n                  new Cell(new Txt('Contactos:').bold().end).end,\n                ],\n                [\n                  new Cell(new Txt(contactos).end).end,\n\n                ],\n                [\n                  new Cell(new Txt(cargos).margin([0,margin]).italics().fontSize(9).end).end,\n\n                ]\n              ]).layout('noBorders').end,\n              \n            ).end,\n            \n          ]\n\n        ]).widths(['65%','35%']).layout('noBorders').end\n      )\n\n      pdf.add(\n        pdf.ln(1)\n      )\n\n      pdf.add(\n        new Table([\n          [\n            new Cell(new Txt('Producto:').bold().end).end,\n            new Cell(new Txt(producto).end).end,\n          ],\n          [\n            new Cell(new Txt('Código:').bold().end).end,\n            new Cell(new Txt(codigo).end).end,\n          ],\n          [\n            new Cell(new Txt('Sustrato:').bold().end).end,\n            new Cell(new Txt(sustrato).end).end,\n          ],\n          [\n            new Cell(new Txt('Colores:').bold().end).end,\n            new Cell(new Txt(colores).end).end,\n          ],\n          [\n            new Cell(new Txt('Procesos:').bold().end).end,\n            new Cell(new Txt(procesos).end).end,\n          ],\n        ]).layout('noBorders').end\n      )\n\n      pdf.add(\n        pdf.ln(1)\n      )\n\n      pdf.add(\n        new Table([\n          [\n            // new Cell(new Txt('Cantidad:').bold().margin([5,5]).alignment('center').end).fillColor('#dedede').end,\n            new Cell(new Txt('Escala:').bold().alignment('center').end).fillColor('#dedede').end,\n            new Cell(new Txt('Precio/millar (USD):').bold().alignment('center').end).fillColor('#dedede').end,\n            new Cell(new Txt('Tasa de cambio (BCV):').bold().alignment('center').end).fillColor('#dedede').end,\n            new Cell(new Txt('Precio/millar (Bs):').bold().alignment('center').end).fillColor('#dedede').end,\n          ],\n          [\n            new Cell(new Txt(escale).alignment('center').end).end,\n            new Cell(new Txt(precioUSD).alignment('center').end).end,\n            new Cell(new Txt(tasa).alignment('center').end).end,\n            new Cell(new Txt(precioBS).alignment('center').end).end,\n          ]\n        ]).widths(['13%','29%','29%','29%',]).end\n      )\n\n      pdf.add(\n        pdf.ln(1)\n      )\n      \n      pdf.add(\n        new Table([\n          [\n            new Cell(new Txt('Cantidad a despachar:').bold().alignment('center').end).fillColor('#dedede').end,\n            new Cell(new Txt('Subtotal USD:').bold().alignment('center').end).fillColor('#dedede').end,\n            new Cell(new Txt('Subtotal Bs:').bold().alignment('center').end).fillColor('#dedede').end,\n          ],\n          [\n            new Cell(new Txt(cantidad).alignment('center').end).end,\n            new Cell(new Txt(SubtotalUSD).alignment('center').end).end,\n            new Cell(new Txt(SubtotalBS).alignment('center').end).end,\n            \n          ]\n        ]).widths(['33%','33%','34%',]).end\n      )\n\n      pdf.add(\n        pdf.ln(1)\n      )\n\n      pdf.add(\n        new Table([\n          [\n            new Cell(new Txt('Observaciones:').bold().end).end,\n          ],\n          [\n            new Cell(new Txt(observacion).end).end,\n          ]\n        ]).layout('noBorders').end\n      )\n\n      pdf.add(\n        pdf.ln(2)\n      )\n\n\n      pdf.add(\n        new Table([\n          [\n            new Cell(new Txt('Emitido por:').bold().end).end,\n          ],\n          [\n            new Cell(new Txt(usuario).end).end,\n          ],\n          [\n            new Cell(new Txt(cargo).italics().fontSize(9).end).end,\n          ],\n          [\n            new Cell(await new Img(firma).width(60).build()).end,\n          ],\n        ]).layout('noBorders').end\n      )\n\n      pdf.add(\n        pdf.ln(2)\n      )\n      \n      pdf.add(\n        new Txt('Calle Pantín,  Local Galpón Nro 29, Urb. Chacao-Caracas, Miranda, Venezuela. ZP: 1060,').italics().fontSize(9).alignment('center').end\n      )\n      pdf.add(\n        new Txt('email: info@poligraficaindustrial.com').italics().fontSize(9).alignment('center').end\n      )\n\n      pdf.create().download(`${codigo_name}-C-23-${pre}`)\n    }\n  }\n\n\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { NuevoPedidoComponent } from './nuevo-pedido.component';\r\nimport { MainComponent } from './main/main.component';\r\nimport { OrdenCompraComponent } from './orden-compra/orden-compra.component';\r\nimport { ConsultaOrdenComponent } from './consulta-orden/consulta-orden.component';\r\nimport { IndexComponent } from './index/index.component';\r\n\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:NuevoPedidoComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:IndexComponent\r\n      },\r\n      {\r\n        path:'orden-produccion',\r\n        component:MainComponent\r\n      },\r\n      {\r\n        path:'orden-compra',\r\n        component:OrdenCompraComponent\r\n      },\r\n      {\r\n        path:'ver-oc',\r\n        component:ConsultaOrdenComponent\r\n      }]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class NuevoPedidoRoutingModule { }\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { EstadisticasComponent } from './estadisticas.component';\nimport { MainComponent } from './main/main.component';\n\nconst routes: Routes =[\n  {\n    path:'',\n    component:EstadisticasComponent,\n    children:[\n      {\n        path:'',\n        component:MainComponent\n      }]\n}]\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes)\n  ]\n})\n\nexport class EstadisticasRoutingModule { }\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport Swal from 'sweetalert2';\nimport Chart from 'chart.js/auto';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.css']\n})\nexport class MainComponent implements OnInit {\n\n  constructor(private api:RestApiService,\n    private router:Router,) { }\n\n  ngOnInit(): void {\n  }\n\n\n\n\n  public Ordenes = []\n  public Despachos = []\n  public Lotes = []\n  public despachos = []\n  public devoluciones = []\n  public gestiones = []\n  public requisiciones = []\n  public trabajos = []\n  public adicionales = []\n\n\n  public cargando = false;\n  public sinBusqueda = true;\n  public vacio = false;\n\n\n  public Tinta = 0;\n  public Amarillo =0;\n  public Cyan = 0;\n  public Magenta =0;\n  public Negro = 0;\n  public Otros_c = 0;\n\n  public chart: any;\n  public sustrato_char:any\n  public barniz_char:any\n  public Caja_chart:any\n  public Pega_chart:any\n\n  public Barniz_load:boolean = true;\n  public Cajas_loading:boolean = true;\n  public Pega_loading:boolean = true;\n\n  public modal_despacho:boolean = false;\n\n  goto(id){\n    this.router.navigateByUrl(`orden-produccion/${id}`)\n  }\n\n  rolltoorders(){\n    document.getElementById('orders').scrollIntoView();\n  }\n\n  public despachos_filtrado = []\n  public despachos_orden;\n  public Ej_montados;\n  despachos_porcentaje(op,montaje){\n    this.Ej_montados = montaje;\n    this.consumos('0',op)\n    this.modal_consumos = false;\n    this.modal_despacho = true;\n    this.api.GetDespachoByOrden(op)\n      .subscribe((resp:any)=>{\n        this.despachos_filtrado = resp;\n        this.despachos_orden = op\n        console.log(this.despachos_filtrado)\n      })\n  }\n\n  Devolucion_Barniz:number = 0;\n  sumarDescuentos(descuento){\n    this.Devolucion_Barniz = Number(this.Devolucion_Barniz) + Number(descuento);\n  }\n\n  public Producto_select;\n  Producto_Selected(e){\n    if(e === '#'){\n      this.Producto_select = undefined\n    }else{\n      this.api.getOneById(e)\n        .subscribe((resp:any)=>{\n          this.Producto_select = resp.producto.producto\n          return\n        })\n    }\n    console.log(this.Producto_select)\n  }\n\n  descuento(grupo,Nombre,Marca){\n    if(grupo === 'Barniz'){\n      let descuento = this.data.Barniz.Devolucion_Barniz.find(x=> x.Nombre === Nombre && x.Marca === Marca)\n      if(!descuento){\n        return 0\n      }\n      return descuento.Cantidad\n    }\n    if(grupo === 'Pega'){\n      let descuento = this.data.Pega.Devolucion_Pega.find(x=> x.Nombre === Nombre && x.Marca === Marca)\n      if(!descuento){\n        return 0\n      }\n      return descuento.Cantidad\n    }\n    if(grupo === 'Caja'){\n      let descuento = this.data.Caja.Devolucion_Caja.find(x=> x.Nombre === Nombre)\n      if(!descuento){\n        return 0\n      }\n      return descuento.Cantidad\n    }\n\n  }\n\n  restar__(nombre,marca,cantidad){\n    let descuento = this.data.devoluciones_totales.find(x=> x.Nombre === nombre && x.Marca === marca)\n    if(descuento){\n      let salida = cantidad - descuento.Cantidad\n      return salida.toFixed(2)\n    }else{\n      return cantidad.toFixed(2)\n    }\n  }\n\n  puntoYcoma(n){\n    if(!n){\n      return 0\n    }\n    n = Number(n).toFixed(2)\n    return n = new Intl.NumberFormat('de-DE').format(n)\n  }\n\n  PegaChart(){\n\n    let pega = this.data.Pega.Pega\n    let labels = []\n    let cantidades = []\n\n    for(let i=0;i<pega.length;i++){\n      labels.push(pega[i].Nombre)\n      cantidades.push(pega[i].Cantidad-this.descuento('Pega',pega[i].Nombre,pega[i].Marca))\n    }\n    if(this.Pega_chart){\n      this.Pega_chart.destroy();\n    }\n\n    this.Pega_chart = new Chart(\"Pega_chart\",{\n      type:'pie',\n      data:{\n        labels:labels,\n        datasets: [{\n          label: 'Sustrato consumido',\n          data: cantidades,\n          backgroundColor: [\n            'rgb(255, 99, 132,0.2)',\n            'rgb(54, 162, 235,0.2)',\n          ],\n          borderColor: [\n            'rgb(255, 99, 132)',\n            'rgb(54, 162, 235)',\n          ],\n          hoverOffset: 4\n        }]\n      }\n    })\n  }\n\n  CajasChart(){\n    let cajas = []\n    let cantidad =[]\n\n    for(let i=0;i<this.data.Caja.Caja.length;i++){\n      cajas.push(this.data.Caja.Caja[i].Nombre)\n      cantidad.push(this.data.Caja.Caja[i].Cantidad-this.descuento('Caja',this.data.Caja.Caja[i].Nombre,0))\n    }\n\n    if(this.Caja_chart){\n      this.Caja_chart.destroy();\n    }\n\n    this.Caja_chart = new Chart(\"Caja_chart\",{\n      type:'bar',\n      data:{\n        labels:cajas,\n        datasets: [{\n          label: 'Cajas consumidas',\n          data: cantidad,\n          maxBarThickness:30,\n          backgroundColor: [\n            'rgba(255, 205, 86, 0.2)',\n            'rgba(75, 192, 192, 0.2)',\n            'rgba(54, 162, 235, 0.2)',\n            'rgba(153, 102, 255, 0.2)',\n            'rgba(201, 203, 207, 0.2)'\n          ],\n          borderColor: [\n            'rgb(255, 205, 86)',\n            'rgb(75, 192, 192)',\n            'rgb(54, 162, 235)',\n            'rgb(153, 102, 255)',\n            'rgb(201, 203, 207)'\n          ],\n          borderWidth: 1,\n          xAxisID:'x'\n        }]\n      },\n      \n      options: {\n        indexAxis: 'y',\n        plugins: {\n          legend: {\n              display: false,\n              labels: {\n                  color: 'rgb(255, 99, 132)'\n              }\n          },\n          title:{\n            display:true,\n            text:'Cajas consumidas'\n          }\n      },\n        scales: {\n            y: {\n                beginAtZero: true,\n                ticks: {\n                  maxTicksLimit: 10,\n                },\n                title:{\n                  display:true,\n                  text:'Cajas'\n                }\n            },\n            'x':{\n              title:{\n                display:true,\n                text:'Cantidad de cajas consumidas (Und)'                  \n              }\n            }\n        }\n    }\n    })\n  }\n\n  BarnizChart(){\n\n    if(this.barniz_char){\n      this.barniz_char.destroy();\n    }\n\n    this.barniz_char = new Chart(\"Barniz_chart\",{\n      type:'pie',\n      data:{\n        labels:['Barniz S/Impresión','Barniz acuoso'],\n        datasets: [{\n          label: 'Sustrato consumido',\n          data: [this.data.Barniz.Total_Barniz-this.data.Barniz.Devolucion_Total_barniz,this.data.Barniz.Total_barniz_acuoso*0.868],\n          backgroundColor: [\n            'rgb(255, 99, 132,0.2)',\n            'rgb(54, 162, 235,0.2)',\n          ],\n          borderColor: [\n            'rgb(255, 99, 132)',\n            'rgb(54, 162, 235)',\n          ],\n          hoverOffset: 4\n        }]\n      }\n    })\n  }\n\n  SustratoChar(){\n    if(this.sustrato_char){\n      this.sustrato_char.destroy();\n    }\n    this.sustrato_char = new Chart(\"Sustrato_chart\",{\n      type:'doughnut',\n      data:{\n        labels:['Papel','Cartón'],\n        datasets: [{\n          label: 'Sustrato consumido',\n          data: [this.data.asignados.Papel,this.data.asignados.Carton],\n          backgroundColor: [\n            'rgb(255, 99, 132,0.2)',\n            'rgb(54, 162, 235,0.2)',\n          ],\n          borderColor: [\n            'rgb(255, 99, 132)',\n            'rgb(54, 162, 235)',\n          ],\n          hoverOffset: 4\n        }]\n      }\n    })\n  }\n\n\n  public producto_form:boolean = false;\n  public Productos_by_client;\n  Cliente_Selected(e){\n    this.api.getById(e)\n    .subscribe((resp:any)=>{\n      console.log(resp)\n      this.producto_form = true;\n      this.Productos_by_client = resp\n      })\n  }\n\n  public busqueda_clientes;\n  public busqueda_orden;\n  public clientes_form:boolean = false;\n  busquedaInteligente(e){\n    if(e === 'cliente'){\n      this.api.GetClientes()\n        .subscribe((resp:any)=>{\n          this.busqueda_clientes = resp;\n          this.clientes_form = true\n        })\n    }else{\n      this.clientes_form = false;\n      this.producto_form = false;\n    }\n    if(e === 'orden'){\n      this.busqueda_orden = true;\n    }else{\n      this.busqueda_orden = false;\n    }\n  }\n\n  // test grafica\n  createChart(){\n\n    if(this.chart){\n      this.chart.destroy();\n    }\n\n    let Amarillo = this.data.asignados.detalle_tintas.Amarillo;\n    Amarillo = Number(Amarillo) + Number(this.data.adicionales.detalle_tintas.Amarillo)\n    Amarillo = Amarillo.toFixed(2)\n    Amarillo = Number(Amarillo)-Number(this.data.Colores_devueltos.Amarillo)\n    Amarillo = Amarillo.toFixed(2)\n\n    let Magenta = this.data.asignados.detalle_tintas.Magenta;\n    Magenta = Number(Magenta) + Number(this.data.adicionales.detalle_tintas.Magenta)\n    Magenta = Magenta.toFixed(2)\n    Magenta = Number(Magenta)-Number(this.data.Colores_devueltos.Magenta)\n    Magenta = Magenta.toFixed(2)\n\n    let Cyan = this.data.asignados.detalle_tintas.Cyan;\n    Cyan = Number(Cyan) + Number(this.data.adicionales.detalle_tintas.Cyan)\n    Cyan = Cyan.toFixed(2)\n    Cyan = Number(Cyan)-Number(this.data.Colores_devueltos.Cyan)\n    Cyan = Cyan.toFixed(2)\n\n    let Negro = this.data.asignados.detalle_tintas.Negro;\n    Negro = Number(Negro) + Number(this.data.adicionales.detalle_tintas.Negro)\n    Negro = Negro.toFixed(2)\n    Negro = Number(Negro)-Number(this.data.Colores_devueltos.Negro)\n    Negro = Negro.toFixed(2)\n\n    let Pantone = this.data.asignados.detalle_tintas.Pantone;\n    Pantone = Number(Pantone) + Number(this.data.adicionales.detalle_tintas.Pantone)\n    Pantone = Pantone.toFixed(2)\n    Pantone = Number(Pantone)-Number(this.data.Colores_devueltos.Pantone)\n    Pantone = Pantone.toFixed(2)\n  \n    this.chart = new Chart(\"MyChart\", {\n      type: 'bar', //this denotes tha type of chart\n\n      data: {// values on X-Axis\n        labels: ['Amarillo','Magenta','Cyan','Negro','Pantone'], \n        datasets: [{\n          label: 'Colores',\n          data: [Amarillo, Magenta, Cyan,Negro,Pantone],\n          backgroundColor: [\n            'rgb(255, 255, 0,0.2)',\n            'rgb(228, 0, 120,0.2)',\n            'rgb(0, 255, 255,0.2)',\n            'rgb(0, 0, 0,0.2)',\n            'rgb(0, 115, 54,0.2)',\n          ],\n          borderColor: [\n            'rgb(255, 255, 0)',\n            '#e40078',\n            'rgb(0, 255, 255)',\n            'rgb(0, 0, 0)',\n            'rgb(0, 115, 54)',\n          ],\n          borderWidth: 1,\n        }]\n      },\n      options: {\n        aspectRatio:2.5,\n        plugins: {\n          legend: {\n              display: false,\n              labels: {\n                  color: 'rgb(255, 99, 132)'\n              }\n          },\n          title:{\n            display:true,\n            text:'Tintas consumidas'\n          }\n      },\n        scales:{\n          yAxisID:{\n            beginAtZero:true,\n            display:true,\n            title:{\n              display:true,\n              text:'Cantidad de tinta consumida (kg)'\n            }\n          },\n          xAxisID:{\n            title:{\n              display:true,\n              text:'Colores'\n            }\n          }\n        }\n      }\n      \n    });\n\n  }\n\n  // test grafica\n\n  public DetallesTinta:boolean = false;\n  modalTintas(){\n    if(this.DetallesTinta){\n      this.DetallesTinta = false\n    }else{\n      this.DetallesTinta = true;\n    }\n  }\n\n  alert(id){\n    this.router.navigateByUrl(`orden-produccion/${id}`)\n  }\n\n  public Sustratos_suma = []\n  public total_sustrato = 0;\n  public Sustrato_load:boolean = true\n  sumaSustrato(){\n    this.peso_hojas = 0;\n    this.peso_carton = 0;\n    this.Sustratos_suma = []\n    this.total_sustrato = 0;\n    this.Sustrato_load = true;\n    for(let i=0;i<this.Lotes.length;i++){\n      for(let x=0;x<this.Lotes[i].material.length;x++){\n        if(this.Lotes[i].material[x].material.grupo === '61f92a1f2126d717f004cca6'){\n          let data = {\n            Nombre:this.Lotes[i].material[x].material.nombre,\n            Marca:this.Lotes[i].material[x].material.marca,\n            Ancho:this.Lotes[i].material[x].material.ancho,\n            Largo:this.Lotes[i].material[x].material.largo,\n            Calibre:this.Lotes[i].material[x].material.calibre,\n            Gramaje:this.Lotes[i].material[x].material.gramaje,\n            Cantidad:this.Lotes[i].material[x].cantidad\n          }\n          let existe = this.Sustratos_suma.findIndex(x=> x.Nombre === data.Nombre && x.Marca === data.Marca && x.Ancho === data.Ancho && x.Largo === data.Largo && x.Calibre === data.Calibre && x.Gramaje === data.Gramaje)\n\n          if(existe < 0){\n            this.Sustratos_suma.push(data)\n            // console.log(this.Sustratos_suma)\n          }else{\n            this.Sustratos_suma[existe].Cantidad = Number(this.Sustratos_suma[existe].Cantidad) + Number(data.Cantidad)\n          }\n        }\n      }\n    }\n    this.Sustrato_load=false;\n  }\n\n  detalles_sustratos:boolean = false;\n  detalles_sustrato(){\n    if(!this.detalles_sustratos){\n      this.detalles_sustratos = true\n    }else{\n      this.detalles_sustratos = false\n    }\n  }\n\n  detalles_tintas:boolean = false\n  detalles_tinta(){\n    if(!this.detalles_tintas){\n      this.detalles_tintas = true\n    }else{\n      this.detalles_tintas = false\n    }\n  }\n\n  public peso_carton = 0;\n  public peso_hojas = 0;\n  MostrarPeso(w,x,y,z){\n\n    let all = Number(w)*Number(x)*Number(y)*Number(z);\n    let peso = all /10000000000;\n\n    if(x < 100){\n      this.peso_hojas = this.peso_hojas + peso;\n    }else{\n      this.peso_carton = this.peso_carton + peso;\n    }\n\n    this.total_sustrato = Number(this.total_sustrato) + Number(peso)\n    return peso.toFixed(2)\n  }\n\n  public Tinta_load:boolean = true\n  public Suma_Tintas = [];\n  aMASa(a,b){\n    let c = (Number(a)+Number(b)).toFixed(2);\n    return c\n  }\n  aMENOSa(a,b){\n    let c = (Number(a)-Number(b)).toFixed(2);\n    return c\n  }\n\n  devuelto__(Nombre, Marca){\n    let devoluciones = this.data.devoluciones_totales.find(x=> x.Nombre === Nombre && x.Marca === Marca)\n    console.log(devoluciones)\n    return devoluciones[0].Cantidad\n  }\n  sumaTinta(){\n    this.Tinta = 0;\n    this.Suma_Tintas = []\n    this.Amarillo = 0;\n    this.Cyan = 0;\n    this.Magenta = 0;\n    this.Negro = 0;\n    this.Otros_c = 0;\n    for(let i=0;i<this.data.Lotes.length;i++){\n      for(let x=0;x<this.data.Lotes[i].material.length;x++){\n        if(this.data.Lotes[i].material[x].material.grupo === '61fd54e2d9115415a4416f17')\n        {\n          this.Tinta = this.Tinta + this.data.Lotes[i].material[x].EA_Cantidad\n\n          switch(this.Lotes[i].material[x].material.color){\n            case 'Amarillo':\n              this.Amarillo = this.Amarillo + this.data.Lotes[i].material[x].EA_Cantidad\n              break;\n            case 'Cyan':\n              this.Cyan = this.Cyan + this.data.Lotes[i].material[x].EA_Cantidad\n              break;\n            case 'Magenta':\n              this.Magenta = this.Magenta + this.data.Lotes[i].material[x].EA_Cantidad\n              break;\n            case 'Negro':\n              this.Negro = this.Negro + this.data.Lotes[i].material[x].EA_Cantidad\n              break;\n            default:\n              this.Otros_c = this.Otros_c + this.data.Lotes[i].material[x].EA_Cantidad\n              break;\n          }\n          // console.log(this.Lotes[i].material[x].material.color)\n          let data = {\n            Nombre: this.Lotes[i].material[x].material.nombre,\n            Marca:this.Lotes[i].material[x].material.marca,\n            Cantidad: this.Lotes[i].material[x].EA_Cantidad\n          }\n\n          let existe = this.Suma_Tintas.findIndex(x=> x.Nombre === data.Nombre && x.Marca === data.Marca)\n\n          if(existe < 0){\n            this.Suma_Tintas.push(data)\n          }else{\n            this.Suma_Tintas[existe].Cantidad = Number(this.Suma_Tintas[existe].Cantidad) + Number(data.Cantidad)\n          }\n        }\n      }\n      if(i == this.data.Lotes.length - 1){\n        this.Tinta_load = false;\n      }\n    }\n  }\n\n  GetDespacho(orden){\n    // alert(orden)\n    let despacho = this.Despachos.find(despacho => despacho.despacho.op == orden)\n    for(let i = 0; i<this.Despachos.length;i++){\n      for(let y = 0; y<this.Despachos[i].despacho.length;y++){\n        if(this.Despachos[i].despacho[y].op == orden){\n          return(this.Despachos[i].fecha)\n        }\n      }\n    }\n    return 'Sin despachar'\n  }\n\n  public g_trabajos = []\n  public g_gestiones = []\n  public modal_gestiones = false;\n  gestiones_(id,op){\n    this.g_trabajos = this.data.Trabajos.filter(x => x.orden === id)\n    this.g_gestiones = this.data.Gestiones.filter(x => x.op === id)\n    this.modal_gestiones = true;\n\n    console.log(this.g_trabajos)\n\n  }\n\n  public c_lotes = []\n  public c_devoluciones = []\n  public lote_mayor:any = [];\n  public modal_consumos = false;\n  consumos(id,op){\n    this.lote_mayor = []\n    this.c_devoluciones = []\n    this.c_devoluciones = this.data.devoluciones.filter(x=> x.orden === op)\n    console.log(this.c_devoluciones)\n\n    this.c_lotes = this.data.Lotes.filter(x => x.orden === op)\n\n    for(let i=0; i<this.c_lotes.length;i++){\n      for(let n=0; n<this.c_lotes[i].material.length;n++)\n      {\n\n        // console.log(this.c_lotes[i].material[n].material.calibre)\n        let index = this.lote_mayor.find(x=> x.nombre === this.c_lotes[i].material[n].material.nombre && x.ancho === this.c_lotes[i].material[n].material.ancho && x.largo === this.c_lotes[i].material[n].material.largo && x.calibre === this.c_lotes[i].material[n].material.calibre && x.gramaje === this.c_lotes[i].material[n].material.gramaje)\n\n        if(!index){\n          let marca = this.c_lotes[i].material[n].material.marca\n          let id = this.c_lotes[i].material[n].material._id\n          let cant = this.c_lotes[i].material[n].cantidad\n          // cant = cant.toFixed(2)\n          if(this.c_lotes[i].material[n].material.ancho){\n            let ancho = this.c_lotes[i].material[n].material.ancho\n            let largo = this.c_lotes[i].material[n].material.largo\n            let calibre = this.c_lotes[i].material[n].material.calibre\n            let gramaje = this.c_lotes[i].material[n].material.gramaje\n            this.lote_mayor.push({op,id,marca,nombre:this.c_lotes[i].material[n].material.nombre, cantidad:cant,ancho,largo,calibre,gramaje})\n          }else{\n            this.lote_mayor.push({op,id,marca,nombre:this.c_lotes[i].material[n].material.nombre, cantidad:cant,ancho:null,largo:null,calibre:null,gramaje:null})\n          }\n        }else{\n          let b = this.lote_mayor.findIndex(x=> x.nombre === this.c_lotes[i].material[n].material.nombre)\n          this.lote_mayor[b].cantidad = Number(this.lote_mayor[b].cantidad) + Number(this.c_lotes[i].material[n].cantidad)\n        }\n\n\n      }\n    }\n    this.modal_consumos = true;\n  }\n\n  public detalles_pega:boolean = false;\n  detalle_pega(){\n    if(!this.detalles_pega){\n      this.detalles_pega = true;\n    }else{\n      this.detalles_pega = false;\n    }\n  }\n\n  public detalles_barniz:boolean = false;\n  detalle_barniz(){\n    if(!this.detalles_barniz){\n      this.detalles_barniz = true;\n    }else{\n      this.detalles_barniz = false;\n    }\n  }\n  \n  public data;\n  Buscar_estadisticas(desde, hasta){\n    this.vacio = false;\n    this.sinBusqueda = false;\n    this.cargando = true;\n    if(desde === 'orden' && hasta === 'orden'){\n      let op = (<HTMLInputElement>document.getElementById('OP')).value\n      if(!op){\n        Swal.fire({\n          title:'Debes llenar los campos',\n          text:'Debes introducir un número de orden de producción',\n          icon:'error',\n          showConfirmButton:false,\n        })\n        return\n      }\n      this.api.EstadisticasOrden({op})\n        .subscribe((resp:any)=>{\n          if(resp.length < 1){\n            this.vacio = true;\n          }\n          if(resp.mensaje){\n            Swal.fire({\n              title:'Error',\n              text:resp.mensaje,\n              icon:'error',\n              showConfirmButton:false\n            })\n            return\n          }\n          this.data = resp;\n          this.Tinta_load = false\n          this.Ordenes = resp.orden\n          this.Despachos = resp.despachos\n          this.devoluciones = resp.devoluciones\n          this.gestiones = resp.gestiones\n          this.Lotes = resp.lotes\n          this.requisiciones = resp.requisiciones\n          this.trabajos = resp.trabajos\n          this.adicionales = resp.Adicionales\n          // console.log(resp)\n          this.cargando = false\n          this.Sustrato_load = false;\n          this.Barniz_load = false;\n          this.Cajas_loading = false;\n          this.Pega_loading = false;\n          // this.sumaTinta();\n          // this.sumaSustrato();\n          this.sumaDevoluciones(this.devoluciones)\n          this.createChart()\n          this.SustratoChar()\n          this.BarnizChart()\n          this.CajasChart()\n          this.PegaChart()\n        })\n      return\n    }\n\n    if(this.clientes_form){\n      console.log(desde,'/',hasta)\n      let data;\n      let cliente = (<HTMLInputElement>document.getElementById('cliente_select')).value\n      if(cliente === '#'){\n        Swal.fire({\n          title:'Seleccione un cliente',\n          text:'Debe indicar un cliente para realizar la busqueda especifica',\n          icon:'error',\n          showConfirmButton:false\n        })\n        return\n      }else{\n        const client = {cliente}\n        let producto = (<HTMLInputElement>document.getElementById('producto_select')).value\n        if(producto != \"#\"){\n          if(desde && hasta){\n            data = {cliente:client,producto:this.Producto_select,desde,hasta}\n          }else{\n            data = {cliente:client,producto:this.Producto_select}\n          }\n        }else{\n          if(desde && hasta){\n            data = {cliente:client,desde,hasta}\n\n          }else{\n\n            data = {cliente:client}\n          }\n        }\n        // TEST\n        this.api.EstadisticasOrden(data)\n        .subscribe((resp:any)=>{\n          if(resp.length < 1){\n            this.vacio = true;\n          }\n          if(resp.mensaje){\n            Swal.fire({\n              title:'Error',\n              text:resp.mensaje,\n              icon:'error',\n              showConfirmButton:false\n            })\n            return\n          }\n          this.data = resp;\n          this.Tinta_load = false\n          this.Ordenes = resp.orden\n          this.Despachos = resp.despachos\n          this.devoluciones = resp.devoluciones\n          this.gestiones = resp.gestiones\n          this.Lotes = resp.lotes\n          this.requisiciones = resp.requisiciones\n          this.trabajos = resp.trabajos\n          this.adicionales = resp.Adicionales\n          console.log(resp)\n          this.cargando = false\n          this.Sustrato_load = false;\n          this.Barniz_load = false;\n          this.Cajas_loading = false;\n          this.Pega_loading = false;\n          // this.sumaTinta();\n          // this.sumaSustrato();\n          this.sumaDevoluciones(this.devoluciones)\n          this.createChart()\n          this.SustratoChar()\n          this.BarnizChart()\n          this.CajasChart()\n          this.PegaChart()\n        })\n      return\n        // TEST\n\n      }\n    }\n\n    if(!desde || !hasta){\n      this.cargando = false;\n      this.sinBusqueda = true;\n      Swal.fire({\n        title:'Debes seleccionar 2 fechas',\n        text:'Debes indicar un intervalo de busqueda valido (Fecha inicial de busqueda hasta fecha final).',\n        icon:'error',\n        showConfirmButton:false,\n      })\n      return\n    }\n    if(desde > hasta){\n      this.cargando = false;\n      this.sinBusqueda = true;\n      Swal.fire({\n        title:'Error en la busqueda',\n        text:'La fecha de inicio no puede ser mayor a la fecha final',\n        icon:'error',\n        showConfirmButton:false\n      })\n      return\n    }\n      this.api.EstadisticasOrden({desde,hasta})\n        .subscribe((resp:any)=>{\n          if(resp.length < 1){\n            this.vacio = true;\n          }\n\n          this.data = resp;\n          this.Tinta_load = false\n          this.Ordenes = resp.orden\n          this.Despachos = resp.despachos\n          this.devoluciones = resp.devoluciones\n          this.gestiones = resp.gestiones\n          this.Lotes = resp.lotes\n          this.requisiciones = resp.requisiciones\n          this.trabajos = resp.trabajos\n          this.adicionales = resp.Adicionales\n          this.cargando = false\n          this.Sustrato_load = false;\n          this.Barniz_load = false;\n          this.Cajas_loading = false;\n          this.Pega_loading = false;\n          console.log(this.data)\n          // this.sumaTinta();\n          // this.sumaSustrato();\n          this.sumaDevoluciones(this.devoluciones)\n          this.createChart()\n          this.SustratoChar()\n          this.BarnizChart()\n          this.CajasChart()\n          this.PegaChart()\n        },err => {\n          alert(err)\n          console.log(err)\n        })\n\n  }\n\n\n  // VARIABLES DE DEVOLUCION\n  public D_Negro = 0\n  public D_Amarillo = 0\n  public D_Cyan = 0\n  public D_Magenta = 0\n  public D_Pantone = 0\n  public D_Tintas = []\n\n  sumaDevoluciones(dev){\n  this.D_Negro = 0\n  this.D_Amarillo = 0\n  this.D_Cyan = 0\n  this.D_Magenta = 0\n  this.D_Pantone = 0\n  this.D_Tintas = []\n    for(let i=0;i<dev.length;i++){\n      for(let x=0;x<dev[i].filtrado.length;x++){\n        let material = dev[i].filtrado[x]\n        let color = material.material.color\n        let grupo = material.material.grupo\n        if(color && grupo == \"61fd54e2d9115415a4416f17\"){\n          switch(color){\n            case 'Amarillo':\n              this.D_Amarillo = this.D_Amarillo + Number(material.cantidad)\n              break;\n            case 'Cyan':\n              this.D_Cyan = this.D_Cyan + Number(material.cantidad)\n              break;\n            case 'Magenta':\n              this.D_Magenta = this.D_Magenta + Number(material.cantidad)\n              break;\n            case 'Negro':\n              this.D_Negro = this.D_Negro + Number(material.cantidad)\n              break;\n            default:\n              this.D_Pantone = this.D_Pantone + Number(material.cantidad)\n              break;\n          }\n        }\n\n        let index = this.D_Tintas.findIndex(x => x.color == material.material.nombre && x.marca == material.marca)\n        if(index == -1){\n          this.D_Tintas.push({color:material.nombre, marca:material.marca,cantidad:material.cantidad})\n          // alert(index)\n        }else{\n          this.D_Tintas[index].cantidad = this.D_Tintas[index].cantidad + Number(material.cantidad)\n          // alert('aja')\n        }\n\n      }\n    }\n  }\n\n\n  devoluciones_(id,op){\n    let data = 0;\n    let x = 0\n    let y = 0\n      for(let i=0;i<this.c_devoluciones.length;i++){\n        x++\n        y = 0\n        let len = this.c_devoluciones[i].filtrado\n        for(let n=0;n<len.length;n++){\n          y++;\n          if(this.c_devoluciones[i].filtrado[n].material == id){\n            data = data + this.c_devoluciones[i].filtrado[n].cantidad;\n            // console.log(this.c_devoluciones[i].filtrado[n])\n          }\n          if(x == this.c_devoluciones.length && y == len.length){\n            if(data > 0){\n              return data.toFixed(2);\n            }else{\n              return data\n            }\n          }\n        }\n      }\n\n      // let dev_filtered = this.c_devoluciones.filter(x=> x.filtrado.material === id)\n      // console.log(dev_filtered)\n      // if(dev_filtered.length > 0){\n      //   return '150'\n      // }else{\n      //   return '0'\n      // }\n\n      // for(let i=0;i<this.c_devoluciones.length;i++){\n      //   let len = this.c_devoluciones[i].filtrado\n      //   for(let n=0;n<len.length;n++){\n      //     if(this.c_devoluciones[i].filtrado[n].material === id){\n      //       let duplicado = this.devoluc.find(x => x.material == id);\n      //       if(duplicado){\n      //         let index_ = this.devoluc.findIndex(x=> x.material == id)\n      //         this.devoluc[index_].cantidad = this.devoluc[index_].cantidad + this.c_devoluciones[i].filtrado[n].cantidad\n      //       }else{\n      //         this.devoluc.push({material:id, cantidad:this.c_devoluciones[i].filtrado[n].cantidad})\n      //       }\n      //     }\n      //   }\n      // }\n    }\n\n}\n","<app-gestiones\n[modal_gestiones]='modal_gestiones'\n[g_trabajos]=\"g_trabajos\"\n[g_gestiones]=\"g_gestiones\"\n(onCloseModal) = \"modal_gestiones = false\"></app-gestiones>\n<app-consumo\n[modal_consumos]=\"modal_consumos\"\n[c_lotes]=\"c_lotes\"\n[lote_mayor] = \"lote_mayor\"\n[c_devoluciones] = \"c_devoluciones\"\n(onCloseModal)=\"modal_consumos = false\">\n</app-consumo>\n\n<app-despachos\n[modal_despacho]=\"modal_despacho\"\n[despachos_filtrado]=\"despachos_filtrado\"\n[despachos_orden]=\"despachos_orden\"\n[lote_mayor] = \"lote_mayor\"\n[Ej_montados]=\"Ej_montados\"\n(onCloseModal)=\"modal_despacho = false\">\n</app-despachos>\n\n<button class=\"ordenes_button\" *ngIf=\"!vacio && !cargando && !sinBusqueda\">\n    <button class=\"is-primary button\" (click)=\"rolltoorders()\">\n        Ordenes\n    </button>\n</button>\n\n<div class=\"containe mt-5\">\n    <div class=\"titulo\">\n        Estadísticas\n    </div>\n    <div class=\"card\">\n        <div class=\"card-content is-primary\">\n            <div class=\"columns\">\n                <div class=\"column is-2\">\n                    <div class=\"control\">\n                        <span class=\"select is-small\">\n                            <select id=\"\" (change)=\"busquedaInteligente($event.target.value)\">\n                                <option value=\"fecha\">Por fecha</option>\n                                <option value=\"cliente\">Por cliente</option>\n                                <option value=\"orden\">Por orden de producción</option>\n                                <option value=\"maquina\">Por Maquina</option>\n                                <!-- <option value=\"oCompra\">Por orden de compra</option> -->\n                            </select>\n                        </span>\n                    </div>\n                </div>\n                <div class=\"column is-2\" *ngIf=\"clientes_form\">\n                    <div class=\"control\">\n                        <span class=\"select is-small\">\n                            <select value=\"#\" id=\"cliente_select\" (change)=\"Cliente_Selected($event.target.value)\">\n                                <option value=\"#\">Seleccionar cliente</option>\n                                <option value=\"{{cliente._id}}\" *ngFor=\"let cliente of busqueda_clientes.clientes\">{{cliente.nombre}}</option>\n                            </select>\n                        </span>\n                    </div>\n                </div>\n                <div class=\"column is-2\" *ngIf=\"producto_form\">\n                    <div class=\"control\">\n                        <span class=\"select is-small\">\n                            <select id=\"producto_select\" (change)=\"Producto_Selected($event.target.value)\">\n                                <option value=\"#\">Todos los productos</option>\n                                <option value=\"{{producto._id}}\" *ngFor=\"let producto of Productos_by_client.productos\">{{producto.producto}}</option>\n                            </select>\n                        </span>\n                    </div>\n                </div>\n                <div class=\"column is-2\" *ngIf=\"busqueda_orden\">\n                    <div class=\"control\">\n                        <input type=\"text\" class=\"input is-small\" placeholder=\"Orden de Producción\" id=\"OP\">\n                    </div>\n                </div>\n                <!-- <div class=\"column is-2\">\n                    <div class=\"control\">\n                        <input type=\"text\" class=\"input is-small\" placeholder=\"Orden de compra\">\n                    </div>\n                </div> -->\n            </div>\n            <div class=\"column is-2\" *ngIf=\"busqueda_orden\">\n                <div class=\"control\">\n                    <label class=\"label\"> </label>\n                    <button class=\"button is-primary is-small\" (click)=\"Buscar_estadisticas('orden','orden')\">Buscar</button>\n                </div>\n            </div>\n            <div class=\"columns\" *ngIf=\"!busqueda_orden\">\n                <div class=\"column is-2\">\n                    <div class=\"control\">\n                        <label class=\"label\">Desde:</label>\n                        <input type=\"date\" class=\"input is-small\" #desde>\n                    </div>\n                </div>\n                <div class=\"column is-2\">\n                    <div class=\"control\">\n                        <label class=\"label\">Hasta:</label>\n                        <input type=\"date\" class=\"input is-small\" #hasta>\n                    </div>\n                </div>\n                <div class=\"column\">\n                    <div class=\"control\">\n                        <label class=\"label\"> </label>\n                        <button class=\"button is-primary is-small\" (click)=\"Buscar_estadisticas(desde.value, hasta.value)\">Buscar</button>\n                    </div>\n                </div>\n            </div>\n        \n        </div>\n    </div>\n    <br>\n    <!-- *******************************************************************************\n    ORDENES ENCONTRADAS EN LA FECHA ESTIMADA\n    ******************************************************************** -->\n    <div class=\"card\">\n        <div class=\"card-content\">\n            <div class=\"carga\" *ngIf=\"sinBusqueda\">\n                No se ha realizado ninguna consulta aun\n                <i class=\"far fa-clock\"></i>\n            </div>\n            <div class=\"carga_\" *ngIf=\"cargando\">\n                <div class=\"loader\">\n                    <span style=\"--i:2\"></span>\n                    <span style=\"--i:3\"></span>\n                    <span style=\"--i:1\"></span>\n                    <span style=\"--i:4\"></span>\n                    <span style=\"--i:5\"></span>\n                    <span style=\"--i:6\"></span>\n                    <span style=\"--i:7\"></span>\n                    <span style=\"--i:8\"></span>\n                    <span style=\"--i:9\"></span>\n                    <span style=\"--i:10\"></span>\n                </div>\n                <span class=\"text\">Cargando, esto puede tomar un tiempo.</span>\n            </div>\n            <div class=\"empty\" *ngIf=\"vacio\">\n                No hay ordenes en la fecha indicada \n                <i class=\"fas fa-folder-open\"></i>\n            </div>\n        </div>\n    </div>\n    <div class=\"columns\">\n        <div class=\"column\">\n            <div class=\"card\">\n                <div class=\"card-content\">\n                    <div class=\"columns\">\n                        <div class=\"column is-half\">\n                            <div class=\"xlarge\" *ngIf=\"!Sustrato_load\">\n                                <i class=\"fas fa-sticky-note\"></i> Sustrato\n                            </div>\n                            <table class=\"table is-fullwidth\" *ngIf=\"!Sustrato_load && detalles_sustratos\">\n                                <thead>\n                                    <tr>\n                                        <th>Descripción</th>\n                                        <th>Cant.</th>\n                                        <th>Peso</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr *ngFor=\"let sustrato of data.asignados.Sustratos;let i as index\">\n                                        <ng-container>\n                                            <td>\n                                                {{sustrato.Nombre}} {{sustrato.Ancho}}x{{sustrato.Largo}} ({{sustrato.Marca}})\n                                                <br>\n                                                <strong>Calibre:</strong>\n                                                {{sustrato.Calibre}},\n                                                <strong>Gramaje:</strong>\n                                                {{sustrato.Gramaje}}\n                                            </td>\n                                            <td>\n                                                {{puntoYcoma(sustrato.Cantidad)}}Und\n                                            </td>\n                                            <td>\n                                                {{puntoYcoma(sustrato.Peso)}}\n                                                <!-- {{MostrarPeso(sustrato.Cantidad,sustrato.Gramaje,sustrato.Ancho,sustrato.Largo)}}t -->\n                                            </td>\n                                        </ng-container>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            <table class=\" table is-fullwidth\" *ngIf=\"!Sustrato_load\">\n                                <tr  class=\"is-selected\">\n                                    <th colspan=\"2\">\n                                        <span class=\"titulo_sustrato\">\n                                            Peso de sustrato consumido\n                                        </span>\n                                        <span class=\"icono\" (click)=\"detalles_sustrato()\">\n                                            <ng-container *ngIf=\"!detalles_sustratos\">\n                                                <i class=\"fas fa-plus\"></i>\n                                            </ng-container>\n                                            <ng-container *ngIf=\"detalles_sustratos\">\n                                                <i class=\"fas fa-minus\"></i>\n                                            </ng-container>\n                                        </span>\n                                    </th>\n                                </tr>\n                                <tr>\n                                    <th>\n                                        <span class=\"titulo_sustrato\">\n                                            Papel\n                                        </span>\n                                    </th>\n                                    <th>\n                                        <span class=\"titulo_sustrato\">\n                                            Cartón\n                                        </span>\n                                    </th>\n                                </tr>\n                                <tr>\n                                    <th>\n                                        <span class=\"titulo_sustrato xlarge\">\n                                            {{puntoYcoma(data.asignados.Papel)}}t\n                                        </span>\n                                    </th>\n                                    <th>\n                                        <span class=\"titulo_sustrato xlarge\">\n                                            {{puntoYcoma(data.asignados.Carton)}}t\n                                        </span>\n                                    </th>\n                                </tr>\n                            </table>\n                        </div>\n                        <div class=\"column\"></div>\n\n                        <div class=\"column is-one-third\">\n                            <div class=\"chart-container\">\n                                <canvas  id=\"Sustrato_chart\" width=\"100\" height=\"100\">{{ sustrato_char }}</canvas>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"columns\">\n        <div class=\"column\">\n            <div class=\"card\">\n                <div class=\"card-content\">\n                    <div class=\"columns\">\n                        <div class=\"column\">\n                            <div class=\"xlarge\" *ngIf=\"!Tinta_load\">\n                                <i class=\"fas fa-palette\"></i>    Tinta\n                            </div>\n                            <table class=\"table is-fullwidth\" *ngIf=\"detalles_tintas\">\n                                <thead>\n                                    <tr>\n                                        <th>Color</th>\n                                        <th>Asignado</th>\n                                        <th>Devuelto</th>\n                                        <th>Total</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <td>Amarillo</td>\n                                        <td>{{puntoYcoma(aMASa(data.asignados.detalle_tintas.Amarillo,data.adicionales.detalle_tintas.Amarillo))}}Kg</td>\n                                        <td>{{puntoYcoma(data.Colores_devueltos.Amarillo)}}</td>\n                                        <td>{{puntoYcoma(aMENOSa(aMASa(data.asignados.detalle_tintas.Amarillo,data.adicionales.detalle_tintas.Amarillo),data.Colores_devueltos.Amarillo))}}</td>\n                                        <!-- <td>{{D_Amarillo.toFixed(2)}}Kg</td>\n                                        <td class=\"is-selected\">{{((Amarillo).toFixed(2) - D_Amarillo.toFixed(2)).toFixed(2)}}Kg</td> -->\n                                    </tr>\n                                    <tr>\n                                        <td>Cyan</td>\n                                        <td>{{puntoYcoma(aMASa(data.asignados.detalle_tintas.Cyan,data.adicionales.detalle_tintas.Cyan))}}Kg</td>\n                                        <td>{{puntoYcoma(data.Colores_devueltos.Cyan)}}</td>\n                                        <td>{{puntoYcoma(aMENOSa(aMASa(data.asignados.detalle_tintas.Cyan,data.adicionales.detalle_tintas.Cyan),data.Colores_devueltos.Cyan))}}</td>\n                                        <!-- <td>{{D_Cyan.toFixed(2)}}Kg</td>\n                                        <td class=\"is-selected\">{{((Cyan).toFixed(2) - D_Cyan.toFixed(2)).toFixed(2)}}Kg</td> -->\n                                    </tr>\n                                    <tr>\n                                        <td>Magenta</td>\n                                        <td>{{puntoYcoma(aMASa(data.asignados.detalle_tintas.Magenta,data.adicionales.detalle_tintas.Magenta))}}Kg</td>\n                                        <td>{{puntoYcoma(data.Colores_devueltos.Magenta)}}</td>\n                                        <td>{{puntoYcoma(aMENOSa(aMASa(data.asignados.detalle_tintas.Magenta,data.adicionales.detalle_tintas.Magenta),data.Colores_devueltos.Magenta))}}</td>\n                                        <!-- <td>{{D_Magenta.toFixed(2)}}Kg</td>\n                                        <td class=\"is-selected\">{{((Magenta).toFixed(2) - D_Magenta.toFixed(2)).toFixed(2)}}Kg</td> -->\n                                    </tr>\n                                    <tr>\n                                        <td>Negro</td>\n                                        <td>{{puntoYcoma(aMASa(data.asignados.detalle_tintas.Negro,data.adicionales.detalle_tintas.Negro))}}Kg</td>\n                                        <td>{{puntoYcoma(data.Colores_devueltos.Negro)}}</td>\n                                        <td>{{puntoYcoma(aMENOSa(aMASa(data.asignados.detalle_tintas.Negro,data.adicionales.detalle_tintas.Negro),data.Colores_devueltos.Negro))}}</td>\n                                        <!-- <td>{{D_Negro.toFixed(2)}}Kg</td>\n                                        <td class=\"is-selected\">{{((Negro).toFixed(2) - D_Negro.toFixed(2)).toFixed(2)}}Kg</td> -->\n                                    </tr>\n                                    <tr>\n                                        <td>Pantone</td>\n                                        <td>{{puntoYcoma(aMASa(data.asignados.detalle_tintas.Pantone,data.adicionales.detalle_tintas.Pantone))}}Kg</td>\n                                        <td>{{puntoYcoma(data.Colores_devueltos.Pantone)}}</td>\n                                        <td>{{puntoYcoma(aMENOSa(aMASa(data.asignados.detalle_tintas.Pantone,data.adicionales.detalle_tintas.Pantone),data.Colores_devueltos.Pantone))}}</td>\n                                        <!-- <td>{{D_Pantone.toFixed(2)}}</td>\n                                        <td class=\"is-selected\">{{((Otros_c).toFixed(2) - D_Pantone.toFixed(2)).toFixed(2)}}Kg</td> -->\n                                    </tr>\n                                    <tr class=\"is-selected\">\n                                        <th>Total</th>\n                                        <th>{{puntoYcoma(data.Suma_de_tintas)}}Kg</th>\n                                        <th>{{puntoYcoma(data.total_tintas_devueltas)}}Kg</th>\n                                        <th>{{puntoYcoma(aMENOSa(data.Suma_de_tintas,data.total_tintas_devueltas))}}Kg</th>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            <table class=\"table is-fullwidth\" *ngIf=\"!Tinta_load\">\n                                <thead>\n                                    <tr class=\"is-selected\">\n                                        <th class=\"titulo_sustrato\">Tinta consumida\n                                            <span class=\"icono\" (click)=\"detalles_tinta()\">\n                                                <ng-container *ngIf=\"!detalles_tintas\">\n                                                    <i class=\"fas fa-plus\"></i>\n                                                </ng-container>\n                                                <ng-container *ngIf=\"detalles_tintas\">\n                                                    <i class=\"fas fa-minus\"></i>\n                                                </ng-container>\n                                            </span>\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <th class=\"xlarge\">\n                                            {{puntoYcoma(aMENOSa(data.Suma_de_tintas,data.total_tintas_devueltas))}}Kg</th>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            <a (click)=\"modalTintas()\" *ngIf=\"!Tinta_load\">Ver detalles</a>\n                            <!-- test ********************************************** -->\n                            <div class=\"modal is-active\" [ngClass]=\"{'is-active':DetallesTinta}\" *ngIf=\"!Tinta_load\">\n                                <div class=\"modal-background\" (click)=\"modalTintas()\"></div>\n                                <div class=\"modal-card detalles\">\n                                    <div class=\"modal-card-body\">\n                                        <div class=\"columns\">\n                                            <div class=\"column columna_izquierda\">\n                                                <div class=\"subtitulo\">Asignado a ordenes</div>\n                                                <table class=\"table is-fullwidth\">\n                                                    <thead>\n                                                        <th>\n                                                            Material\n                                                        </th>\n                                                        <th>Cant.</th>\n                                                    </thead>\n                                                    <tbody>\n                                                        <tr *ngFor=\"let tinta of data.asignados.Tintas;let i as index\">\n                                                                    <td>\n                                                                        {{tinta.Nombre}} ({{tinta.Marca}})\n                                                                    </td>\n                                                                    <td>\n                                                                        {{tinta.Cantidad}}Kg\n                                                                    </td>\n                                                            </tr>\n                                                    </tbody>\n                                                </table>\n                                                <div class=\"subtitulo\">Asignado por solicitud adicional</div>\n                                                <table class=\"table is-fullwidth\">\n                                                    <thead>\n                                                        <th>\n                                                            Material\n                                                        </th>\n                                                        <th>Cant.</th>\n                                                    </thead>\n                                                    <tbody>\n                                                        <tr *ngFor=\"let tinta of data.adicionales.Tintas;let i as index\">\n                                                                    <td>\n                                                                        {{tinta.Nombre}} ({{tinta.Marca}})\n                                                                    </td>\n                                                                    <td>\n                                                                        {{tinta.Cantidad}}Kg\n                                                                    </td>\n                                                            </tr>\n                                                    </tbody>\n                                                </table>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <!-- test ********************************************** -->\n                        </div>\n                        <div class=\"column\">\n                            <div class=\"chart-container\">\n                                <canvas  id=\"MyChart\" >{{ chart }}</canvas>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"columns\">\n        <div class=\"column\">\n            <div class=\"card\">\n                <div class=\"card-content\">\n                    <div class=\"columns\">\n                        <div class=\"column is-half\">\n                            <div class=\"xlarge\" *ngIf=\"!Barniz_load\">\n                                <i class=\"fas fa-air-freshener\"></i> Barniz\n                            </div>\n                            <table class=\"table is-fullwidth\" *ngIf=\"detalles_barniz\">\n                                <tr>\n                                    <th>Barniz S/Impresión</th>\n                                    <th>Asignado</th>\n                                    <th>Devuelto</th>\n                                    <th>Total</th>\n                                </tr>\n                                <tr *ngFor=\"let Barniz of data.Barniz.Barniz\">\n                                    <td>\n                                        {{Barniz.Nombre}}({{Barniz.Marca}})\n                                    </td>\n                                    <td>\n                                        {{puntoYcoma(Barniz.Cantidad)}}kg.\n                                    </td>\n                                    <td>\n                                        {{puntoYcoma(descuento('Barniz',Barniz.Nombre,Barniz.Marca))}}\n                                    </td>\n                                    <td>\n                                        {{(Barniz.Cantidad - descuento('Barniz',Barniz.Nombre,Barniz.Marca)).toFixed(2)}}\n                                        <!-- {{restar__(Barniz.Nombre,Barniz.Marca,Barniz.Cantidad)}}kg. -->\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <th>Barniz Acuoso</th>\n                                    <th>Asignado</th>\n                                    <th>Devuelto</th>\n                                    <th>Total</th>\n                                </tr>\n                                <tr *ngFor=\"let Barniz of data.Barniz.Barniz_acuoso\">\n                                    <td>\n                                        {{Barniz.Nombre}}({{Barniz.Marca}})\n                                    </td>\n                                    <td>\n                                        {{puntoYcoma(Barniz.Cantidad)}}L.\n                                    </td>\n                                    <td>\n                                        0,00L\n                                    </td>\n                                    <td>\n                                        {{puntoYcoma(Barniz.Cantidad)}}L.\n                                        <!-- {{restar__(Barniz.Nombre,Barniz.Marca,Barniz.Cantidad)}}L. -->\n                                    </td>\n                                </tr>\n                            </table>\n                            <table class=\"table is-fullwidth\" *ngIf=\"!Barniz_load\">\n                                <tr class=\"is-selected\">\n                                    <th class=\"titulo_sustrato\" colspan=\"2\">\n                                        Barniz consumido\n                                        <span class=\"icono\" (click)=\"detalle_barniz()\">\n                                            <ng-container *ngIf=\"!detalles_barniz\">\n                                                <i class=\"fas fa-plus\"></i>\n                                            </ng-container>\n                                            <ng-container *ngIf=\"detalles_barniz\">\n                                                <i class=\"fas fa-minus\"></i>\n                                            </ng-container>\n                                        </span>\n                                    </th>\n                                </tr>\n                                <tr>\n                                    <th>Barniz S/Impresión</th>\n                                    <th>Barniz Acuoso</th>   \n                                </tr>\n                                <tr>\n                                    <th class=\"xlarge\">{{puntoYcoma(data.Barniz.Total_Barniz-data.Barniz.Devolucion_Total_barniz)}}kg.</th>\n                                    <th class=\"xlarge\">{{puntoYcoma(data.Barniz.Total_barniz_acuoso)}}L. / {{puntoYcoma(data.Barniz.Total_barniz_acuoso * 0.868)}}kg</th>\n                                </tr>\n                            </table>\n                        </div>\n                        <div class=\"column\"></div>\n\n                        <div class=\"column is-one-third\">\n                            <div class=\"chart-container\">\n                                <canvas  id=\"Barniz_chart\" width=\"100\" height=\"100\">{{ barniz_char }}</canvas>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"columns\">\n        <div class=\"column\">\n            <div class=\"card\">\n                <div class=\"card-content\">\n                    <div class=\"columns\">\n                        <div class=\"column is-half\">\n                            <div class=\"xlarge\" *ngIf=\"!Cajas_loading\">\n                                <i class=\"fas fa-boxes\"></i> Cajas Corrugadas\n                            </div>\n                            <table class=\"table is-fullwidth\" *ngIf=\"!Cajas_loading\">\n                                <tr>\n                                    <th colspan=\"11\" class=\"is-selected titulo_sustrato\">Cajas</th>\n                                </tr>\n                                <tr>\n                                    <th></th>\n                                    <ng-container *ngFor=\"let cajas of data.Caja.Caja\">\n                                        <td class=\"titulo_sustrato\">{{cajas.Nombre}}</td>\n                                    </ng-container>\n                                </tr>\n                                <tr>\n                                    <th>Asignado</th>\n                                    <ng-container *ngFor=\"let cajas of data.Caja.Caja\">\n                                        <th class=\"titulo_sustrato\">{{puntoYcoma(cajas.Cantidad)}}</th>\n                                    </ng-container>\n                                </tr>\n                                <tr>\n                                    <th>Devuelto</th>\n                                    <ng-container *ngFor=\"let cajas of data.Caja.Caja\">\n                                        <th class=\"titulo_sustrato\">{{puntoYcoma(descuento('Caja',cajas.Nombre,0))}}</th>\n                                    </ng-container>\n                                </tr>\n                                <tr>   \n                                    <th>Total</th>\n                                    <ng-container *ngFor=\"let cajas of data.Caja.Caja\">\n                                        <th class=\"titulo_sustrato\">{{puntoYcoma(cajas.Cantidad-descuento('Caja',cajas.Nombre,0))}}</th>\n                                    </ng-container>\n                                </tr>\n                            </table>\n                        </div>\n                        <div class=\"column\"></div>\n                        <div class=\"column\">\n                            <div class=\"chart-container_cajas\">\n                                <canvas  id=\"Caja_chart\" width=\"100\" height=\"100\">{{Caja_chart}}</canvas>\n                            </div>\n                            <div class=\"space\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"columns\">\n        <div class=\"column\">\n            <div class=\"card\">\n                <div class=\"card-content\">\n                    <div class=\"columns\">\n                        <div class=\"column is-half\">\n                            <div class=\"xlarge\" *ngIf=\"!Pega_loading\">\n                                <i class=\"fas fa-tint\"></i> Pega\n                            </div>\n                            <table class=\"table is-fullwidth\" *ngIf=\"detalles_pega\">\n                                <tr>\n                                    <th>Pega</th>\n                                    <th>Asignado</th>\n                                    <th>Devuelto</th>\n                                    <th>Total</th>\n                                </tr>\n                                <tr *ngFor=\"let Pega of data.Pega.Pega\">\n                                    <td>\n                                        {{Pega.Nombre}}({{Pega.Marca}})\n                                    </td>\n                                    <th>\n                                        {{puntoYcoma(Pega.Cantidad)}}L.\n                                    </th>\n                                    <th>\n                                        {{descuento('Pega',Pega.Nombre,Pega.Marca)}}\n                                    </th>\n                                    <th>\n                                        {{puntoYcoma(Pega.Cantidad - descuento('Pega',Pega.Nombre,Pega.Marca))}}\n                                    </th>\n                                </tr>\n                            </table>\n                            <table class=\"table is-fullwidth\" *ngIf=\"!Pega_loading\">\n                                <thead>\n                                    <tr class=\"is-selected\">\n                                        <th class=\"titulo_sustrato\" colspan=\"2\">\n                                            Pega Consumida\n                                            <span class=\"icono\" (click)=\"detalle_pega()\">\n                                                <ng-container *ngIf=\"!detalles_pega\">\n                                                    <i class=\"fas fa-plus\"></i>\n                                                </ng-container>\n                                                <ng-container *ngIf=\"detalles_pega\">\n                                                    <i class=\"fas fa-minus\"></i>\n                                                </ng-container>\n                                            </span>\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <th class=\"xlarge\">\n                                            {{puntoYcoma(data.Pega.Total_Pega-data.Pega.Devolucion_Total_pega)}}L.\n                                        </th>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <div class=\"column\"></div>\n                        <div class=\"column is-one-third\">\n                            <div class=\"chart-container\">\n                                <canvas  id=\"Pega_chart\" width=\"100\" height=\"100\">{{Pega_chart}}</canvas>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"card\">\n        <div class=\"card-content\">\n            \n            <div class=\"columns\" id=\"orders\">\n                <div class=\"column\">\n                    <div class=\"info\" *ngIf=\"!vacio && !cargando && !sinBusqueda\">\n                        <div class=\"subtitulos xlarge\">\n                            <b>Cantidad de Ordenes:</b> \n                            {{data.Ordenes.length}}\n                        </div>\n                        <div class=\"orden\">\n                            <table class=\"table is-fullwidth\" *ngFor=\"let orden of data.Ordenes;let impar = odd;let par = even;\" [ngClass]=\"{impar:impar}\">\n                                <tr>\n                                    <th colspan=\"3\">\n                                        {{orden.sort}} - {{orden.producto.producto}} <a class=\"link\" href=\"/orden-produccion/{{orden._id}}\" target=\"_blank\"><i class=\"fas fa-eye link\"></i></a> / <i class=\"fas fa-question-circle link\" (click)=\"gestiones_(orden._id, orden.sort)\"></i> / <i class=\"fas fa-chart-bar link\" (click)=\"consumos(orden._id, orden.sort)\"></i> / <i class=\"fas fa-chart-line link\" (click)=\"despachos_porcentaje(orden.sort,orden.producto.ejemplares[orden.montaje])\"></i><br>\n                                    </th>\n                                </tr>\n                                <!-- <tr> -->\n                                    <!-- <td>{{orden.sort}} <i class=\"far fa-eye\" (click)='alert(orden._id)'></i></td> -->\n                                    <!-- <td class=\"link\" (click)=\"gestiones_(orden._id, orden.sort)\">Gestiones <i class=\"fas fa-question-circle\"></i></td>\n                                    <td class=\"link\" (click)=\"consumos(orden._id, orden.sort)\">Consumo <i class=\"fas fa-chart-bar\"></i></td> -->\n                                    <!-- <td><b>Inicio: </b>{{orden.fecha | date: 'dd/MM/yyyy': 'UTC'}}</td>\n                                    <td><b>Despachado:</b> {{GetDespacho(orden.sort)}}</td> -->\n                                <!-- </tr> -->\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            <br>\n        </div>\n    </div>\n<br>\n\n<div class=\"columns\" *ngIf=\"!vacio && !cargando && !sinBusqueda\">\n    <div class=\"column\">\n        <div class=\"card\">\n            <div class=\"card-content adicionales\">\n                <p class=\"subtitulos\">\n                    <i class=\"fas fa-comments-dollar\"></i> Solicitudes Realizadas\n                </p>\n                <table class=\"table is-fullwidth\">\n                    <tr>\n                        <th>Material</th>\n                        <th>Cant.</th>\n                        <th>Fecha</th>\n                    </tr>\n                    <!-- <div class=\"adicionales\"> -->\n                        <!-- <ng-container *ngFor=\"let adicional of adicionales\">\n                            <ng-container *ngFor=\"let material of adicional.material\">\n                                <tr>\n                                    <td>{{material.material.nombre}} ({{material.material.marca}})</td>\n                                    <ng-container *ngIf=\"material.material.grupo != '61fd54e2d9115415a4416f17'\">\n                                        <td>{{material.cantidad}} {{material.material.unidad}}</td>\n                                    </ng-container>\n                                    <ng-containe *ngIf=\"material.material.grupo == '61fd54e2d9115415a4416f17'\">\n                                        <td>{{material.EA_Cantidad}} {{material.material.unidad}}</td> \n                                    </ng-containe>\n                                    <td>{{adicional.fecha | date: 'dd/MM/yyyy': 'UTC'}}</td>\n                                </tr>\n                            </ng-container>\n                        </ng-container> -->\n                    <!-- </div> -->\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n\n<!-- **************************************************************\n    ORDENES ENCONTRADAS EN LA FECHA ESTIMADA\n    ******************************************************************** -->\n</div>\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-consumo',\n  templateUrl: './consumo.component.html',\n  styleUrls: ['./consumo.component.css']\n})\nexport class ConsumoComponent implements OnInit {\n\n  @Input() modal_consumos:any\n  @Input() c_lotes:any\n  @Input() lote_mayor:any\n  @Input() c_devoluciones:any\n\n  @Output() onCloseModal = new EventEmitter();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n\n  closemodal(){\n    this.onCloseModal.emit();\n  }\n\n  Formatear(a,b){\n    let c = (a-b).toFixed(2)\n    return c\n  }\n\n  public devoluc = []\n  devoluciones_(nombre, id,op){\n  let data = 0;\n  let x = 0\n  let y = 0\n    for(let i=0;i<this.c_devoluciones.length;i++){ \n      x++\n      y = 0\n      let len = this.c_devoluciones[i].filtrado\n      for(let n=0;n<len.length;n++){\n        y++;\n        // console.log(this.c_devoluciones[i].filtrado[n].material.grupo)\n        if(this.c_devoluciones[i].filtrado[n].material.grupo === '63625feecd436f1a90a1ea7d'){\n          if(this.c_devoluciones[i].filtrado[n].material.nombre === nombre){\n            data = data + this.c_devoluciones[i].filtrado[n].cantidad;\n          }\n        }else if(this.c_devoluciones[i].filtrado[n].material.grupo === '61fd7a8ed9115415a4416f74' || this.c_devoluciones[i].filtrado[n].material.grupo === '61fd6300d9115415a4416f60'){\n          // console.log(this.c_devoluciones[i].filtrado[n].material)\n          if(this.c_devoluciones[i].filtrado[n].material.nombre === nombre){\n            data = data + this.c_devoluciones[i].filtrado[n].cantidad;\n          }\n        }else if(this.c_devoluciones[i].filtrado[n].material._id == id){\n          data = data + this.c_devoluciones[i].filtrado[n].cantidad;\n          // console.log(this.c_devoluciones[i].filtrado[n])\n        }\n        if(i == this.c_devoluciones.length -1  && n == len.length -1){\n          if(data > 0){\n            return data.toFixed(2);\n          }else{\n            return data.toFixed(2)\n          }\n        }\n      }\n    }\n\n    // let dev_filtered = this.c_devoluciones.filter(x=> x.filtrado.material === id)\n    // console.log(dev_filtered)\n    // if(dev_filtered.length > 0){\n    //   return '150'\n    // }else{\n    //   return '0'\n    // }\n\n    // for(let i=0;i<this.c_devoluciones.length;i++){\n    //   let len = this.c_devoluciones[i].filtrado\n    //   for(let n=0;n<len.length;n++){\n    //     if(this.c_devoluciones[i].filtrado[n].material === id){\n    //       let duplicado = this.devoluc.find(x => x.material == id);\n    //       if(duplicado){\n    //         let index_ = this.devoluc.findIndex(x=> x.material == id) \n    //         this.devoluc[index_].cantidad = this.devoluc[index_].cantidad + this.c_devoluciones[i].filtrado[n].cantidad\n    //       }else{\n    //         this.devoluc.push({material:id, cantidad:this.c_devoluciones[i].filtrado[n].cantidad})\n    //       }\n    //     }\n    //   }\n    // }\n  }\n\n  dec(n){\n    return Number(n).toFixed(2)\n  }\n\n}\n","<div class=\"modal\" [ngClass]=\"{'is-active':modal_consumos}\">\n    <div class=\"modal-background\" (click)=\"closemodal()\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <div class=\"subtitulo\">\n                Consumo\n            </div>\n            <table class=\"table is-fullwidth\">\n                <tr>\n                    <th>Material</th>\n                    <th>Cantidad</th>\n                    <th>Devolución</th>\n                    <th>Total</th>\n                </tr>\n                <tr *ngFor=\"let material of lote_mayor\">\n                    <ng-container *ngIf=\"material.ancho\">\n                        <td>{{material.nombre}} {{material.ancho}} x {{material.largo}} ({{material.marca}})  - cal:{{material.calibre}}</td>\n                    </ng-container>\n                    <ng-container *ngIf=\"!material.ancho\">\n                        <td>{{material.nombre}} ({{material.marca}})</td>\n                    </ng-container>\n                    <td>\n                        {{dec(material.cantidad)}}\n                        <!-- <ng-container *ngIf=\"material.cantidad == 0\">\n                            {{material.cantidad}} m\n                        </ng-container>\n                        <ng-container *ngIf=\"material.cantidad != 0\">\n                        </ng-container> -->\n                    </td>\n                    <td>{{devoluciones_(material.nombre,material.id,material.op)}}</td>\n                    <td>\n                        {{Formatear(material.cantidad,(devoluciones_(material.nombre,material.id,material.op)))}}\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport Swal from 'sweetalert2';\nimport { RestApiService } from '../services/rest-api.service';\n\n@Component({\n  selector: 'app-token-validation',\n  templateUrl: './token-validation.component.html',\n  styleUrls: ['./token-validation.component.css']\n})\nexport class TokenValidationComponent implements OnInit {\n\n  constructor(private api:RestApiService,\n              private router:Router) { \n    this.usuario = this.api.usuario\n    console.log(this.usuario)\n  }\n\n\n  public usuario\n  public nuevo_pin:boolean = true\n  public sin_autorizar = true\n\n  ngOnInit(): void {\n\n    if(this.usuario.Precios === 1){\n      if(this.usuario.pin === ''){\n        this.nuevo_pin = true\n      }else{\n        this.nuevo_pin = false\n      }\n    }else{\n      this.sin_autorizar = true;\n      this.router.navigateByUrl('/')\n    }\n  }\n\n  public pin1 = ''\n  public pin2 = ''\n\n\n  Crear_pin(){\n    let data = {\n      pin:this.pin2,\n      correo:this.usuario.Correo\n    }\n    this.api.crearPin(data)\n      .subscribe((resp:any)=>{\n        Swal.fire({\n          title:'Pin creado',\n          text:'Se creó nuevo PIN para acceder al modulo',\n          icon:'success',\n          showConfirmButton:true\n        })\n        this.usuario.pin = '0'\n        this.nuevo_pin = false\n      })\n  }\n\n  Verificar(pin){\n    let data = {\n      correo: this.usuario.Correo,\n      pin\n    }\n    this.api.TwoStepsValidation(data)\n    .subscribe((resp:any) =>{\n      localStorage.setItem('token_two', resp.token_two);\n      this.router.navigateByUrl('/ventas')\n    }, (err) => {\n      // console.log(err)\n      Swal.fire({title:'Error', text:err.error.err.message,icon:'error',showConfirmButton:false})\n    })\n  }\n\n}\n","<div class=\"modal is-active\" *ngIf=\"!nuevo_pin\">\n    <div class=\"modal-background\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <span class=\"volver\">\n                <a href=\"/\"><i class=\"fas fa-angle-double-left\"></i></a>\n            </span>\n            <!-- <span class=\"logo\">\n                <i class=\"fas fa-user-secret\"></i>\n            </span>  -->\n            <span class=\"logo\">\n                <img src=\"../../assets/blindaje.png\" width=\"150\">\n            </span>\n            <span class=\"subtitulo\">\n               Ingrese su PIN\n            </span>\n            <br>\n            <!-- <hr> -->\n            <input type=\"password\" class=\"input\" #pin><br><br>\n            <span class=\"confirmacion\">\n                <button class=\"button is-success\" (click)=\"Verificar(pin.value)\">\n                    Continuar\n                </button>\n            </span>\n        </div>\n    </div>\n</div>\n\n<div>\n\n</div>\n\n<div class=\"modal is-active\" *ngIf=\"nuevo_pin\">\n    <div class=\"modal-background\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <span class=\"subtitulo\">\n                Crear PIN de seguridad\n            </span><br>\n            Crear nuevo PIN de seguridad para acceder al módulo.\n            <hr>\n            <div class=\"field\">\n                <label for=\"\" class=\"label\">Ingrese PIN</label>\n                <input type=\"text\" class=\"input\" [(ngModel)]=\"pin1\">\n            </div>\n            <div class=\"field\">\n                <label for=\"\" class=\"label\">Repetir PIN</label>\n                <input type=\"text\" class=\"input\" [(ngModel)]=\"pin2\">\n            </div>\n            <br>\n            <button class=\"button is-success\" *ngIf=\"pin1 != '' && pin1 === pin2\" (click)=\"Crear_pin()\">\n                <span class=\"icon\">\n                    <i class=\"fas fa-lock\"></i>\n                </span>\n                <span>Crear PIN</span>\n            </button>\n        </div>\n    </div>\n</div>","<div class=\"container\">\n    <div class=\"titulo\">\n        Especificación del producto\n    </div>\n    <button class=\"button is-small is-success\" (click)=Editar_Especificacion() *ngIf=\"!Edicion\">\n        <span class=\"icon\">\n            <i class=\"fas fa-edit\"></i>\n        </span>\n        <span>Editar</span>\n    </button><br><br>\n    <div class=\"card\">\n        <div class=\"card-content\">\n            <div class=\"columns\">\n                <div class=\"column\">\n                </div>\n                <div class=\"column is-3\">\n                    <table class=\"table is-fullwidth\">\n                        <thead>\n                            <tr>\n                                <th class=\"is-selected\">\n                                    Código de especificación\n                                </th>\n                            </tr>\n                            <tr>\n                                <td style=\"text-align: center;\">\n                                    E-{{productos.producto.cliente.codigo}}-{{productos.producto.codigo}}-{{productos.producto.version}}-{{productos.producto.edicion}}\n                                </td>\n                            </tr>\n                        </thead>\n                    </table>\n                </div>\n            </div>\n            <table class=\"table is-fullwidth is-bordered\">\n                <thead>\n                    <tr>\n                        <th class=\"is-selected\" colspan=\"2\">\n                            1. Identificación de producto\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td class=\"indice\">1.1. Cliente</td>\n                        <td>{{productos.producto.cliente.nombre}}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">1.2. Producto</td>\n                        <td>{{productos.producto.producto}}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">1.3. Código del producto</td>\n                        <td>\n                            {{productos.producto.cliente.codigo}}-{{productos.producto.codigo}}-{{productos.producto.version}}\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n            <table class=\"table is-fullwidth is-bordered\">\n                <thead>\n                    <tr>\n                        <th class=\"is-selected\" colspan=\"2\">2. Dimensiones del producto</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td class=\"indice\">2.1. Tamaño del producto desplegado (mm)</td>\n                        <td>\n                            <span *ngIf=\"!Edicion\">\n                                {{productos.producto.tamano_desplegado[0]}} x {{productos.producto.tamano_desplegado[1]}} ± {{productos.producto.tamano_desplegado[2]}}\n                            </span>\n                            <div class=\"columns\" *ngIf=\"Edicion\">\n                                <div class=\"column is-2\">\n                                    <div class=\"field\">\n                                        <label for=\"\" class=\"label\">Ancho:</label>\n                                        <div class=\"control\">\n                                            <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tamano_desplegado[0]\">\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"column is-2\">\n                                    <div class=\"field\">\n                                        <div class=\"control\">\n                                            <label for=\"\" class=\"label\">Largo:</label>\n                                            <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tamano_desplegado[1]\"> \n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"column is-2\">\n                                    <div class=\"field\">\n                                        <div class=\"control\">\n                                            <label for=\"\" class=\"label\">±:</label>\n                                            <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tamano_desplegado[2]\">\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">2.2. Tamaño del producto cerrado (mm)</td>\n                        <td>\n                            <span *ngIf=\"!Edicion\">\n                                <ng-container *ngIf=\"productos.producto.tamano_cerrado.length < 1\">\n                                    No aplica\n                                </ng-container>\n                                <ng-container *ngIf=\"productos.producto.tamano_cerrado.length > 1\">\n                                    {{productos.producto.tamano_cerrado[0]}} x {{productos.producto.tamano_cerrado[1]}}\n                                    <ng-container *ngIf=\"productos.producto.tamano_cerrado[2]\">\n                                        x {{productos.producto.tamano_cerrado[2]}}\n                                    </ng-container>\n                                    ± {{productos.producto.tamano_cerrado[3]}}\n                                </ng-container>\n                            </span>\n                            <div class=\"columns\" *ngIf=\"Edicion\">\n                                <div class=\"column is-2\">\n                                    <div class=\"field\">\n                                        <label for=\"\" class=\"label\">Ancho:</label>\n                                        <div class=\"control\">\n                                            <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tamano_cerrado[0]\">\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"column is-2\">\n                                    <div class=\"field\">\n                                        <label for=\"\" class=\"label\">Largo:</label>\n                                        <div class=\"control\">\n                                            <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tamano_cerrado[1]\">\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"column is-2\">\n                                    <div class=\"field\">\n                                        <label for=\"\" class=\"label\">Alto:</label>\n                                        <div class=\"control\">\n                                            <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tamano_cerrado[2]\">\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"column is-2\">\n                                    <div class=\"field\">\n                                        <label for=\"\" class=\"label\">±:</label>\n                                        <div class=\"control\">\n                                            <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tamano_cerrado[3]\">\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td colspan=\"2\">\n                            <b>2.3. diseño del producto</b> <br>\n                            <div class=\"img\">\n                                <img src=\"http://localhost:8080/api/imagen/producto/{{productos.producto.img}}\" alt=\"Diseño del producto\" width=\"500\" height=\"500\">\n                            </div><br>\n                            <span class=\"descripcionImg\">\n                                <b>Imagen 1:</b> Diseño del producto\n                            </span>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n            <table class=\"table is-fullwidth is-bordered\">\n                <thead>\n                    <tr>\n                        <th class=\"is-selected\" colspan=\"3\">3. Materia prima</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td class=\"indice\">3.1. Tipo de sustrato a utilizar</td>\n                        <td colspan=\"3\">{{Sustrato.nombre}}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">3.2. Espesor / Calibre (μm):</td>\n                        <td>\n                            <table class=\"table is-fullwidth is-bordered\">\n                                <tr style=\"text-align: center;\">\n                                    <th>Mínimo</th>\n                                    <th>Nominal</th>\n                                    <th>Maximo</th>\n                                </tr>\n                                <tr style=\"text-align: center;\">\n                                    <td >\n                                        {{Sustrato.calibre_e[0]}}\n                                        <!-- <input type=\"text\" class=\"input is-small\"> -->\n                                    </td>\n                                    <td >\n                                        {{Sustrato.calibre_e[1]}}\n                                        <!-- <input type=\"text\" class=\"input is-small\"> -->\n                                    </td>\n                                    <td >\n                                        {{Sustrato.calibre_e[2]}}\n                                        <!-- <input type=\"text\" class=\"input is-small\"> -->\n                                    </td>\n                                </tr>\n                            </table>\n                        </td>\n                        <td style=\"text-align: center;\"> \n                            <b>Método de ensayo:</b> <br>\n                            COVENIN 946-79 <br>\n                            TAPPI T411\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">3.3. Peso / Gramaje (g/m²):</td>\n                        <td>\n                            <table class=\"table is-fullwidth is-bordered\">\n                                <tr style=\"text-align: center;\">\n                                    <th>Mínimo</th>\n                                    <th>Nominal</th>\n                                    <th>Maximo</th>\n                                </tr>\n                                <tr style=\"text-align: center;\">\n                                    <td>\n                                        {{Sustrato.gramaje_e[0]}}\n                                        <!-- <input type=\"text\" class=\"input is-small\"> -->\n                                    </td>\n                                    <td>\n                                        {{Sustrato.gramaje_e[1]}}\n                                        <!-- <input type=\"text\" class=\"input is-small\"> -->\n                                    </td>\n                                    <td>\n                                        {{Sustrato.gramaje_e[2]}}\n                                        <!-- <input type=\"text\" class=\"input is-small\"> -->\n                                    </td>\n                                </tr>\n                            </table>\n                        </td>\n                        <td style=\"text-align: center;\" > \n                            <b>Método de ensayo:</b> <br>\n                            COVENIN 945-84 <br>\n                            TAPPI T410\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">3.4. Colores aprobados:</td>\n                        <td colspan=\"2\">\n                            <ul>\n                                <li *ngFor=\"let color of colores\">○ {{color.color}}</li>\n                            </ul>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">3.5. Tintas aprobadas (Marcas):</td>\n                        <td colspan=\"2\">\n                            <ng-container *ngFor=\"let color of colores\">\n                                ○ <b>{{color.color}}:</b> {{color.nombre}} ({{color.marca}}) <br>\n                                <ng-container *ngIf=\"color.preparacion.length > 0\">\n                                    <b>    Preparación local (1kg): </b> <br>\n                                    <span *ngFor=\"let ingrediente of color.preparacion;index as i\">\n                                            {{ingrediente.cantidad}}g {{ingrediente.nombre}} <br>\n                                    </span>\n                                </ng-container>\n                            </ng-container>\n                            <span class=\"red__\">\n                                <!-- <br> <b>NOTA:</b> FALTA PREPARACIÓN DE TINTAS -->\n                            </span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">3.6. Barnices aprobados:</td>\n                        <td colspan=\"2\">\n                            <ul>\n                                <li *ngFor=\"let barniz of barniz\">{{barniz}}</li>\n                            </ul>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">3.7. Dirección de fibra de la etiqueta:</td>\n                        <td>\n                            <span *ngIf=\"!Edicion\">\n                                Paralela al largo total del producto ({{productos.producto.tamano_desplegado[productos.producto.direccion_fibra]}} mm)\n                            </span>\n                            <br>\n                            <div class=\"select is-small\" *ngIf=\"Edicion\">\n                                <select name=\"\" id=\"\" (change)=\"direccion_dfibra($event.target.value)\">\n                                    <option value=\"0\">{{productos.producto.tamano_desplegado[0]}}</option>\n                                    <option value=\"1\">{{productos.producto.tamano_desplegado[1]}}</option>\n                                </select>\n                            </div>\n                        </td>\n                        <td style=\"text-align: center;\">\n                            <b>Método de ensayo:</b><br>\n                            COVENIN 26-79 <br>\n                            TAPPI T-409 om-98\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n            <table class=\"table is-fullwidth is-bordered\">\n                <thead>\n                    <tr>\n                        <th class=\"is-selected\" colspan=\"6\">4. Pre-impresión</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td class=\"indice\">4.1. Nombre del archivo del diseño del producto:</td>\n                        <td colspan=\"6\">\n                            <!-- AD-PL-002-2_15062022.ai -->\n                            <span *ngIf=\"!Edicion\">\n                                AD-{{productos.producto.cliente.codigo}}-{{productos.producto.codigo}}-{{productos.producto.version}}_{{productos.producto.diseno_producto[0]}}.{{productos.producto.diseno_producto[1]}}\n                            </span>\n                            <br>\n                            <span *ngIf=\"Edicion\">\n                                <label for=\"\" class=\"label\">Fecha aceptada:</label>\n                                <input type=\"date\" class=\"input is-small short\" (change)=\"aprobacion($event.target.value)\">\n                                 <label for=\"\" class=\"label\">Formato:</label>\n                                <div class=\"select is-small\">\n                                    <select name=\"\" id=\"\" (change)=\"__formato($event.target.value)\">\n                                        <option value=\"\">.</option>\n                                        <option value=\"ai\">ai</option>\n                                        <option value=\"psd\">psd</option>\n                                    </select>\n                                </div>\n                            </span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">4.2. Código del montaje</td>\n                        <td *ngFor=\"let e of [].constructor(montajes); let i = index\">\n                            <span>\n                                <b>Montaje {{montaje(i)}}:</b>\n                            </span><br>\n                            M-{{productos.producto.cliente.codigo}}-{{productos.producto.codigo}}-{{productos.producto.version}}-{{montaje(i)}}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">4.3. Nombre del archivo del montaje del producto:</td>\n                        <td *ngFor=\"let e of [].constructor(montajes); let i = index\">\n                            <span *ngIf=\"!Edicion\">\n                                <span *ngIf=\"i != 1\">\n                                    M-{{productos.producto.cliente.codigo}}-{{productos.producto.codigo}}-{{productos.producto.version}}-{{montaje(i)}}_{{productos.producto.diseno_montaje[0+i]}}.{{productos.producto.diseno_montaje[1+i]}}\n                                </span>\n                                <span *ngIf=\"i === 1\">\n                                    M-{{productos.producto.cliente.codigo}}-{{productos.producto.codigo}}-{{productos.producto.version}}-{{montaje(i)}}_{{productos.producto.diseno_montaje[2]}}.{{productos.producto.diseno_montaje[3]}}\n                                </span>\n                            </span>\n                            <span *ngIf=\"Edicion\">\n                                <label for=\"\" class=\"label\">Fecha aceptada:</label>\n                                <br><input type=\"date\" class=\"input is-small short\" (change)=\"monateje($event.target.value,i)\">\n                                 <label for=\"\" class=\"label\">Formato:</label>\n                                <div class=\"select is-small\">\n                                    <select name=\"\" id=\"\" (change)=\"__formato_monateje($event.target.value,i)\">\n                                        <option value=\"\">.</option>\n                                        <option value=\"ai\">ai</option>\n                                        <option value=\"psd\">psd</option>\n                                    </select>\n                                </div>\n                            </span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">4.4. Código de películas:</td>\n                        <td *ngFor=\"let e of [].constructor(montajes); let n = index\">\n                            <ng-container *ngFor=\"let color of colores;index as i\">\n                                <p *ngIf=\"color.color === 'Negro'\">Pelicula N°{{i+1}}: Negro:{{productos.producto.cliente.codigo}}-{{productos.producto.codigo}}-{{productos.producto.version}}-\n                                    <!-- {{NumToLet(i_montajes)}} -->\n                                    <ng-container *ngIf=\"n == 0\">A</ng-container>\n                                    <ng-container *ngIf=\"n == 1\">B</ng-container>\n                                    <ng-container *ngIf=\"n == 2\">C</ng-container>\n                                    <ng-container *ngIf=\"n == 3\">D</ng-container>\n                                    <ng-container *ngIf=\"n == 4\">E</ng-container>\n                                    -1 </p>\n                                    <p *ngIf=\"color.color === 'Cyan'\">Pelicula N°{{i+1}}: Cyan:{{productos.producto.cliente.codigo}}-{{productos.producto.codigo}}-{{productos.producto.version}}-\n                                        <ng-container *ngIf=\"n == 0\">A</ng-container>\n                                        <ng-container *ngIf=\"n == 1\">B</ng-container>\n                                        <ng-container *ngIf=\"n == 2\">C</ng-container>\n                                        <ng-container *ngIf=\"n == 3\">D</ng-container>\n                                        <ng-container *ngIf=\"n == 4\">E</ng-container>\n                                        -2 </p>\n                                    <p *ngIf=\"color.color === 'Magenta'\">Pelicula N°{{i+1}}: Magenta:{{productos.producto.cliente.codigo}}-{{productos.producto.codigo}}-{{productos.producto.version}}-\n                                        <ng-container *ngIf=\"n == 0\">A</ng-container>\n                                        <ng-container *ngIf=\"n == 1\">B</ng-container>\n                                        <ng-container *ngIf=\"n == 2\">C</ng-container>\n                                        <ng-container *ngIf=\"n == 3\">D</ng-container>\n                                        <ng-container *ngIf=\"n == 4\">E</ng-container>\n                                        -3 </p>\n                                    <p *ngIf=\"color.color === 'Amarillo'\">Pelicula N°{{i+1}}: Amarillo:{{productos.producto.cliente.codigo}}-{{productos.producto.codigo}}-{{productos.producto.version}}-\n                                        <ng-container *ngIf=\"n == 0\">A</ng-container>\n                                        <ng-container *ngIf=\"n == 1\">B</ng-container>\n                                        <ng-container *ngIf=\"n == 2\">C</ng-container>\n                                        <ng-container *ngIf=\"n == 3\">D</ng-container>\n                                        <ng-container *ngIf=\"n == 4\">E</ng-container>\n                                        -4 </p>\n                                    <div *ngIf=\"color.color != 'Amarillo' && color.color != 'Magenta' && color.color != 'Cyan' && color.color != 'Negro' \">\n                                            Pelicula N°{{i+1}}: {{color.color}}:\n                                            <ng-container>\n                                                {{productos.producto.cliente.codigo}}-{{productos.producto.codigo}}-{{productos.producto.version}}-\n                                            <ng-container *ngIf=\"n == 0\">A</ng-container>\n                                            <ng-container *ngIf=\"n == 1\">B</ng-container>\n                                            <ng-container *ngIf=\"n == 2\">C</ng-container>\n                                            <ng-container *ngIf=\"n == 3\">D</ng-container>\n                                            <ng-container *ngIf=\"n == 4\">E</ng-container>\n                                            <!-- -{{intervalo(i,color.color)}} -->\n                                            <!-- <ng-container *ngIf=\"i_montajes == 0\">\n                                                -{{sumaTintas(i, TintaProducto.producto.color)}}\n                                            </ng-container>    \n                                            <ng-container *ngIf=\"i_montajes != 0\">\n                                                -{{sumaTintas(i, TintaProducto.producto.color) - 2}}\n                                            </ng-container>     -->\n                                            </ng-container>\n                                    </div>\n                            </ng-container>\n                            <!-- Película N° 1: Negro: PL-002-2-A-1 <br>\n                            Película N° 2: Blanco Opaco: PL-002-2-A-5<br>\n                            Película N° 3: Laca IPA (Ref.): PL-002-2-A-6<br>\n                            Película N° 4: Pantone 348: PL-002-2-A-7<br>\n                            Película N° 5: Pantone 3435: PL-002-2-A-8 -->\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">4.5. Tipo / Marca de plancha:</td>\n                        <td colspan=\"6\">\n                            <ng-container *ngFor=\"let plancha of Planchas\">\n                                <span *ngIf=\"plancha.nombre === 'Planchas Litográficas'\">\n                                    Positiva / {{plancha.marca}}\n                                </span>\n                            </ng-container>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">4.6. Tiempo de exposición de quemado de plancha (s):</td>\n                        <td colspan=\"6\">\n                            <ng-container *ngFor=\"let plancha of Planchas\">\n                                <span *ngIf=\"plancha.nombre === 'Planchas Litográficas'\">\n                                    {{plancha.teq}}\n                                </span>\n                            </ng-container>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n            <table class=\"table is-fullwidth is-bordered\">\n                <thead>\n                    <tr>\n                        <th class=\"is-selected\" colspan=\"6\">5. Impresión</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td class=\"indice\">5.1. Maquina impresora aprobada</td>\n                        <td colspan=\"6\">\n                            <ng-container *ngIf=\"!Edicion\">\n                                <ng-container *ngFor=\"let impresora of this.productos.producto.impresora_aprobada\">\n                                    <p>\n                                        {{impresora}}\n                                    </p>\n                                </ng-container>\n                            </ng-container>\n                            <div class=\"columns\" *ngIf=\"Edicion\">\n                                <div class=\"column is-3\">\n                                    <div class=\"select\">\n                                        <select name=\"\" id=\"\" (change)=\"Seleccionarimpresora($event.target.value)\">\n                                            <option value=\"#\">Seleccionar impresora</option>\n                                            <ng-container *ngFor=\"let maquina of productos.maquinas\">    \n                                                <option value=\"{{maquina.nombre}}\" *ngIf=\"maquina.tipo === 'IMPRIMIR'\">\n                                                    {{maquina.nombre}}\n                                                </option>\n                                            </ng-container>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div class=\"column is-8\">\n                                    <div class=\"columns\" *ngFor=\"let impresora of this.productos.producto.impresora_aprobada;index as i\">\n                                        <div class=\"column is-5\">\n                                            {{impresora}}\n                                        </div>\n                                        <div class=\"column is-1 red__\">\n                                            <i class=\"far fa-window-close\" (click)=\"deleteImpresora(i)\"></i>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">5.2. Tamaño de sustrato a imprimir / ejemplares por pliego:</td>\n                        <td *ngFor=\"let e of [].constructor(montajes); let n = index\">\n                        <b>Montaje {{montaje(n)}}:</b><br>\n                        <span *ngIf=\"!Edicion\">\n                            <ng-container *ngIf=\"n === 0\">\n                                {{productos.producto.tamano_sustrato[0]}} x {{productos.producto.tamano_sustrato[1]}} cm <br>\n                            </ng-container>\n                            <ng-container *ngIf=\"n === 1\">\n                                {{productos.producto.tamano_sustrato[2]}} x {{productos.producto.tamano_sustrato[3]}} cm <br>\n                            </ng-container>\n                        </span>\n                        {{productos.producto.ejemplares[n]}} unidades Ejemplares\n                        <div class=\"columns\" *ngIf=\"Edicion\">\n                            <div class=\"column is-2\">\n                                <label for=\"\" class=\"label\">Ancho:</label>\n                                <ng-container *ngIf=\"n === 0\">\n                                    <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tamano_sustrato[0]\" (change)=\"pull_toneladas(n)\">\n                                </ng-container>\n                                <ng-container *ngIf=\"n === 1\">\n                                    <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tamano_sustrato[2]\" (change)=\"pull_toneladas(n)\">\n                                </ng-container>\n                            </div>\n                            <div class=\"column is-2\">\n                                <label for=\"\" class=\"label\">largo:</label>\n                                <ng-container *ngIf=\"n === 0\">\n                                    <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tamano_sustrato[1]\" (change)=\"pull_toneladas(n)\">\n                                </ng-container>\n                                <ng-container *ngIf=\"n === 1\">\n                                    <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tamano_sustrato[3]\" (change)=\"pull_toneladas(n)\">\n                                </ng-container>\n                            </div>\n                        </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">5.3. Rendimiento de unidades por cada tonelada de sustrato</td>\n                        \n                        <td *ngFor=\"let e of [].constructor(montajes); let n = index\">\n                        <b>Montaje {{montaje(n)}}:</b><br>\n                        <ng-container *ngIf=\"n === 0\">\n                            {{productos.producto.tamano_sustrato[0]}} x {{productos.producto.tamano_sustrato[1]}} cm <br>\n                            {{tonelada(productos.producto.tamano_sustrato[0], productos.producto.tamano_sustrato[1],productos.producto.ejemplares[n])}} unidades\n                        </ng-container>\n                        <ng-container *ngIf=\"n === 1\">\n                            {{productos.producto.tamano_sustrato[2]}} x {{productos.producto.tamano_sustrato[3]}} cm <br>\n                            {{tonelada(productos.producto.tamano_sustrato[0], productos.producto.tamano_sustrato[1],productos.producto.ejemplares[n])}} unidades\n                        </ng-container>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">5.4. Área efectiva de impresión (cm²):</td>\n                        <td *ngFor=\"let e of [].constructor(montajes); let n = index\">\n                            <b>Montaje {{montaje(n)}}:</b><br>\n                            <span *ngIf=\"!Edicion\">\n                                <ng-container *ngIf=\"n === 0\">\n                                    {{productos.producto.Area_impresion[0]}}\n                                </ng-container>\n                                <ng-container *ngIf=\"n === 1\">\n                                    {{productos.producto.Area_impresion[1]}}\n                                </ng-container>\n                            </span>\n                            <div class=\"columns\" *ngIf=\"Edicion\">\n                                <div class=\"column is-3\">\n                                    <ng-container *ngIf=\"n === 0\">\n                                        <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.Area_impresion[0]\" (change)=\"calcular_Desperdicio()\">\n                                    </ng-container>\n                                    <ng-container *ngIf=\"n === 1\">\n                                        <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.Area_impresion[1]\" (change)=\"calcular_Desperdicio()\">\n                                    </ng-container>\n                                </div>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">5.5. Porcentaje de desperdicio (%)</td>\n                        <td *ngFor=\"let e of [].constructor(montajes); let n = index\">\n                            <b>Montaje {{montaje(n)}}:</b><br>\n                            <ng-container *ngIf=\"n === 0\">\n                                {{calcular_desperdicio(productos.producto.tamano_sustrato[0],productos.producto.tamano_sustrato[1],productos.producto.Area_impresion[0])}}%\n                            </ng-container>\n                            <ng-container *ngIf=\"n === 1\">\n                                {{calcular_desperdicio(productos.producto.tamano_sustrato[2],productos.producto.tamano_sustrato[3],productos.producto.Area_impresion[1])}}%\n                            </ng-container>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">5.6. Tamaño de la pinza de impresión (mm)</td>\n                        <td colspan=\"6\">\n                            <ng-container *ngIf=\"!Edicion\">\n                                <ng-container *ngFor=\"let impresora of this.productos.producto.impresora_aprobada;index as i\">\n                                    {{impresora}} ({{this.productos.producto.tamano_pinza[i]}}) <br>\n                                </ng-container>\n                            </ng-container>\n                            <table class=\"table\" *ngIf=\"Edicion\">\n                                <tr *ngFor=\"let impresora of this.productos.producto.impresora_aprobada;index as i\">\n                                    <th>\n                                        {{impresora}}\n                                    </th>\n                                    <td>\n                                        <div class=\"columns\">\n                                            <div class=\"column is-4\">\n                                                <label for=\"\" class=\"label\">Tamaño:</label>\n                                                <input type=\"text\" class=\"input\" [(ngModel)]=\"productos.producto.tamano_pinza[i]\">\n                                            </div>\n                                        </div>\n                                    </td>\n                                </tr>\n                            </table>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">5.7. Secuencia de colores en máquina:</td>\n                        <td colspan=\"6\">\n                            <ng-container *ngIf=\"!Edicion\">\n                                <ng-container *ngFor=\"let color of colores;index as i\">\n                                    <ng-container *ngIf=\"productos.producto.orden_de_color[i]\">\n                                        Cuerpo Nº {{i+1}}: {{colores[productos.producto.orden_de_color[i]].nombre}}<br>                                \n                                    </ng-container>\n                                </ng-container>\n                            </ng-container>\n\n                            <ng-container *ngIf=\"Edicion\">\n                                <ng-container *ngFor=\"let color of colores;index as i\">\n                                    <div class=\"columns\">\n                                        <div class=\"column\">\n                                            Cuerpo Nº {{i+1}}:\n                                        </div>\n                                        <div class=\"column\">\n                                            <div class=\"select is-small\">\n                                                <select name=\"\" id=\"\" [(ngModel)]=\"productos.producto.orden_de_color[i]\">\n                                                    <option value=\"#\">Seleccione color</option>\n                                                    <option value=\"{{n}}\" *ngFor=\"let color of colores;index as n\">{{color.nombre}} ({{color.marca}})</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </ng-container>\n                            </ng-container>\n                            <!-- Cuerpo N° 1: Blanco Opaco <br>\n                            Cuerpo N° 2: Negro <br>\n                            Cuerpo N° 3: Pantone 6435 <br>\n                            Cuerpo N° 4: Pantone 348 <br>\n                            Cuerpo N° 5: Laca IPA (ref.) Dorado -->\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">5.8. Solución de fuente:</td>\n                        <td colspan=\"6\">\n                            <ng-container *ngFor=\"let fuente of Quimicos\">\n                                <span *ngIf=\"fuente.nombre === 'Solución de Fuente'\">\n                                    {{fuente.chemical}} <br>\n                                    ○ pH: {{fuente.ph}} <br>\n                                    ○ Conductividad: {{fuente.conductividad}}  μS/cm\n                                </span>\n                            </ng-container> <br>\n                            <span *ngIf=\"!Edicion\">\n                                <ng-container *ngIf=\"productos.producto.Solucion_nota\">\n                                    <b>Nota: </b>{{productos.producto.Solucion_nota}}\n                                </ng-container>\n                            </span>\n                            <span *ngIf=\"Edicion\">\n                                <br>\n                                <label for=\"\" class=\"label\">Agregar nota:</label>\n                                <textarea class=\"textarea\" placeholder=\"NOTA\" rows=\"2\" [(ngModel)]=\"productos.producto.Solucion_nota\"></textarea>\n                            </span>\n                    </td>\n                    </tr>\n                </tbody>\n            </table>\n            <table class=\"table is-fullwidth is-bordered\">\n                <thead>\n                    <tr>\n                        <th class=\"is-selected\" colspan=\"3\">6. Post-impresión</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td class=\"indice\">6.1. Máquina troqueladora aprobada:</td>\n                        <td colspan=\"2\">\n                            <ng-container *ngIf=\"!Edicion\">\n                                <ng-container *ngFor=\"let troqueladora of this.productos.producto.troqueladora_aprobada\">\n                                    <p>\n                                        {{troqueladora}}\n                                    </p>\n                                </ng-container>\n                            </ng-container>\n\n                            <div class=\"columns\" *ngIf=\"Edicion\">\n                                <div class=\"column is-3\">\n                                    <div class=\"select\">\n                                        <select name=\"\" id=\"\" (change)=\"Seleccionartroqueladora($event.target.value)\">\n                                            <option value=\"#\">Seleccionar troqueladora</option>\n                                            <ng-container *ngFor=\"let maquina of productos.maquinas\">    \n                                                <option value=\"{{maquina.nombre}}\" *ngIf=\"maquina.tipo === 'TROQUELAR'\">\n                                                    {{maquina.nombre}}\n                                                </option>\n                                            </ng-container>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div class=\"column is-8\">\n                                    <div class=\"columns\" *ngFor=\"let troqueladora of this.productos.producto.troqueladora_aprobada;index as i\">\n                                        <div class=\"column is-5\">\n                                            {{troqueladora}}\n                                        </div>\n                                        <div class=\"column is-1 red__\">\n                                            <i class=\"far fa-window-close\" (click)=\"deleteTroqueladora(i)\"></i>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">6.2. Tipo de troquel / cuchilla - ángulo:</td>\n                        <td colspan=\"2\">\n                            <span *ngIf=\"!Edicion\">\n                                {{productos.producto.tipo_troquel[0]}} <br>\n                                <b>Tipo de cuchilla:</b> {{productos.producto.tipo_troquel[1]}} <br>\n                                <b>Tamaño de madera:</b> {{productos.producto.tipo_troquel[2]}} <br>\n                                <b>Espesor de madera:</b> {{productos.producto.tipo_troquel[3]}} <br>\n                            </span>\n                            <div class=\"columns\" *ngIf=\"Edicion\">\n                                <div class=\"column is-3\">\n                                    <div class=\"field\">\n                                        <label for=\"\" class=\"label\">Tipo de Troquel:</label>\n                                        <div class=\"control\">\n                                            <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tipo_troquel[0]\">\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"column is-3\">\n                                    <div class=\"field\">\n                                        <label for=\"\" class=\"label\">Tipo de cuchilla:</label>\n                                        <div class=\"control\">\n                                            <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tipo_troquel[1]\">\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"columns\" *ngIf=\"Edicion\">\n                                <div class=\"column is-3\">\n                                    <div class=\"field\">\n                                        <label for=\"\" class=\"label\">Tamaño de madera:</label>\n                                        <div class=\"control\">\n                                            <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tipo_troquel[2]\">\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"column is-3\">\n                                    <div class=\"field\">\n                                        <label for=\"\" class=\"label\">Espesor de madera:</label>\n                                        <div class=\"control\">\n                                            <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tipo_troquel[3]\">\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">6.3. Tamaño de canal de hendidura a utilizar (mm):</td>\n                        <!-- <td>\n                            <span *ngIf=\"!Edicion\">\n                                {{productos.producto.hendidura}}\n                            </span>\n                            <div class=\"columns\" *ngIf=\"Edicion\">\n                                <div class=\"column is-5\">\n                                    <label for=\"\" class=\"label\">Tamaño de hendidura:</label>\n                                    <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.hendidura\">\n                                </div>\n                            </div>\n                        </td> -->\n                        <td>\n                            <b>Fabricante / Marca</b> <br>\n                            <span *ngIf=\"!Edicion\">\n                                {{productos.producto.hendidura_canal}}<br>\n                            </span>\n\n                            <div class=\"select is-small\" *ngIf=\"Edicion\">\n                                <select name=\"\" id=\"\" [(ngModel)]=\"productos.producto.hendidura_canal\">\n                                    <option value=\"No aplica\">No aplica</option>\n                                <ng-container *ngFor=\"let plancha of Planchas\">\n                                    <option value=\"{{plancha.nombre}} / {{plancha.marca}}\" *ngIf=\"plancha.marca === 'Cito'\">\n                                        {{plancha.nombre}}\n                                    </option>\n                                </ng-container>\n                                </select>\n                            </div>\n                        </td>\n                    </tr>\n                    <!-- <tr>\n                        <td class=\"indice\">6.4. Presión de troquelado (MN):</td>\n                        <td colspan=\"2\">\n                            <span *ngIf=\"!Edicion\">\n                                {{productos.producto.presion_troquel}}\n                            </span>\n                            <div class=\"columns\" *ngIf=\"Edicion\">\n                                <div class=\"column is-3\">\n                                    <label for=\"\" class=\"label\">Presión:</label>\n                                    <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.presion_troquel\">\n                                </div>\n                            </div>\n                        </td>\n                    </tr> -->\n                    <tr>\n                        <td class=\"indice\">6.4. Guillotina aprobada:</td>\n                        <td colspan=\"2\">\n                            <ng-container *ngIf=\"!Edicion\">\n                                <ng-container *ngFor=\"let guillotina of this.productos.producto.guillotina_aprobada\">\n                                    <p>\n                                        {{guillotina}}\n                                    </p>\n                                </ng-container>\n                            </ng-container>\n\n                            <div class=\"columns\"  *ngIf=\"Edicion\">\n                                \n                                <div class=\"column\">\n                                        <div class=\"select\">\n                                        \n                                        <select name=\"\" id=\"\" (change)=\"Guillotina_aprobada($event.target.value)\">\n                                            <option value=\"#\">Seleccione Guillotina</option>\n                                            <option value=\"#\">No aplica</option>\n                                            <option value=\"Polar Morh 137 X\">Polar Morh 137 X</option>\n                                            <option value=\"Polar Morh 115 EMC\">Polar Morh 115 EMC</option>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div class=\"column is-8\">\n                                    <div class=\"columns\" *ngFor=\"let guillotina of this.productos.producto.guillotina_aprobada;index as i\">\n                                        <div class=\"column is-5\">\n                                           {{guillotina}}\n                                        </div>\n                                    <div class=\"column is-1 red__\" *ngIf=\"this.productos.producto.guillotina_aprobada != 'No aplica'\">\n                                                <i class=\"far fa-window-close\" (click)=\"deleteGuillotina(i)\"></i>\n                                            </div>\n                                        </div>\n                                    </div>\n                            </div>\n                            \n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">6.5. Tipo de cuchilla - ángulo (etiqueta)</td>\n                        <td colspan=\"2\">\n                            <span *ngIf=\"!Edicion\">\n                                <ng-container *ngIf=\"this.productos.producto.guillotina_aprobada[0] != 'No aplica'\">\n                                    {{productos.producto.tipo_cuchilla}}\n                                </ng-container>\n                                <ng-container *ngIf=\"this.productos.producto.guillotina_aprobada[0] === 'No aplica'\">\n                                    No aplica\n                                </ng-container>\n                            </span>\n                            <div class=\"columns\" *ngIf=\"Edicion\">\n                                <div class=\"column is-3\">\n                                    <label for=\"\" class=\"label\">Tipo:</label>\n                                    <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tipo_cuchilla\">\n                                </div>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">6.6. Máquina pegadora aprobada:</td>\n                        <td colspan=\"2\">\n                            <ng-container *ngIf=\"!Edicion\">\n                                <ng-container *ngFor=\"let pegadora of this.productos.producto.pegadora_aprobada\">\n                                    <p>\n                                        {{pegadora}}\n                                    </p>\n                                </ng-container>\n                            </ng-container>\n\n                            <div class=\"columns\"  *ngIf=\"Edicion\">\n                                \n                                <div class=\"column\">\n                                        <div class=\"select\">\n                                        \n                                        <select name=\"\" id=\"\" (change)=\"Pegadora_aprobada($event.target.value)\">\n                                            <option value=\"#\">Seleccione pegadora</option>\n                                            <option value=\"#\">No aplica</option>\n                                            <option value=\"Bobst Ambition\">Bobst Ambition\t</option>\n                                            <option value=\"Anter 520\">Anter 520</option>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div class=\"column is-8\">\n                                    <div class=\"columns\" *ngFor=\"let pegadora of this.productos.producto.pegadora_aprobada;index as i\">\n                                        <div class=\"column is-5\">\n                                           {{pegadora}}\n                                        </div>\n                                    <div class=\"column is-1 red__\" *ngIf=\"this.productos.producto.pegadora_aprobada != 'No aplica'\">\n                                                <i class=\"far fa-window-close\" (click)=\"deletePegadora(i)\"></i>\n                                            </div>\n                                        </div>\n                                    </div>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">6.7. Pegamento aprobado:</td>\n                        <td colspan=\"2\">\n                            <ul>\n                                <li *ngFor=\"let pega of pega\">{{pega}}</li>\n                            </ul>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">6.8. Tipo de caja para embalaje:</td>\n                        <td colspan=\"2\">\n                        {{caja.producto.descripcion}} <br>\n                        Tipo {{caja.producto.tipo}} <br>\n                        ECT Mínimo: {{caja.producto.ECT}} KN/m\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">6.9. Modelo de la caja:</td>\n                        <td colspan=\"2\">\n                            {{caja.producto.nombre}}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">6.10. Proveedores de corrugados aprobados:</td>\n                        <td colspan=\"2\">\n                            Servicios de Corrugados Maracay, C.A <br> \n                            Corrugados Industriales de Venezuela, C.A. (CIVCA)\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">6.11. Cantidad de unidades por caja:</td>\n                        <td colspan=\"2\">{{caja.cantidad}} unidades</td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">6.12. Cantidad por paquetes:</td>\n                        <td colspan=\"2\">\n                            <span *ngIf=\"!Edicion\">\n                                \n                                {{productos.producto.Cantidad_paquete}}\n                            </span>\n                            <div class=\"columns\" *ngIf=\"Edicion\">\n                                <div class=\"column is-3\">\n                                    <label for=\"\" class=\"label\">Cantidad:</label>\n                                    <input type=\"text\" class=\"input\" [(ngModel)]=\"productos.producto.Cantidad_paquete\">\n                                </div>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td colspan=\"3\" >\n                            <b>6.13. Distribución del producto en caja</b><br>\n                            <div class=\"columns\">\n                                <div class=\"column\">\n                                    <div class=\"img_\">\n                                        <img src=\"{{this.baseUrl}}/imagen/aereo/{{productos.producto.aereo}}\" alt=\"Diseño del producto\" width=\"300\" height=\"300\">\n                                    </div>\n                                    <div class=\"descripcionImg\">\n                                        <b>Imagen 2:</b> Distribución del producto (vista aerea)\n                                    </div>\n                                    <span *ngIf=\"Edicion\">\n                                        <div class=\"file is-small has-name is-primary\">\n                                            <label class=\"file-label\">\n                                              <input class=\"file-input\" type=\"file\" name=\"resume\"\n                                              (change)=\"CambiarImagen__($event)\">\n                                              <span class=\"file-cta\">\n                                                <span class=\"file-icon\">\n                                                  <i class=\"fas fa-upload\"></i>\n                                                </span>\n                                                <span class=\"file-label\">\n                                                  Seleccionar Imagen\n                                                </span>\n                                              </span>\n                                              <span class=\"file-name file-name___\">\n                                                Sin archivo\n                                              </span>\n                                            </label>\n                                          </div>\n                                          <br>\n                                          <div class=\"field\">\n                                            <div class=\"control\">\n                                                <button class=\"button is-success is-small\" (click)=\"subirImagen__()\">\n                                                    <span class=\"icon\">\n                                                        <i class=\"fas fa-image\"></i>\n                                                    </span>\n                                                    <span>\n                                                        subir imagen\n                                                    </span>\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </span>\n                                </div>\n                                <div class=\"column\">\n                                    <div class=\"img_\">\n                                        <img src=\"{{this.baseUrl}}/imagen/distribucion/{{productos.producto.distribucion}}\" alt=\"Diseño del producto\" width=\"500\" height=\"500\">\n                                    </div>\n                                    <br>\n                                    <div class=\"descripcionImg\">\n                                        <b>Imagen 3:</b> Distribución del producto (vista 3D)\n                                    </div>\n                                    <span *ngIf=\"Edicion\">\n                                        <div class=\"file is-small has-name is-primary\">\n                                            <label class=\"file-label\">\n                                              <input class=\"file-input\" type=\"file\" name=\"resume\"\n                                              (change)=\"CambiarImagen_($event)\">\n                                              <span class=\"file-cta\">\n                                                <span class=\"file-icon\">\n                                                  <i class=\"fas fa-upload\"></i>\n                                                </span>\n                                                <span class=\"file-label\">\n                                                  Seleccionar Imagen\n                                                </span>\n                                              </span>\n                                              <span class=\"file-name file-name__\">\n                                                Sin archivo\n                                              </span>\n                                            </label>\n                                          </div>\n                                          <br>\n                                          <div class=\"field\">\n                                            <div class=\"control\">\n                                                <button class=\"button is-success is-small\" (click)=\"subirImagen_()\">\n                                                    <span class=\"icon\">\n                                                        <i class=\"fas fa-image\"></i>\n                                                    </span>\n                                                    <span>\n                                                        subir imagen\n                                                    </span>\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </span>\n                                </div>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td colspan=\"3\" >\n                            <span *ngIf=\"!Edicion\">\n                                <b>6.14. Paletizado</b><br><br>\n                                <b>Tipo de paleta: </b>{{productos.producto.tipo_paleta[0]}} <br>\n                                <b>Tamaño de paleta (cm): </b>{{productos.producto.tipo_paleta[1]}} <br>\n                                <b>Cantidad de estibas:</b> {{productos.producto.tipo_paleta[2]}} <br>\n                                <b>Peso de caja (Kg):</b> {{productos.producto.tipo_paleta[3]}} <br>\n                                <br>\n                            </span>\n                            <span *ngIf=\"Edicion\">\n                                <div class=\"field\">\n                                    <label for=\"\" class=\"label\">Tipo de paleta:</label>\n                                    <div class=\"control short\">\n                                        <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tipo_paleta[0]\">\n                                    </div>\n                                </div>\n                                <div class=\"field\">\n                                    <label for=\"\" class=\"label\">Tamaño de paleta (cm):</label>\n                                    <div class=\"control short\">\n                                        <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tipo_paleta[1]\">\n                                    </div>\n                                </div>\n                                <div class=\"field\">\n                                    <label for=\"\" class=\"label\">Cantidad de estibas:</label>\n                                    <div class=\"control short\">\n                                        <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tipo_paleta[2]\">\n                                    </div>\n                                </div>\n                                <div class=\"field\">\n                                    <label for=\"\" class=\"label\">Peso de caja (kg):</label>\n                                    <div class=\"control short\">\n                                        <input type=\"text\" class=\"input is-small\" [(ngModel)]=\"productos.producto.tipo_paleta[3]\">\n                                    </div>\n                                </div>\n                                <br><br>\n                            </span>\n                            <div class=\"img\">\n                                <img src='{{this.baseUrl}}/imagen/despacho/{{productos.producto.paletizado}}' alt=\"Diseño del producto\" width=\"500\" height=\"500\">\n                            </div><br>\n                            <span class=\"descripcionImg\">\n                                <b>Imagen 4:</b> Paletizado aprobado\n                            </span>\n                            <span *ngIf=\"Edicion\">\n                                <div class=\"file is-small has-name is-primary\">\n                                    <label class=\"file-label\">\n                                      <input class=\"file-input\" type=\"file\" name=\"resume\"\n                                      (change)=\"CambiarImagen($event)\">\n                                      <span class=\"file-cta\">\n                                        <span class=\"file-icon\">\n                                          <i class=\"fas fa-upload\"></i>\n                                        </span>\n                                        <span class=\"file-label\">\n                                          Seleccionar Imagen\n                                        </span>\n                                      </span>\n                                      <span class=\"file-name file-name_\">\n                                        Sin archivo\n                                      </span>\n                                    </label>\n                                  </div>\n                                  <br>\n                                  <div class=\"field\">\n                                    <div class=\"control\">\n                                        <button class=\"button is-success is-small\" (click)=\"subirImagen()\">\n                                            <span class=\"icon\">\n                                                <i class=\"fas fa-image\"></i>\n                                            </span>\n                                            <span>\n                                                subir imagen\n                                            </span>\n                                        </button>\n                                    </div>\n                                </div>\n                            </span>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n            <table class=\"table is-fullwidth is-bordered\">\n                <thead>\n                    <tr>\n                        <th class=\"is-selected\" colspan=\"2\">7. Clasificación de defectos</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td class=\"indice\">7.1. Defectos críticos:</td>\n                        <td>\n                            <ng-container *ngIf=\"productos.producto.defectos[0]  && !Edicion\">\n                                <pre>\n                                    {{Formatear(productos.producto.defectos[0])}}\n                                </pre>\n                            </ng-container>\n                            <ng-container *ngIf=\"Edicion\">\n                                <textarea class=\"textarea\" placeholder=\"Defectos críticos\" rows=\"10\" [(ngModel)]=\"productos.producto.defectos[0]\"></textarea>\n                            </ng-container>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">7.2. Defectos mayores:</td>\n                        <td>\n                        <ng-container *ngIf=\"productos.producto.defectos[1] && !Edicion\">\n                            <pre>\n                                {{Formatear(productos.producto.defectos[1])}}\n                            </pre>\n                        </ng-container>\n                        <ng-container *ngIf=\"Edicion\">\n                            <textarea class=\"textarea\" placeholder=\"Defectos críticos\" rows=\"10\" [(ngModel)]=\"productos.producto.defectos[1]\"></textarea>  \n                        </ng-container>\n                    </tr>\n                    <tr>\n                        <td class=\"indice\">7.3. Defectos menores:</td>\n                        <td>\n                        <ng-container *ngIf=\"productos.producto.defectos[2] && !Edicion\">\n                            <pre>\n                                {{Formatear(productos.producto.defectos[2])}}\n                            </pre>\n                        </ng-container>\n                        <ng-container *ngIf=\"Edicion\">\n                            <textarea class=\"textarea\" placeholder=\"Defectos críticos\" rows=\"10\" [(ngModel)]=\"productos.producto.defectos[2]\"></textarea>\n                        </ng-container>\n                    </tr>\n                </tbody>\n            </table>\n            <div class=\"columns\">\n                <div class=\"column\">\n\n                </div>\n                <div class=\"column is-2\">\n                    <button class=\"button is-small is-success\" *ngIf=\"Edicion\" (click)=\"Finalizar_edicion()\">\n                        <span class=\"icon\">\n                            <i class=\"fas fa-check\"></i>\n                        </span>\n                        <span>Finalizar Edición</span>\n                    </button>\n                </div>\n            </div>\n\n            <button class=\"button is-small is-success\" (click)=\"DescargarPDF()\">\n                <span class=\"icon\">\n                    <i class=\"fas fa-download\"></i>\n                </span>\n                <span>\n                    Descargar\n                </span>\n            </button>\n\n        </div>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { RestApiService } from '../services/rest-api.service';\n\nimport { ActivatedRoute } from '@angular/router';\nimport * as moment from 'moment';\nimport Swal from 'sweetalert2';\nimport { SubirArchivosService } from '../services/subir-archivos.service';\nimport { environment } from 'src/environments/environment';\nimport { Cell, Img, PdfMakeWrapper, Stack, Table, Txt } from 'pdfmake-wrapper';\nimport * as pdfFonts from \"pdfmake/build/vfs_fonts\";\n\n\n// const consultaDolar = require('consulta-dolar-venezuela');\n\n@Component({\n  selector: 'app-bar-chart',\n  templateUrl: './bar-chart.component.html',\n  styleUrls: ['./bar-chart.component.css']\n})\nexport class BarChartComponent implements OnInit {\n\n  constructor(private api:RestApiService,\n    private route:ActivatedRoute,\n    private subirArchivo:SubirArchivosService) {\n      this.producto = this.route.snapshot.paramMap.get('producto')\n   }\n\n  public producto;\n  public productos:any\n  public Sustrato;\n  public colores = []\n  public barniz = []\n  public pega = []\n  public caja\n  public i_montajes = 0;\n  public montajes;\n  public Ejemplares;\n  public ImgSubir:File;\n\n  baseUrl = environment.api\n\n  public Edicion:boolean = false;\n  \n  ngOnInit(): void {\n    this.buscarAlmacen();\n    this.GetOneProducto(this.producto)\n\n  }\n\n  Editar_Especificacion(){\n    this.Edicion = true;\n  }\n\n  pull_toneladas(n){\n    // this.tonelada()\n  }\n\n  public GetOneProducto(id){\n    this.api.getOneById(id)\n    .subscribe((resp:any)=>{\n      this.productos = resp\n      this.montajes = this.productos.producto.montajes\n      console.log(this.productos)\n      this.Ejemplares = this.productos.producto.ejemplares[this.i_montajes]\n      for(let i=0;i<resp.producto.materiales[this.i_montajes].length;i++){\n        let grupo = resp.producto.materiales[this.i_montajes][i].producto.grupo.nombre\n        if(grupo === 'Sustrato'){\n          this.Sustrato = resp.producto.materiales[this.i_montajes][i].producto\n          // this.tonelada();\n        }\n        if(grupo === 'Tinta'){\n          this.colores.push(resp.producto.materiales[this.i_montajes][i].producto)\n        }\n        if(grupo === 'Barniz' || grupo === 'Barniz Acuoso'){\n          this.barniz.push(resp.producto.materiales[this.i_montajes][i].producto.nombre)\n          console.log(this.barniz)\n        }\n        if(grupo === 'Pega'){\n          this.pega.push(resp.producto.materiales[this.i_montajes][i].producto.nombre)\n          console.log(this.pega)\n        }\n        if(grupo === 'Cajas Corrugadas'){\n          this.caja = resp.producto.materiales[this.i_montajes][i]\n        }\n      }\n      console.log(this.productos)\n    })\n  }\n\n  public inicio = 5\n  public registros = []\n  intervalo(i,color){\n\n    let repeat = this.registros.find(x=> x.color === color);\n    if(!repeat){\n      let show = i + this.inicio;\n      this.registros.push({color,show})\n      this.inicio++\n      console.log(this.registros)\n      return show\n    }\n\n  }\n\n  montaje(n){\n    switch(n)\n    {\n        case 0: return \"A\";\n        case 1: return \"B\";\n        case 2: return \"C\";\n        case 3: return \"D\";\n        case 4: return \"E\";\n        case 5: return \"F\";\n        case 6: return \"G\";\n        case 7: return \"H\";\n        case 8: return \"I\";\n    }\n  }\n\n  Seleccionarimpresora(e){\n    let array = this.productos.producto.impresora_aprobada\n    let existe = array.find(x => x === e)\n\n    console.log(e)\n\n    if(!existe && e != '#'){\n      this.productos.producto.impresora_aprobada.push(e)\n    }\n\n\n  }\n\n  Seleccionartroqueladora(e){\n    let array = this.productos.producto.troqueladora_aprobada\n    let existe = array.find(x => x === e)\n\n    console.log(e)\n\n    if(!existe && e != '#'){\n      this.productos.producto.troqueladora_aprobada.push(e)\n    }\n    \n  }\n\n  Guillotina_aprobada(e){\n    let array = this.productos.producto.guillotina_aprobada\n    let existe = array.find(x => x === e)\n\n    console.log(e)\n    if(this.productos.producto.guillotina_aprobada[0] === 'No aplica'){\n      this.productos.producto.guillotina_aprobada = []\n    }\n\n    if(!existe && e != '#'){\n      this.productos.producto.guillotina_aprobada.push(e)\n    }\n\n    if(e === '#'){\n      this.productos.producto.guillotina_aprobada = []\n      this.productos.producto.guillotina_aprobada.push('No aplica')\n    }\n\n  }\n  Pegadora_aprobada(e){\n    let array = this.productos.producto.pegadora_aprobada\n    let existe = array.find(x => x === e)\n\n    console.log(e)\n    if(this.productos.producto.pegadora_aprobada[0] === 'No aplica'){\n      this.productos.producto.pegadora_aprobada = []\n    }\n\n    if(!existe && e != '#'){\n      this.productos.producto.pegadora_aprobada.push(e)\n    }\n\n    if(e === '#'){\n      this.productos.producto.pegadora_aprobada = []\n      this.productos.producto.pegadora_aprobada.push('No aplica')\n    }\n  }\n\n\n  deletePegadora(i){\n    this.productos.producto.pegadora_aprobada.splice(i,1)\n  }\n\n  deleteGuillotina(i){\n    this.productos.producto.guillotina_aprobada.splice(i,1)\n\n  }\n\n  deleteTroqueladora(i){\n    this.productos.producto.troqueladora_aprobada.splice(i,1)\n\n  }\n\n  deleteImpresora(i){\n    this.productos.producto.impresora_aprobada.splice(i,1)\n  }\n\n  Finalizar_edicion(){\n    console.log(this.producto)\n    console.log(this.productos.producto)\n    this.api.updateProducto(this.productos.producto, this.producto)\n      .subscribe((resp:any)=>{\n        this.Edicion = false;\n        Swal.fire({\n          title:'Editado',\n          text:'Se realizarón los cambios de manera exitosa',\n          icon:'success',\n          timerProgressBar:true,\n          timer:2000,\n          showConfirmButton:false\n        })\n      })\n  }\n\n  public aprobado;\n  public formato_ = 'ai'\n  aprobacion(e){\n    let fecha = e.split('-')\n    console.log(`${fecha[2]}${fecha[1]}${fecha[0]}`)\n    this.productos.producto.diseno_producto[0] = `${fecha[2]}${fecha[1]}${fecha[0]}`\n  }\n  __formato(e){\n    this.productos.producto.diseno_producto[1]= e;\n  }\n\n  monateje(e,i){\n    let fecha = e.split('-')\n    console.log(`${fecha[2]}${fecha[1]}${fecha[0]}`)\n    if(i === 0){\n      this.productos.producto.diseno_montaje[0] = `${fecha[2]}${fecha[1]}${fecha[0]}`\n    }else{\n      this.productos.producto.diseno_montaje[2] = `${fecha[2]}${fecha[1]}${fecha[0]}`\n    }\n  }\n\n  __formato_monateje(e,i){\n    if(i === 0){\n      \n      this.productos.producto.diseno_montaje[1]= e;\n    }else{\n      this.productos.producto.diseno_montaje[3]= e;\n      \n    }\n\n  }\n\n  direccion_dfibra(e){\n    this.productos.producto.direccion_fibra = e;\n  }\n\n  hendidura(e){\n\n  }\n\n\n  public unidades_tonelada;\n  tonelada(a,b,c){\n    let paginas = this.Sustrato.gramaje*a*b\n        paginas = 10000000000 / paginas\n        paginas = Math.trunc(paginas)\n        this.unidades_tonelada = this.Ejemplares * paginas;\n        return  c * paginas\n      // console.log(paginas,'<------------>')\n\n  }\n\n  calcular_desperdicio(x,y,z){\n    let area = x*y;\n    let porcentaje = area * 100 / z\n    porcentaje = porcentaje - 100;\n    return porcentaje.toFixed(2);\n  }\n  \n\n\n  public Desperdicio\n  calcular_Desperdicio(){\n    let area = this.productos.producto.tamano_sustrato[0]*this.productos.producto.tamano_sustrato[1];\n\n    this.productos.producto.Area_impresion\n\n\n    let porcentaje = area * 100 / this.productos.producto.Area_impresion\n\n    porcentaje =  porcentaje - 100;\n\n    this.Desperdicio = porcentaje.toFixed(2)\n\n    console.log(porcentaje)\n  }\n\n  public Materiales = [];\n  public Sustrato__ = []\n  public Tintas = []\n  public Quimicos = []\n  public Cajas = []\n  public Planchas = []\n  buscarAlmacen(){\n    this.api.getAlmacen()\n    .subscribe((resp:any)=>{\n      this.Materiales = resp.materiales;\n      for(let i=0;i<this.Materiales.length;i++){\n        // console.log(i)\n        if(this.Materiales[i].grupo.nombre === 'Sustrato'){\n          let existe = this.Sustrato__.find(x=>x.nombre === this.Materiales[i].nombre && x.marca === this.Materiales[i].marca && x.calibre === this.Materiales[i].calibre && x.gramaje === this.Materiales[i].gramaje)\n          if(!existe){\n            this.Sustrato__.push(this.Materiales[i])\n          }\n        }\n        if(this.Materiales[i].grupo.nombre === 'Tinta'){\n          let existe = this.Tintas.find(x=>x.nombre === this.Materiales[i].nombre && x.marca === this.Materiales[i].marca )\n          if(!existe){\n            this.Tintas.push(this.Materiales[i])\n          }\n        }\n        if(this.Materiales[i].grupo.nombre === 'Quimicos'){\n          let existe = this.Quimicos.find(x=>x.nombre === this.Materiales[i].nombre && x.marca === this.Materiales[i].marca )\n          console.log(existe)\n          if(!existe){\n            this.Quimicos.push(this.Materiales[i])\n            // console.log(this.Quimicos)\n          }\n        }\n        if(this.Materiales[i].grupo.nombre === 'Cajas Corrugadas'){\n          let existe = this.Cajas.find(x=>x.nombre === this.Materiales[i].nombre)\n          console.log(existe)\n          if(!existe){\n            this.Cajas.push(this.Materiales[i])\n            // console.log(this.Cajas)\n          }\n        }\n        if(this.Materiales[i].grupo.nombre === 'Otros materiales'){\n          let existe = this.Planchas.find(x=>x.nombre === this.Materiales[i].nombre)\n          console.log(existe)\n          if(!existe){\n            this.Planchas.push(this.Materiales[i])\n            // console.log(this.Planchas)\n          }\n        }\n      }\n    })\n  }\n\n\n  CambiarImagen( event:any ){\n    this.ImgSubir = (event.target).files[0];\n    document.getElementsByClassName('file-name_')[0].innerHTML = this.ImgSubir.name;\n  }\n\n  Formatear(text){\n    \n    text = text.replace(/\\r?\\n/g, `\n    `);\n    return text \n  }\n\n  subirImagen(){\n    // this.cargando = true;\n    this.subirArchivo.actualizarFoto(this.ImgSubir, 'despacho', this.producto )\n    .then(img => {\n      if(img){\n\n        console.log(img)\n        this.productos.producto.paletizado = img\n        // this.usuario.img = img;\n        document.getElementsByClassName('file-name')[0].innerHTML = 'Sin archivo...';\n        this.ImgSubir = null;\n      }\n      // this.GetOneProducto(this.producto)\n      // this.verProducto(this.OneProduct._id)\n      // this.verProducto(this.OneProduct._id)\n      // this.cargando = false;\n      });\n  }\n\n  CambiarImagen_( event:any ){\n    this.ImgSubir = (event.target).files[0];\n    document.getElementsByClassName('file-name__')[0].innerHTML = this.ImgSubir.name;\n  }\n\n  subirImagen_(){\n    // this.cargando = true;\n    this.subirArchivo.actualizarFoto(this.ImgSubir, 'distribucion', this.producto )\n    .then(img => {\n      if(img){\n        // this.usuario.img = img;\n        this.productos.producto.distribucion = img\n        document.getElementsByClassName('file-name')[0].innerHTML = 'Sin archivo...';\n        this.ImgSubir = null;\n      }\n      // this.GetOneProducto(this.producto)\n      // this.verProducto(this.OneProduct._id)\n      // this.verProducto(this.OneProduct._id)\n      // this.cargando = false;\n      });\n  }\n\n  CambiarImagen__( event:any ){\n    this.ImgSubir = (event.target).files[0];\n    document.getElementsByClassName('file-name___')[0].innerHTML = this.ImgSubir.name;\n  }\n\n  subirImagen__(){\n    // this.cargando = true;\n    this.subirArchivo.actualizarFoto(this.ImgSubir, 'aereo', this.producto )\n    .then(img => {\n      if(img){\n        // this.usuario.img = img;\n        this.productos.producto.aereo = img\n        document.getElementsByClassName('file-name')[0].innerHTML = 'Sin archivo...';\n        this.ImgSubir = null;\n      }\n      // this.GetOneProducto(this.producto)\n      // this.verProducto(this.OneProduct._id)\n      // this.verProducto(this.OneProduct._id)\n      // this.cargando = false;\n      });\n  }\n\n\n  DescargarPDF(){\n\n    let producto = this.productos.producto\n    let producto_cerrado = ``\n    let Sustrato = this.Sustrato\n    let colores = []\n    let tintas = []\n    let necesario = ''\n    let barniz = this.barniz\n    let montajes = this.montajes\n    console.log(montajes)\n\n    let test:boolean = false;\n\n    for(let i=0;i<this.colores.length;i++){\n      colores.push(`•${this.colores[i].color}`)\n      if(this.colores[i].preparacion.length < 1){\n        tintas.push(`•${this.colores[i].nombre} (${this.colores[i].marca})`)\n      }else{\n\n        for(let n=0; n<this.colores[i].preparacion.length;n++){\n          necesario = necesario + `${this.colores[i].preparacion[n].cantidad}g ${this.colores[i].preparacion[n].nombre}\\n       `\n          console.log(necesario)\n        }\n\n        tintas.push(`•${this.colores[i].nombre} (${this.colores[i].marca})\n              Preparación local (1kg):\n              ${necesario}`)\n      }\n    }\n\n    if(producto.tamano_cerrado[2]){\n      producto_cerrado = `${producto.tamano_cerrado[0]} x ${producto.tamano_cerrado[1]} x ${producto.tamano_cerrado[2]} ± ${producto.tamano_cerrado[3]}`\n    }else{\n      producto_cerrado = `${producto.tamano_cerrado[0]} x ${producto.tamano_cerrado[1]} ± ${producto.tamano_cerrado[3]}`\n    }\n\n\n    async function generarEspecificacion() {\n      const pdf = new PdfMakeWrapper();\n      PdfMakeWrapper.setFonts(pdfFonts);\n      pdf.pageOrientation('portrait');\n      pdf.pageSize('A4');\n\n      pdf.add(\n        new Table([\n          [\n            new Cell(await new Img('../../assets/poli_cintillo.png').width(85).margin([0, 15]).build()).alignment('center').rowSpan(4).end,\n            new Cell(new Txt(`\n            FORMATO \n            ESPECIFICACIÓN DE \n            PRODUCTO\n            `).bold().end).alignment('center').fontSize(13).rowSpan(4).end,\n            new Cell(new Txt('Código: FRP-007').end).fillColor('#dedede').fontSize(9).alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('N° de Revisión: 1').end).fillColor('#dedede').fontSize(9).alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('Fecha de Revision: 20/06/2023').end).fillColor('#dedede').fontSize(9).alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('Página: 1 de 1').end).fillColor('#dedede').fontSize(9).alignment('center').end,\n          ],\n        ]).widths(['25%','50%','25%']).end\n      )\n\n      pdf.add(\n        pdf.ln(1)\n      )\n\n      pdf.add(\n        new Table([\n          [\n            new Cell(new Txt('').end).border([false]).end,\n            new Cell(new Txt('CÓDIGO DE ESPECIFICACIÓN').end).fontSize(10).fillColor('#000000').color('#FFFFFF').alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('').end).border([false]).end,\n            new Cell(new Txt(`E-${producto.cliente.codigo}-${producto.codigo}-${producto.version}-${producto.edicion}`).end).fontSize(15).alignment('center').end,\n          ],\n        ]).widths(['70%','30%']).end\n      )\n\n      pdf.add(\n        pdf.ln(1)\n      )\n\n      pdf.add(\n        new Table([\n          [\n            new Cell(new Txt('1. IDENTIFICACIÓN DE PRODUCTO').end).colSpan(2).fontSize(10).fillColor('#000000').color('#FFFFFF').end,\n            new Cell(new Txt('').end).border([false]).end,\n          ],\n          [\n            new Cell(new Txt('1.1. Cliente:').bold().end).end,\n            new Cell(new Txt(`${producto.cliente.nombre}`).end).end\n          ],\n          [\n            new Cell(new Txt('1.2. producto:').bold().end).end,\n            new Cell(new Txt(`${producto.producto}`).end).end\n          ],\n          [\n            new Cell(new Txt('1.3. código del producto:').bold().end).end,\n            new Cell(new Txt(`${producto.cliente.codigo}-${producto.codigo}-${producto.version}`).end).end\n          ],\n\n        ]).widths(['30%','70%']).end\n      )\n\n      pdf.add(\n        pdf.ln(1)\n      )\n\n      pdf.add(\n        new Table([\n          [\n            new Cell(new Txt('2. DIMENSIONES DEL PRODUCTO').end).colSpan(2).fontSize(10).fillColor('#000000').color('#FFFFFF').end,\n            new Cell(new Txt('').end).border([false]).end,\n          ],\n          [\n            new Cell(new Txt('2.1. Tamaño del producto desplegado (mm):').bold().end).end,\n            new Cell(new Txt(`${producto.tamano_desplegado[0]} x ${producto.tamano_desplegado[1]} ± ${producto.tamano_desplegado[2]}`).end).end\n          ],\n          [\n            new Cell(new Txt('2.2. Tamaño del producto cerrado (mm):').bold().end).end,\n            new Cell(new Txt(`${producto_cerrado}`).end).end\n          ],\n          [\n            new Cell(\n              new Table([\n                [\n                  new Cell(new Txt('2.3. diseño del producto').bold().end).margin([-5,0]).border([false]).end,\n                ],\n                [\n                  new Cell(await new Img(`http://localhost:8080/api/imagen/producto/${producto.img}`).width(400).build()).alignment('center').end,\n                ],\n                [\n                  new Cell(new Txt('Imagen 1: Diseño del producto').end).alignment('center').border([false]).end,\n                ]\n              ]).widths(['100%']).end\n            ).colSpan(2).end,\n            new Cell(new Txt(``).end).end\n          ],\n        ]).widths(['30%','70%']).pageBreak('after').end\n      )\n\n      pdf.add(\n        new Table([\n          [\n            new Cell(await new Img('../../assets/poli_cintillo.png').width(85).margin([0, 15]).build()).alignment('center').rowSpan(4).end,\n            new Cell(new Txt(`\n            FORMATO \n            ESPECIFICACIÓN DE \n            PRODUCTO\n            `).bold().end).alignment('center').fontSize(13).rowSpan(4).end,\n            new Cell(new Txt('Código: FRP-007').end).fillColor('#dedede').fontSize(9).alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('N° de Revisión: 1').end).fillColor('#dedede').fontSize(9).alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('Fecha de Revision: 20/06/2023').end).fillColor('#dedede').fontSize(9).alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('Página: 1 de 1').end).fillColor('#dedede').fontSize(9).alignment('center').end,\n          ],\n        ]).widths(['25%','50%','25%']).end\n      )\n\n      pdf.add(\n        pdf.ln(1)\n      )\n\n      pdf.add(\n        new Table([\n          [\n            new Cell(new Txt('3. MATERIA PRIMA').end).colSpan(3).fontSize(10).fillColor('#000000').color('#FFFFFF').end,\n            new Cell(new Txt('').end).border([false]).end,\n            new Cell(new Txt('').end).border([false]).end,\n\n          ],\n          [\n            new Cell(new Txt('3.1. Tipo de sustrato a utilizar:').bold().end).end,\n            new Cell(new Txt(`${Sustrato.nombre}`).end).colSpan(2).end,\n            new Cell(new Txt('').end).border([false]).end,\n\n          ],\n          [\n            new Cell(new Txt('3.2. Espesor / Calibre (μm):').bold().end).end,\n            new Cell(\n              new Table([\n                [\n                  new Cell(new Txt('Minimo').bold().end).alignment('center').end,\n                  new Cell(new Txt('Nominal').bold().end).alignment('center').end,\n                  new Cell(new Txt('Maximo').bold().end).alignment('center').end,\n                ],\n                [\n                  new Cell(new Txt(Sustrato.calibre_e[0]).end).alignment('center').end,\n                  new Cell(new Txt(Sustrato.calibre_e[1]).end).alignment('center').end,\n                  new Cell(new Txt(Sustrato.calibre_e[2]).end).alignment('center').end,\n                ]\n              ]).widths(['33%','34%','33%']).end\n            ).end,\n            new Cell(new Txt(`Método de ensayo:\n            COVENIN 946-79\n            TAPPI T411`).end).alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('3.3. Peso / Gramaje (g/m²):').bold().end).end,\n            new Cell(\n              new Table([\n                [\n                  new Cell(new Txt('Minimo').bold().end).alignment('center').end,\n                  new Cell(new Txt('Nominal').bold().end).alignment('center').end,\n                  new Cell(new Txt('Maximo').bold().end).alignment('center').end,\n                ],\n                [\n                  new Cell(new Txt(Sustrato.gramaje_e[0]).end).alignment('center').end,\n                  new Cell(new Txt(Sustrato.gramaje_e[1]).end).alignment('center').end,\n                  new Cell(new Txt(Sustrato.gramaje_e[2]).end).alignment('center').end,\n                ]\n              ]).widths(['33%','34%','33%']).end\n            ).end,\n            new Cell(new Txt(`Método de ensayo:\n            COVENIN 945-84\n            TAPPI T410`).end).alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('3.4. Colores aprobados:').bold().end).end,\n            new Cell(new Stack(colores).end).colSpan(2).end,\n            new Cell(new Txt('').end).end,\n\n          ],\n          [\n            new Cell(new Txt('3.5. Tintas aprobadas (Marcas):').bold().end).end,\n            new Cell(new Stack(tintas).end).colSpan(2).end,\n            new Cell(new Txt('').end).end,\n          ],\n          [\n            new Cell(new Txt('3.6. Barnices aprobados:').bold().end).end,\n            new Cell(new Stack(barniz).end).colSpan(2).end,\n            new Cell(new Txt('').end).end,\n          ],\n          [\n            new Cell(new Txt('3.7. Dirección de fibra de la etiqueta::').bold().end).end,\n            new Cell(new Txt(`Paralela al largo total del producto (${producto.tamano_desplegado[producto.direccion_fibra]})`).end).end,\n            new Cell(new Txt(`Método de ensayo:\n            COVENIN 26-79\n            TAPPI T-409 om-98`).end).alignment('center').end,\n          ]\n        ]).widths(['30%','40%','30%']).pageBreak('after').end\n      )\n\n      pdf.add(\n        new Table([\n          [\n            new Cell(await new Img('../../assets/poli_cintillo.png').width(85).margin([0, 15]).build()).alignment('center').rowSpan(4).end,\n            new Cell(new Txt(`\n            FORMATO \n            ESPECIFICACIÓN DE \n            PRODUCTO\n            `).bold().end).alignment('center').fontSize(13).rowSpan(4).end,\n            new Cell(new Txt('Código: FRP-007').end).fillColor('#dedede').fontSize(9).alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('N° de Revisión: 1').end).fillColor('#dedede').fontSize(9).alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('Fecha de Revision: 20/06/2023').end).fillColor('#dedede').fontSize(9).alignment('center').end,\n          ],\n          [\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('').end).end,\n            new Cell(new Txt('Página: 1 de 1').end).fillColor('#dedede').fontSize(9).alignment('center').end,\n          ],\n        ]).widths(['25%','50%','25%']).end\n      )\n\n      pdf.add(\n        pdf.ln(1)\n      )\n\n      pdf.add(\n        new Table([\n          [\n            new Cell(new Txt('4. PRE-IMPRESION').end).colSpan(3).fontSize(10).fillColor('#000000').color('#FFFFFF').end,\n            new Cell(new Txt('').end).border([false]).end,\n            new Cell(new Txt('').end).border([false]).end,\n          ],\n          [\n            new Cell(new Txt('4.1. Nombre del archivo del diseño del producto:').bold().end).end,\n            new Cell(new Txt(`AD-${producto.cliente.codigo}-${producto.codigo}-${producto.version}_${producto.diseno_producto[0]}.${producto.diseno_producto[1]}`).end).colSpan(2).end,\n            new Cell(new Txt('').end).end,\n          ]\n        ]).widths(['30%','35%','35%']).end\n      )\n      \n      if(montajes == 2){\n        pdf.add(\n          new Table([\n            [\n              new Cell(new Txt('4.2. Código del montaje:').bold().end).border([true,false,false,true]).end,\n              new Cell(\n                new Table([\n                  [\n                    new Cell(new Txt(`Montaje A:`).bold().end).end,\n                  ],\n                  [\n                    new Cell(new Txt(`M-${producto.cliente.codigo}-${producto.codigo}-${producto.version}-A`).end).end,\n                  ]\n                ]).layout('noBorders').end\n              ).border([true,false,false,true]).end,\n              new Cell(\n                new Table([\n                  [\n                    new Cell(new Txt(`Montaje A:`).bold().end).end,\n                  ],\n                  [\n                    new Cell(new Txt(`M-${producto.cliente.codigo}-${producto.codigo}-${producto.version}-B`).end).end,\n                  ]\n                ]).layout('noBorders').end\n              ).end\n            ],\n            [\n              new Cell(new Txt('4.3. Nombre del archivo del montaje del producto:').bold().end).border([true,false,false,true]).end,\n            ]\n          ]).widths(['30%','35%','35%']).end\n        )\n\n      }\n      \n    \n\n\n  \n      pdf.create().download(`TEST`)\n    }\n\n    generarEspecificacion();\n\n}\n\n\n}\n\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MainComponent } from './main/main.component';\r\nimport { OrdenesRoutingModule } from './ordenes-routing.module';\r\nimport { GestionComponent } from './gestion/gestion.component';\r\nimport { DevolucionComponent } from './gestion/devolucion/devolucion.component';\r\nimport { SolcitudComponent } from './gestion/solcitud/solcitud.component';\r\nimport { DetallesComponent } from './detalles/detalles.component';\r\nimport { DespachosComponent } from './despachos/despachos.component';\r\nimport { DespachoComponent } from './gestion/despacho/despacho.component';\r\nimport { RouterModule } from '@angular/router';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [MainComponent, GestionComponent,DevolucionComponent,SolcitudComponent, DetallesComponent, DespachosComponent, DespachoComponent],\r\n  imports: [\r\n    CommonModule,\r\n    OrdenesRoutingModule,\r\n    RouterModule\r\n  ]\r\n})\r\nexport class OrdenesModule { }\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MainComponent } from './main/main.component';\nimport { EstadisticasRoutingModule } from './estadisticas-routing.module';\nimport { EstadisticasComponent } from './estadisticas.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from '../shared/shared.module';\nimport { RouterModule } from '@angular/router';\nimport { GestionesComponent } from './gestiones/gestiones.component';\nimport { ConsumoComponent } from './consumo/consumo.component';\nimport { AdicionalesComponent } from './adicionales/adicionales.component';\nimport { DespachosComponent } from './despachos/despachos.component';\n\n\n\n\n\n@NgModule({\n  declarations: [MainComponent,EstadisticasComponent, GestionesComponent, ConsumoComponent, AdicionalesComponent, DespachosComponent],\n  imports: [\n    SharedModule,\n    CommonModule,\n    EstadisticasRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule\n  ]\n})\nexport class EstadisticasModule { }\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-confirmacion',\r\n  templateUrl: './confirmacion.component.html',\r\n  styleUrls: ['./confirmacion.component.css']\r\n})\r\nexport class ConfirmacionComponent implements OnInit {\r\n\r\n  @Input() confirmacion:any\r\n  @Output() onCloseModal = new EventEmitter();\r\n  @Output() onReset = new EventEmitter();\r\n\r\n  constructor(private api:RestApiService) { }\r\n\r\n  public Pendiente\r\n\r\n  ngOnInit(): void {\r\n    this.buscarPendientes();\r\n  }\r\n\r\n  buscarPendientes(){\r\n    this.api.getRequiEspera()\r\n      .subscribe((resp:any)=>{\r\n        this.Pendiente = resp;\r\n      })\r\n  }\r\n\r\n  mostrar(){\r\n    this.confirmacion = true;\r\n    // // console.log(this.Pendiente)\r\n  }\r\n\r\n  onClose(){\r\n    this.confirmacion = false;\r\n    this.onCloseModal.emit();\r\n  }\r\n\r\n  aprobar(id:any){\r\n    Swal.fire({\r\n      title: '¿Aprobar Solicitud?',\r\n      text: \"No podrás revertir esto!\",\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Sí, Aprobar!',\r\n      cancelButtonText:'Cancelar'\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        this.api.UpdateRequi(id)\r\n          .subscribe((resp:any)=>{\r\n            this.buscarPendientes();\r\n            this.onReset.emit()\r\n          })\r\n        Swal.fire(\r\n      {\r\n        showConfirmButton:false,\r\n        title:'Aprobado!',\r\n        text:'La solicitud fue aprobada',\r\n        icon:'success'\r\n      }\r\n          )\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  rechazar(id:any){\r\n    Swal.fire({\r\n  title: '¿Rechazar Solicitud?',\r\n  text: \"No podrás revertir esto!\",\r\n  icon: 'warning',\r\n  showCancelButton: true,\r\n  confirmButtonColor: '#3085d6',\r\n  cancelButtonColor: '#d33',\r\n  confirmButtonText: 'Sí, Rechazar!',\r\n  cancelButtonText:'Cancelar'\r\n}).then((result) => {\r\n  if (result.isConfirmed) {\r\n    this.api.DeleteRequi(id)\r\n      .subscribe((resp:any)=>{\r\n        this.buscarPendientes();\r\n        this.onReset.emit()\r\n      })\r\n    Swal.fire(\r\n      {\r\n        showConfirmButton:false,\r\n        title:'Rechazado!',\r\n        text:'La solicitud fue rechazada',\r\n        icon:'error'\r\n      }\r\n    )\r\n  }\r\n})\r\n  }\r\n\r\n}\r\n","\r\n<div class=\"modal\" [ngClass]=\"{'is-active':confirmacion}\">\r\n    <div class=\"modal-background\" (click)=\"onClose()\"></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">\r\n                Solicitud de Material\r\n            </div>\r\n            <hr>\r\n            <ng-container *ngFor=\"let pendiente of Pendiente\">\r\n\r\n                <ng-container *ngIf=\"pendiente.sort === '#'\">\r\n                    <p class=\"orden\">Solicitud de Material por: ({{pendiente.usuario}})</p>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"pendiente.sort != '#'\">\r\n                    <p class=\"orden\">Orden: {{pendiente.sort}} ({{pendiente.usuario}})</p>\r\n                </ng-container>\r\n                <b>Motivo: </b>{{pendiente.motivo}}\r\n                <table class=\"table is-fullwidth\" >\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Material</th>\r\n                            <th>Cantidad</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"necesario of pendiente.producto.materiales[0];index as i\">\r\n                            <td>{{pendiente.producto.materiales[0][i].producto.nombre}} ({{pendiente.producto.materiales[0][i].producto.marca}})</td>\r\n                            <td>{{pendiente.producto.materiales[0][i].cantidad}}{{pendiente.producto.materiales[0][i].producto.unidad}}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n            <button class=\"button is-success\" (click)=\"aprobar(pendiente._id)\">Aprobar Solicitud</button> <button class=\"button is-danger\" (click)=\"rechazar(pendiente._id)\">Rechazar Solicitud</button>\r\n            <hr>\r\n            </ng-container>\r\n        </div>\r\n    </div>\r\n</div>\r\n","<div class=\"card\">\r\n    <div class=\"card-content\">\r\n        <div class=\"titulo\">Almacen</div>\r\n        <button class=\"button is-primary edited\" (click)='Modal_Almacen()' *ngIf=\"!_bobina && usuario.Almacen == 2\">\r\n            <span class=\"icon\">\r\n                <i class=\"fas fa-swatchbook\"></i>\r\n            </span>\r\n            <span>\r\n                Nuevo <br>\r\n                <span class=\"down\">\r\n                material\r\n                </span>\r\n            </span>\r\n        </button>\r\n        <button class=\"button is-primary edited\" (click)='Nuevo_producto()' *ngIf=\"!_bobina && usuario.Almacen == 2\">\r\n            <span class=\"icon\">\r\n                <i class=\"fas fa-pallet\"></i>\r\n            </span>\r\n            <span>\r\n                Agregar <br>\r\n                <span class=\"down\">\r\n                inventario\r\n                </span>\r\n            </span>\r\n        </button>\r\n        <button class=\"button is-primary\" (click)='modal_Conversion()' *ngIf=\"_bobina && usuario.Almacen == 2 || _bobina && usuario.Role == 'ADMIN'\" >Hacer Conversión</button>\r\n        <button class=\"button is-primary\" (click)='Modal_bobinas()' *ngIf=\"_bobina && usuario.Almacen == 2\">Nueva Bobinas</button>\r\n        <button class=\"button is-primary edited\" (click)='modal_asignacion()' *ngIf=\"usuario.Almacen == 2\">\r\n            <span class=\"icon\">\r\n                <i class=\"fas fa-hand-holding edited\"></i>\r\n            </span>\r\n            <span>\r\n\r\n                Material <br>\r\n                <span class=\"down\">\r\n                    necesario (\r\n                        <ng-container *ngIf=\"necesario\">\r\n                            {{necesario.length}}\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"!necesario\">\r\n                            0\r\n                        </ng-container>\r\n                        )\r\n                </span>\r\n            </span>\r\n        </button>\r\n        <button class=\"button is-primary edited\" (click)=\"Requisicion()\">\r\n            <span class=\"icon\">\r\n                <i class=\"far fa-bell\"></i>\r\n            </span>\r\n            <span>\r\n                Solicitud <br>\r\n                <span class=\"down\">\r\n                    pendiente (\r\n                    <ng-container *ngIf=\"Pendiente\">\r\n                        {{Pendiente.length}}\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"!Pendiente\">\r\n                        0\r\n                    </ng-container>\r\n                    )\r\n                </span>\r\n            </span>\r\n        </button>\r\n        <ng-containe *ngIf=\"Devoluciones\">\r\n            <ng-container *ngIf=\"Devoluciones.length > 0 && usuario.Almacen == 2\">\r\n                <button class=\"button is-danger is-outlined\" (click)=\"Modal_Devolucion()\">\r\n                    <span>Devolución</span>\r\n                    <span class=\"icon is-small\">\r\n                        <i class=\"fas fa-exclamation\"></i>\r\n                    </span>\r\n                </button>\r\n            </ng-container>\r\n        </ng-containe>\r\n        \r\n        <hr>\r\n\r\n        <app-asignacion\r\n        [asignacion]=\"asignacion\"\r\n        [necesario]=\"necesario\"\r\n        [ALMACEN]=\"ALMACEN\"\r\n        [Almacenado]=\"Almacenado\"\r\n        (onCloseModal)=\"asignacion = false\"\r\n        (onFinalizarAsignacion)=\"finalizar_asignacion()\"\r\n        (onAgregarRequisicioes)=\"agregarRequisicion($event)\">\r\n        </app-asignacion>\r\n\r\n        <app-confirmacion\r\n        [confirmacion]=\"confirmacion\"\r\n        (onCloseModal)=\"confirmacion = false\"\r\n        (onReset)=\"buscarPendientes()\">\r\n        </app-confirmacion>\r\n\r\n        <div class=\"modal\" [ngClass]=\"{'is-active':Dev_}\">\r\n            <div class=\"modal-background\" (click)=\"Modal_Devolucion()\"></div>\r\n            <div class=\"modal-card\">\r\n                <div class=\"modal-card-body\">\r\n                    <p class=\"subtitulo\">Devoluciones pendientes</p>\r\n                    <hr>\r\n                    <ng-container *ngFor=\"let devolucion of Devoluciones\">\r\n                        <p class=\"subtitulo\">Orden: {{devolucion.orden}}</p>\r\n                        <b>Motivo: </b> {{devolucion.motivo}}\r\n                        <table class=\"table is-fullwidth is-striped\">\r\n                            <thead>\r\n                                <th>Material</th>\r\n                                <th>Lote / codigo</th>\r\n                                <th>Cantidad</th>\r\n                            </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let material of devolucion.filtrado\">\r\n                                <td>{{material.material.nombre}}\r\n                                    <ng-container *ngIf=\"material.material.ancho\">\r\n                                        {{material.material.ancho}}x{{material.material.largo}}\r\n                                    </ng-container>\r\n                                     ({{material.material.marca}})</td>\r\n                                    <td>{{material.lote}} / {{material.codigo}}</td>\r\n                                    <td>{{material.cantidad}} {{material.material.unidad}}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                        <br>\r\n                        <button class=\"button is-primary\" (click)=\"confirmarDevolucion(devolucion.filtrado, devolucion._id)\">Confirmar</button>\r\n                         <button class=\"button is-danger\" (click)=\"CancelarDevolucion(devolucion._id)\">Cancelar</button>\r\n                        <hr>\r\n                    </ng-container>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- <div class=\"field\">\r\n            <p class=\"control has-icons-left\">\r\n                <input type=\"text\" class=\"input\" placeholder=\"Buscar\" (keyup)=\"searchTerm$.next($event.target.value)\">\r\n                <span class=\"icon is-small is-left\">\r\n                    <i class=\"fas fa-search\"></i>\r\n                </span>\r\n            </p>\r\n        </div>  -->\r\n        <div class=\"field\">\r\n            <div class=\"select\">\r\n                <select (change)='Almacenes($event.target.value)'>\r\n                    <option value=\"Almacenada\">Inventario</option>\r\n                    <option value=\"Materiales\">Materiales Registrados   </option>\r\n                    <option value=\"Bobinas\">Bobinas</option>\r\n                </select>\r\n            </div> \r\n            <button class=\"button is-success\" *ngIf='resumido && _Almacenado' (click)='changeView()'>Detallado</button>\r\n            <button class=\"button is-success\" *ngIf='detallado && _Almacenado' (click)='changeView()'>Sencillo</button>\r\n            <!-- SENCILLO Y DETALLADO EN BOBINAS -->\r\n            <button class=\"button is-success\" *ngIf='Bobillas && _bobina' (click)='changeView_()'>Detallado</button>\r\n            <button class=\"button is-success\" *ngIf='!Bobillas && _bobina' (click)='changeView_()'>Sencillo</button>\r\n            \r\n        </div>\r\n        <div class=\"card\" *ngIf='loading'>\r\n            <div class=\"card-content\">\r\n                <div class=\"loading\">\r\n                    <div class=\"icon\">\r\n                        cargando...<i class=\"fa-solid fa-loader\"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"card\" *ngIf=\"_bobina\">\r\n            <div class=\"card-content\">\r\n                <div class=\"subtitulo\">\r\n                    Bobinas\r\n                </div>\r\n                <hr>\r\n                <div class=\"subtitulo\">\r\n                    Convertidora Finlandia, C.A.\r\n                </div>\r\n                <hr>\r\n                <table class=\"table is-fullwidth\" *ngIf=\"Bobillas\">\r\n                    <tr>\r\n                        <th>Material</th>\r\n                        <th>Gramaje (g/m²)</th>\r\n                        <th>Ancho de Bobina (cm)</th>\r\n                        <th>Peso (t)</th>\r\n                    </tr>\r\n                    <tr *ngFor='let bobina of BobinasSencillas'>\r\n                        <ng-container *ngIf=\"bobina.convertidora === 'Convertidora Finlandia, C.A.'\">\r\n                            <td>{{bobina.material}}({{bobina.marca}})</td>\r\n                            <td>{{bobina.gramaje}}</td>\r\n                            <td>{{bobina.ancho}}</td>\r\n                            <td>{{puntoYcoma((bobina.peso).toFixed(2))}}</td>\r\n                        </ng-container>\r\n                    </tr>\r\n                </table>\r\n                <table class=\"table is-fullwidth\" *ngIf=\"!Bobillas\">\r\n                    <div class=\"contador\">\r\n                        <strong>Cantidad de bobinas: </strong>{{I_f}}\r\n                    </div>\r\n                    <tr>\r\n                        <th>Nº Bobina</th>\r\n                        <th>Material</th>\r\n                        <th>Gramaje (g/m²)</th>\r\n                        <th>Calibre</th>\r\n                        <th>Ancho de Bobina (cm)</th>\r\n                        <th>Peso (t)</th>\r\n                        <th>Lote</th>\r\n                        <th *ngIf=\"usuario.Almacen == 2\">Descontar</th>\r\n                        <th *ngIf=\"usuario.Almacen == 2\">Descontar</th>\r\n                        <th *ngIf=\"usuario.Almacen == 2\">Editar</th>\r\n                    </tr>\r\n                    <tr *ngFor='let bobina of BOBINAS_;index as i'>\r\n                        <ng-container *ngIf=\"bobina.convertidora === 'Convertidora Finlandia, C.A.'\">\r\n                            <td>\r\n                                <span id=\"1{{i}}F\">\r\n                                    {{bobina.Nbobina}}\r\n                                </span>\r\n                                <span id=\"{{i}}F1\" style=\"display:none; width:'60px'\"><input type=\"text\" class=\"input\" [(ngModel)]=\"BOBINAS_[i].Nbobina\"></span>\r\n                            </td>\r\n                            <td>\r\n                                    {{bobina.material}}({{bobina.marca}})\r\n\r\n                            </td>\r\n                            <td>\r\n                                <span id=\"2{{i}}F\">\r\n                                    {{bobina.gramaje}}\r\n                                </span>\r\n                                <span id=\"{{i}}F2\" style=\"display:none; width:'60px'\"><input type=\"text\" class=\"input\" [(ngModel)]=\"BOBINAS_[i].gramaje\"></span>\r\n                            </td>\r\n                            <td>\r\n                                <span id=\"3{{i}}F\">\r\n                                    {{bobina.calibre}}\r\n                                </span>\r\n                                <span id=\"{{i}}F3\" style=\"display:none; width:'60px'\"><input type=\"text\" class=\"input\" [(ngModel)]=\"BOBINAS_[i].calibre\"></span>\r\n                            <td>\r\n                                <span id=\"4{{i}}F\">\r\n                                    {{bobina.ancho}}\r\n                                </span>\r\n                                <span id=\"{{i}}F4\" style=\"display:none; width:'60px'\"><input type=\"text\" class=\"input\" [(ngModel)]=\"BOBINAS_[i].ancho\"></span>\r\n                            </td>\r\n                            <td>\r\n                                <span id=\"5{{i}}F\">\r\n                                    {{bobina.peso}}\r\n                                </span>\r\n                                <span id=\"{{i}}F5\" style=\"display:none; width:'100px'\"><input type=\"text\" class=\"input\" [(ngModel)]=\"BOBINAS_[i].peso\"></span>\r\n                            </td>\r\n                            <td>\r\n                                <span id=\"6{{i}}F\">\r\n                                    {{bobina.lote}}\r\n                                </span>\r\n                                <span id=\"{{i}}F6\" style=\"display:none; width:'100px'\"><input type=\"text\" class=\"input\" [(ngModel)]=\"BOBINAS_[i].lote\"></span>\r\n                            </td>\r\n                         <td *ngIf=\"usuario.Almacen == 2\">\r\n                                <button class=\"button is-danger is-outlined is-small\" (click)='descontar_bobina(bobina._id)'>\r\n                                    <span>Descontar</span>\r\n                                    <span class=\"icon is-small\">\r\n                                        <i class=\"fas fa-times\"></i>\r\n                                    </span>\r\n                                </button>\r\n                        </td>\r\n                        <td>\r\n                            <button class=\"button is-success is-outlined is-small\" (click)='EditarBobina(i,\"F\")' *ngIf=\"i != Bobina_index\">\r\n                                <span>Editar</span>\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"far fa-edit\"></i>\r\n                                </span>\r\n                            </button>\r\n                            <button class=\"button is-success is-outlined is-small\" (click)='DoneEdit(i,\"F\")' *ngIf=\"i === Bobina_index\">\r\n                                <span>Listo</span>\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"fas fa-check\"></i>\r\n                                </span>\r\n                            </button>\r\n                        </td>\r\n                        </ng-container>\r\n                    </tr>\r\n                </table>\r\n                <br>\r\n                <div class=\"subtitulo\">\r\n                    Redispaca Distribuidora de Papel, C.A.\r\n                </div>\r\n                <hr>\r\n                <table class=\"table is-fullwidth\" *ngIf=\"Bobillas\">\r\n                    <tr>\r\n                        <th>Material</th>\r\n                        <th>Gramaje (g/m²)</th>\r\n                        <th>Ancho de Bobina (cm)</th>\r\n                        <th>Peso (t)</th>\r\n                    </tr>\r\n                    <tr *ngFor='let bobina of BobinasSencillas'>\r\n                        <ng-container *ngIf=\"bobina.convertidora === 'Redispaca Distribuidora de Papel, C.A.'\">\r\n                            <td>{{bobina.material}}({{bobina.marca}})</td>\r\n                            <td>{{bobina.gramaje}}</td>\r\n                            <td>{{bobina.ancho}}</td>\r\n                            <td>{{puntoYcoma((bobina.peso).toFixed(2))}}</td>\r\n                        </ng-container>\r\n                    </tr>\r\n                </table>\r\n                <table class=\"table is-fullwidth\" *ngIf=\"!Bobillas\">\r\n                    <div class=\"contador\">\r\n                        <strong>Cantidad de bobinas: </strong>{{I_r}}\r\n                    </div>\r\n                    <tr>\r\n                        <th>Nº Bobina</th>\r\n                        <th>Material</th>\r\n                        <th>Gramaje (g/m²)</th>\r\n                        <th>Calibre</th>\r\n                        <th>Ancho de Bobina (cm)</th>\r\n                        <th>Peso (t)</th>\r\n                        <th>Lote</th>\r\n                        <th *ngIf=\"usuario.Almacen == 2\">Descontar</th>\r\n                        <th *ngIf=\"usuario.Almacen == 2\">Editar</th>\r\n                    </tr>\r\n                    <tr *ngFor='let bobina of BOBINAS_;index as i'>\r\n                        <ng-container *ngIf=\"bobina.convertidora === 'Redispaca Distribuidora de Papel, C.A.'\">\r\n                            <td>\r\n                                <span id=\"1{{i}}R\"> \r\n                                    {{bobina.Nbobina}}\r\n                                </span>\r\n                                <span id=\"{{i}}R1\" style=\"display:none; width:'60px'\"><input type=\"text\" class=\"input\" [(ngModel)]=\"BOBINAS_[i].Nbobina\"></span>\r\n                            </td>\r\n                            <td>{{bobina.material}}({{bobina.marca}})</td>\r\n                            <td>\r\n                                <span id=\"2{{i}}R\">\r\n                                    {{bobina.gramaje}}\r\n                                </span>\r\n                                <span id=\"{{i}}R2\" style=\"display:none; width:'60px'\"><input type=\"text\" class=\"input\" [(ngModel)]=\"BOBINAS_[i].gramaje\"></span>\r\n                            </td>\r\n                            <td>\r\n                                <span id=\"3{{i}}R\">\r\n                                    {{bobina.calibre}}\r\n                                </span>\r\n                                <span id=\"{{i}}R3\" style=\"display:none; width:'60px'\"><input type=\"text\" class=\"input\" [(ngModel)]=\"BOBINAS_[i].calibre\"></span>\r\n                            </td>\r\n                            <td>\r\n                                <span id=\"4{{i}}R\">\r\n                                    {{bobina.ancho}}\r\n                                </span>\r\n                                <span id=\"{{i}}R4\" style=\"display:none; width:'60px'\"><input type=\"text\" class=\"input\" [(ngModel)]=\"BOBINAS_[i].ancho\"></span>\r\n                            </td>\r\n                            <td>\r\n                                <span id=\"5{{i}}R\">\r\n                                    {{bobina.peso}}\r\n                                </span>\r\n                                <span id=\"{{i}}R5\" style=\"display:none; width:'100px'\"><input type=\"text\" class=\"input\" [(ngModel)]=\"BOBINAS_[i].peso\"></span>\r\n                            </td>\r\n                            <td>\r\n                                <span id=\"6{{i}}R\">\r\n                                    {{bobina.lote}}\r\n                                </span>\r\n                                <span id=\"{{i}}R6\" style=\"display:none; width:'100px'\"><input type=\"text\" class=\"input\" [(ngModel)]=\"BOBINAS_[i].lote\"></span>\r\n                            </td>\r\n                            <td *ngIf=\"usuario.Almacen == 2\">\r\n                                <button class=\"button is-danger is-outlined is-small\" (click)='descontar_bobina(bobina._id)'>\r\n                                    <span>Descontar</span>\r\n                                    <span class=\"icon is-small\">\r\n                                        <i class=\"fas fa-times\"></i>\r\n                                    </span>\r\n                                </button>\r\n                            </td>\r\n                            <td>\r\n                                <button class=\"button is-success is-outlined is-small\" (click)='EditarBobina(i,\"R\")' *ngIf=\"i != Bobina_index\">\r\n                                    <span>Editar</span>\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"far fa-edit\"></i>\r\n                                </span>\r\n                                </button>\r\n                                <button class=\"button is-success is-outlined is-small\" (click)='DoneEdit(i,\"R\")' *ngIf=\"i === Bobina_index\">\r\n                                    <span>Listo</span>\r\n                                    <span class=\"icon is-small\">\r\n                                        <i class=\"fas fa-check\"></i>\r\n                                    </span>\r\n                                </button>\r\n                            </td>\r\n                        </ng-container>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"modal\" [ngClass]=\"{'is-active':descontar_b}\">\r\n            <div class=\"modal-background\" (click)='descontar_bobina()'></div>\r\n            <div class=\"modal-card\">\r\n                <div class=\"modal-card-body\">\r\n                    <div class=\"subtitulo\">Descontar Bobina</div>\r\n                    <hr>\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">N° de Conversión</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"\" [(ngModel)]='_bobina_'>\r\n                                <option value=\"{{conversion.sort}}\" *ngFor='let conversion of conversiones'>{{conversion.sort}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <button class=\"button is-success\" (click)=\"descontar_bobina_(_bobina_)\" *ngIf=\"_bobina_\">Descontar bobina</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"card\" *ngIf='boolean_sustrato'>\r\n            <div class=\"card-content\">\r\n                <div class=\"subtitulo\">\r\n                    Sustrato Convertido (Und.)\r\n                </div>\r\n                <hr>\r\n                <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Materia Prima</th> \r\n                            <th>Cantidad</th>\r\n                            <th *ngIf=\"usuario.Almacen == 2\">Editar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let Sustrato of Sustratos'>\r\n                            <ng-container>\r\n                                <td>{{Sustrato.material}}</td>\r\n                                <td>{{Sustrato.cantidad}}</td>\r\n                                <td *ngIf=\"usuario.Almacen == 2\">\r\n                                    <button class=\"button is-danger is-outlined is-small\" (click)='eliminar_p(Sustrato.material,Sustrato.cantidad,Sustrato._id, \"sustrato\")'>\r\n                                        <span>Eliminar</span>\r\n                                        <span class=\"icon is-small\">\r\n                                          <i class=\"fas fa-times\"></i>\r\n                                        </span>\r\n                                    </button>\r\n   \r\n                                    <!-- <button class=\"button is-success is-outlined is-small\">\r\n                                        <span>Editar</span>\r\n                                        <span class=\"icon is-small\">\r\n                                            <i class=\"fas fa-pencil-alt\"></i>\r\n                                        </span>\r\n                                    </button> -->\r\n                                </td>\r\n                            </ng-container>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div *ngIf='!loading && !_bobina'>\r\n        <div class=\"card animate__animated animate__fadeIn\" *ngFor='let seccion of SECCIONES' >\r\n            <div class=\"card-content\">\r\n                <div class=\"subtitulo\">\r\n                    {{seccion.nombre}}\r\n                </div>\r\n                    <hr>\r\n                    <div>\r\n                    </div>\r\n                    <!-- PRUEBA DE AGRUPAMIENTO -->\r\n                    <div *ngIf='resumido && existencia_(seccion.nombre) === true'>\r\n                    <table class=\"table is-fullwidth\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Material</th>\r\n                                <th>Marca</th>\r\n                                    <ng-container *ngIf=\"seccion.nombre === 'Sustrato'\">\r\n                                        <th>Calibre</th>\r\n                                        <th>Gramaje</th>\r\n                                    </ng-container>\r\n                                <th>Total</th>\r\n                                <!-- <th>Cantidad Total</th> -->\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor='let producto of TOTALES;let i = index'>\r\n                                <ng-container *ngIf='producto.grupo === seccion.nombre'>\r\n                                    <td>{{producto.material}}\r\n                                        \r\n                                        <ng-container *ngIf=\"seccion.nombre === 'Sustrato'\">\r\n                                            ({{producto.ancho}} x {{producto.largo}})\r\n                                        </ng-container>\r\n\r\n                                        <ng-container *ngIf=\"seccion.nombre != 'Sustrato'\">\r\n                                            ({{producto.presentacion}} {{producto.neto}}{{producto.unidad}})\r\n                                        </ng-container>\r\n                                    </td>\r\n                                        <td>{{producto.marca}}</td>\r\n                                        <ng-container *ngIf=\"seccion.nombre === 'Sustrato'\">\r\n                                            <td>{{producto.calibre}}</td>\r\n                                            <td>{{producto.gramaje}}</td>\r\n                                        </ng-container>\r\n                                    <td>{{puntoYcoma((producto.neto * producto.total).toFixed(2))}} {{producto.unidad}}</td>\r\n                                </ng-container>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                    <div *ngIf=\"existencia_(seccion.nombre) === false && _Almacenado\">\r\n                        <div class=\"mensaje\">\r\n                            <i class=\"fa-solid fa-cart-flatbed-empty\"></i> No hay {{seccion.nombre}} en inventario\r\n                        </div>\r\n                    </div>\r\n                    <!-- FIN DE PRUEBA DE AGRUPAMIENTO -->\r\n\r\n                    <div *ngIf='detallado && _Almacenado && !loading && existencia_(seccion.nombre) === true'>\r\n                    <table class=\"table is-fullwidth\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Material</th>\r\n                                <th>Marca</th>\r\n                                <th>Presentación</th>\r\n                                <th>N° Pedido</th>\r\n                                <th>Código</th>\r\n                                <th>Lote</th>\r\n                                <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                    <th>Gramaje</th>\r\n                                    <th>Calibre</th>\r\n                                </ng-container>\r\n                                <th>Cantidad</th>\r\n                                <th> Total</th>\r\n                                <th *ngIf=\"usuario.Almacen == 2\">Editar</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor='let producto of listFiltered'>\r\n                                <ng-container *ngIf='producto.material.grupo.nombre === seccion.nombre && producto.cantidad > 0'>\r\n                                    <td>{{producto.material.nombre}} \r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                        ({{producto.material.ancho}} x {{producto.material.largo}})\r\n                                    </ng-container></td>\r\n                                    <td>{{producto.material.marca}}</td>\r\n                                    <td>{{producto.material.presentacion}}  {{producto.material.neto}} {{producto.material.unidad}}</td>\r\n                                    <td>{{producto.pedido}}</td>\r\n                                    <td>{{producto.codigo}}</td>\r\n                                    <td>{{producto.lote}}</td>\r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                        <td>{{producto.material.gramaje}}</td>\r\n                                        <td>{{producto.material.calibre}}</td>\r\n                                    </ng-container>\r\n                                    <td>{{puntoYcoma(producto.cantidad)}}</td>\r\n                                    <td>{{puntoYcoma((producto.material.neto * producto.cantidad).toFixed(2))}} {{producto.material.unidad}}.</td>\r\n                                    <td *ngIf=\"usuario.Almacen == 2\">\r\n                                        <!-- <button class=\"button is-danger is-outlined is-small\" (click)='eliminar_p(Sustrato.material,Sustrato.cantidad,Sustrato._id, \"sustrato\")'>\r\n                                            <span>Eliminar</span>\r\n                                            <span class=\"icon is-small\">\r\n                                              <i class=\"fas fa-times\"></i>\r\n                                            </span>\r\n                                        </button> -->\r\n       \r\n                                        <button class=\"button is-success is-outlined is-small\" (click)='Editar(producto._id)'>\r\n                                            <span>Editar</span>\r\n                                            <span class=\"icon is-small\">\r\n                                                <i class=\"far fa-edit\"></i>\r\n                                            </span>\r\n                                        </button>\r\n                                    </td>\r\n                                </ng-container>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n\r\n\r\n                    </div>\r\n\r\n                    <table class=\"table is-fullwidth\" *ngIf='detallado && !_Almacenado && !loading && !_bobina'>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Material</th>\r\n                                <ng-container *ngIf=\"seccion.nombre == 'Tinta'\">\r\n                                <th>Color</th>\r\n                                </ng-container>\r\n                                <ng-container *ngIf=\"seccion.nombre == 'Cajas Corrugadas'\">\r\n                                <th>Cinta utiliz.</th>\r\n                                </ng-container>\r\n                                <th>Marca</th>\r\n                                <th>Presentación</th>\r\n                                <!-- <th>Cantidad</th> -->\r\n                                <!-- <th>Codigo</th>\r\n                                <th>Lote</th> -->\r\n                                <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                    <th>Gramaje</th>\r\n                                    <th>Calibre</th>\r\n                                </ng-container>\r\n                                <!-- <th>TOTAL</th> -->\r\n                                <th *ngIf=\"usuario.Almacen == 2\">Editar</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor='let producto of ALMACEN'>\r\n                                <ng-container *ngIf='producto.grupo.nombre === seccion.nombre && producto.nombre != \"PRODUCTO ELIMINADO\"'>\r\n                                    <td>{{producto.nombre}}\r\n                                        <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                            ({{producto.ancho}} x {{producto.largo}})\r\n                                        </ng-container>\r\n                                    </td>\r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Tinta'\">\r\n                                        <td>{{producto.color}}</td>\r\n                                    </ng-container>\r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Cajas Corrugadas'\">\r\n                                        <td>{{producto.cinta}}</td>\r\n                                    </ng-container>\r\n                                    <td>{{producto.marca}}</td>\r\n                                    <td>{{producto.presentacion}}  {{producto.neto}} {{producto.unidad}}</td>\r\n                                    <!-- <td>{{producto.cantidad}}</td> -->\r\n                                    <!-- <td>{{producto.codigo}}</td>\r\n                                    <td>{{producto.lote}}</td> -->\r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                        <td>{{producto.gramaje}}</td>\r\n                                        <td>{{producto.calibre}}</td>\r\n                                    </ng-container>\r\n                                    <!-- <td>{{producto.neto * producto.cantidad}} {{producto.unidad}}.</td> -->\r\n                                    <td *ngIf=\"usuario.Almacen == 2\">\r\n                                        <!-- <button class=\"button is-danger is-outlined is-small\" (click)='eliminar_p(producto.nombre,producto.cantidad,producto._id)'>\r\n                                            <span>Eliminar</span>\r\n                                            <span class=\"icon is-small\">\r\n                                              <i class=\"fas fa-times\"></i>\r\n                                            </span>\r\n                                        </button> -->\r\n   \r\n                                        <button class=\"button is-success is-outlined is-small\" (click)='Editar_2(producto._id)'>\r\n                                            <span>Editar</span>\r\n                                            <span class=\"icon is-small\">\r\n                                                <i class=\"far fa-edit\"></i>\r\n                                            </span>\r\n                                        </button>\r\n                                    </td>\r\n                                </ng-container>\r\n                                \r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Editar Almacenado -->\r\n<div *ngIf='EDICION_ALMACEN'>\r\n<div class=\"modal\" [ngClass]=\"{'is-active':EDICION_ALMACEN}\">\r\n    <div class=\"modal-background\" (click)='edit_almacen()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Modificación de Inventario</div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Categoria:</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"\" (change)='selecciona_producto($event.target.value)' value='{{AlmacenadoId.material.grupo.nombre}}'>\r\n                                <option value=\"{{seccion.nombre}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Producto:</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"Producto_select\" (change)='producto_seleccionado($event.target.value)' [(ngModel)]='AlmacenadoId.material._id' #producto>\r\n                                <ng-container *ngFor='let producto of ALMACEN'>\r\n                                    <ng-container *ngIf='producto.grupo.nombre === product_selected'>\r\n                                        <option value=\"{{producto._id}}\">{{producto.nombre}} ({{producto.presentacion}} {{producto.neto}}{{producto.unidad}})\r\n                                            <ng-container *ngIf=\"producto.ancho\">\r\n                                                ({{producto.ancho}} x {{producto.largo}})\r\n                                            </ng-container>\r\n                                        </option>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Código</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"codigoID\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Lote</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"loteID\" [disabled]=\"!codigoID\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cantidad</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"cantidadID\" [disabled]=\"!loteID\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column is-3\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Precio (USD)</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" [(ngModel)]=\"precioID\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label for=\"\" class=\"label\">Motivo de edición:</label>\r\n                <textarea rows=\"2\" class=\"textarea\" [(ngModel)]=\"Edition__\"></textarea>\r\n            </div>\r\n            <button class=\"button is-primary\" (click)='_Editar(producto)' *ngIf=\"Edition__\">Editar</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n<!-- FIN Editar  -->\r\n\r\n<!-- Editar inventario  -->\r\n<div  *ngIf='MaterialID'>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':Editar_NUEVO_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Almacen_ep()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Editar Material</div>\r\n            <form>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">\r\n                            Grupo de Material\r\n                        </label>\r\n                        <div class=\"select\">\r\n                            <select (change)='Cambio_opciones($event.target.value)' id='selected' [(ngModel)]=\"MaterialID.grupo._id\" name='grupo'>\r\n                                <option value=\"{{seccion._id}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!-- <div class=\"column\" *ngIf='OTRO'>\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Nombre del Nuevo Grupo</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" formControlName=\"NewControl\">\r\n                        </div>\r\n                    </div>\r\n                </div> -->\r\n            </div>\r\n            <div class=\"columns\" *ngIf=\"caja_\">\r\n                <div class=\"column\">\r\n                    <div class=\"control\">\r\n                        <label class=\"label\">Metros de cinta por caja {{MaterialID.cinta}}</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" placeholder=\"Metros de cinta por caja\" [(ngModel)]=\"MaterialID.cinta\" name='cinta'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\"></div>\r\n            </div>\r\n            <div class=\"Tinta\" *ngIf=\"New_color\">\r\n                <div class=\"columns\">\r\n                    <div class=\"column is-4\">\r\n                        <div class=\"columns\">\r\n                            <div class=\"column\">\r\n                                <input type=\"radio\" name=\"color\" id=\"Negro\" value=\"Negro\" (click)=\"define_color2($event.target.value)\" checked>\r\n                                <label> Negro</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Cyan\" value=\"Cyan\" (click)=\"define_color2($event.target.value)\">\r\n                                <label> Cyan</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Magenta\" value=\"Magenta\" (click)=\"define_color2($event.target.value)\">\r\n                                <label> Magenta</label> <br>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <input type=\"radio\" name=\"color\" id=\"Amarillo\" value=\"Amarillo\" (click)=\"define_color2($event.target.value)\">\r\n                                <label> Amarillo</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Pantone\" value=\"Pantone\" (click)=\"define_color2($event.target.value)\">\r\n                                <label> Pantone</label> <br>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-5\">\r\n                        <div class=\"columns\">\r\n                            <div class=\"column is-3\">\r\n                                <label class=\"label\">Color:</label>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <input type=\"text\" class=\"input\" value=\"Negro\" id=\"color\" [(ngModel)]=\"MaterialID.color\" name=\"color\" disabled>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sustrato\" *ngIf='New_Sustrato'>\r\n                <hr>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Ancho</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" [(ngModel)]=\"MaterialID.ancho\" name='ancho'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Largo</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" [(ngModel)]=\"MaterialID.largo\" name='largo'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Gramaje</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" [(ngModel)]=\"MaterialID.gramaje\" name='gramaje'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Calibre</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" [(ngModel)]=\"MaterialID.calibre\" name='calibre'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr>\r\n            </div>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Material</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" [(ngModel)]=\"MaterialID.nombre\" name='material'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Marca</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" [(ngModel)]=\"MaterialID.marca\" name=\"marca\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Presentación</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" [(ngModel)]=\"MaterialID.presentacion\" name=\"presentacion\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"columns\">\r\n                    <div class=\"column \">\r\n                        <div class=\"field has-addons\">\r\n                            <label class=\"label\">Cant.Neto</label>\r\n                            <p class=\"control\">\r\n                              <span class=\"select\">\r\n                                <select name=\"unidad\" [(ngModel)]=\"MaterialID.unidad\">\r\n                                    <option value=\"Kg\">Kg.</option>\r\n                                    <option value=\"Und\">Und.</option>\r\n                                    <option value=\"L\">L.</option>\r\n                                </select>\r\n                              </span>\r\n                            </p>\r\n                            <p class=\"control\">\r\n                              <input class=\"input\" type=\"text\" placeholder=\"Neto por unidad\" [(ngModel)]=\"MaterialID.neto\" name=\"neto\">\r\n                            </p>\r\n                          </div>\r\n                        <!-- <div class=\"field\">\r\n                            <label class=\"label\">Neto por Unidad</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"neto\">\r\n                            </div>\r\n                        </div> -->\r\n                    </div>\r\n                    <!-- <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Código</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"codigo\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Lote</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"lote\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Cantidad</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"cantidad\">\r\n                            </div>\r\n                        </div>\r\n                    </div> -->\r\n\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label for=\"\" class=\"label\">Motivo de edición:</label>\r\n                    <textarea name=\"edition\" rows=\"2\" class=\"textarea\" [(ngModel)]=\"Edition__2\"></textarea>\r\n\r\n                </div>\r\n                <button class=\"button is-primary\" (click)=\"Editar_Material_F()\" *ngIf=\"Edition__2\">Editar</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n</div>\r\n<!-- FIN de inventario -->\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':_NUEVO_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Nuevo_producto()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Ingreso de Inventario</div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Categoria:</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"Nuevoproducto\" (change)='selecciona_producto($event.target.value)'>\r\n                                <option value=\"0\">Selecciona Categoria</option>\r\n                                <option value=\"{{seccion.nombre}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Producto:</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"Producto_select\" (change)='producto_seleccionado($event.target.value)' disabled #producto>\r\n                                <option value=\"0\">Selecciona Producto</option>\r\n                                <ng-container *ngFor='let producto of ALMACEN'>\r\n                                    <ng-container *ngIf='producto.grupo.nombre === product_selected && producto.nombre != \"PRODUCTO ELIMINADO\"'>\r\n                                        <option value=\"{{producto._id}}\">{{producto.nombre}} <ng-container *ngIf=\"producto.ancho\">({{producto.ancho}} x {{producto.largo}})</ng-container> ({{producto.marca}}<ng-container *ngIf=\"!producto.ancho\"> - {{producto.presentacion}} {{producto.neto}}{{producto.unidad}}</ng-container>)\r\n                                            <ng-container *ngIf=\"producto.ancho\">\r\n                                                (Gramaje: {{producto.gramaje}} Calibre: {{producto.calibre}})\r\n                                            </ng-container>\r\n                                        </option>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\" *ngIf='_producto_seleccionado'>\r\n                <div class=\"column is-4\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">N° de pedido</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"pedido\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column is-4\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Precio (USD)</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" [(ngModel)]=\"precio\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\" *ngIf='_producto_seleccionado'>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Código</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"codigo\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Lote</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"lote\" [disabled]=\"!codigo\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cantidad</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"cantidad\" [disabled]=\"!lote\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button class=\"button is-primary\" [disabled]=\"!cantidad\" (click)='almacenar(producto)'>Finalizar</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVO_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Almacen()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Nuevo Material</div>\r\n            <form\r\n            autocomplete=\"on\"\r\n            [formGroup]=\"InventarioForm\"\r\n            (ngSubmit)=\"Almacenar()\"\r\n            >\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">\r\n                            Grupo de Material\r\n                        </label>\r\n                        <div class=\"select\">\r\n                            <select (change)='Cambio_opciones($event.target.value)' id='selected' value='otros'>\r\n                                <option value=\"{{seccion._id}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                                <option value=\"otros\">Nuevo</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\" *ngIf='OTRO'>\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Nombre del Nuevo Grupo</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" formControlName=\"NewControl\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\" *ngIf=\"caja_\">\r\n                <div class=\"column\">\r\n                    <div class=\"control\">\r\n                        <label class=\"label\">Metros de cinta por caja</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" placeholder=\"Metros de cinta por caja\" formControlName='cinta'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\"></div>\r\n            </div>\r\n            <div class=\"Tinta\" *ngIf=\"New_color\">\r\n                <div class=\"columns\">\r\n                    <div class=\"column is-4\">\r\n                        <div class=\"columns\">\r\n                            <div class=\"column\">\r\n                                <input type=\"radio\" name=\"color\" id=\"Negro\" value=\"Negro\" (click)=\"define_color($event.target.value)\" checked>\r\n                                <label> Negro</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Cyan\" value=\"Cyan\" (click)=\"define_color($event.target.value)\">\r\n                                <label> Cyan</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Magenta\" value=\"Magenta\" (click)=\"define_color($event.target.value)\">\r\n                                <label> Magenta</label> <br>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <input type=\"radio\" name=\"color\" id=\"Amarillo\" value=\"Amarillo\" (click)=\"define_color($event.target.value)\">\r\n                                <label> Amarillo</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Pantone\" value=\"Pantone\" (click)=\"define_color($event.target.value)\">\r\n                                <label> Pantone</label> <br>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-5\">\r\n                        <div class=\"columns\">\r\n                            <div class=\"column is-3\">\r\n                                <label class=\"label\">Color:</label>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <input type=\"text\" class=\"input\" value=\"Negro\" id=\"color\" formControlName=\"color\" disabled>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sustrato\" *ngIf='New_Sustrato'>\r\n                <hr>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Ancho</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName='ancho'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Largo</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName='largo'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Gramaje</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName='gramaje'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Calibre</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName='calibre'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr>\r\n            </div>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Material</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName=\"producto\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Marca</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName=\"marca\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Presentación</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName=\"presentacion\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"columns\">\r\n                    <div class=\"column \">\r\n                        <div class=\"field has-addons\">\r\n                            <p class=\"control\">\r\n                              <span class=\"select\">\r\n                                <select formControlName=\"unidad\">\r\n                                    <option value=\"Kg\">Kg.</option>\r\n                                    <option value=\"Und\">Und.</option>\r\n                                    <option value=\"L\">L.</option>\r\n                                </select>\r\n                              </span>\r\n                            </p>\r\n                            <p class=\"control\">\r\n                              <input class=\"input\" type=\"text\" placeholder=\"Neto por unidad\" formControlName=\"neto\">\r\n                            </p>\r\n                          </div>\r\n                        <!-- <div class=\"field\">\r\n                            <label class=\"label\">Neto por Unidad</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"neto\">\r\n                            </div>\r\n                        </div> -->\r\n                    </div>\r\n                    <!-- <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Código</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"codigo\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Lote</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"lote\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Cantidad</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"cantidad\">\r\n                            </div>\r\n                        </div>\r\n                    </div> -->\r\n\r\n                </div>\r\n                <button class=\"button is-primary\">Finalizar</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':CONSULTAB}\">\r\n    <div class=\"modal-background\" (click)='check_bobinas()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Bobinas</div>\r\n                        <table class=\"table is-fullwidth\">\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>Material</th>\r\n                                <th>Gramaje</th>\r\n                                <th>Ancho de Bobina</th>\r\n                                <th>peso</th>\r\n                            </tr>\r\n                            <tr *ngFor='let bobina of BOBINAS_'>\r\n                                <td>{{bobina.Nbobina}}</td>\r\n                                <td>{{bobina.material}}</td>\r\n                                <td>{{bobina.gramaje}}</td>\r\n                                <td>{{bobina.ancho}}</td>\r\n                                <td>{{bobina.peso}}</td>\r\n                            </tr>\r\n                        </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':BOBINAS}\">\r\n    <div class=\"modal-background\" (click)='Modal_bobinas()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <form\r\n            autocomplete=\"on\"\r\n            [formGroup]=\"BobinaForm\"\r\n            (ngSubmit)=\"nuevaBobina()\"\r\n            >\r\n            <div class=\"subtitulo\">Nueva Bobina</div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Numero de bobina</label>\r\n                    <input type=\"text\" class=\"input\" formControlName=\"Nbobina\">\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Material</label>\r\n                    <div class=\"select\">\r\n                        <select name=\"\" id=\"Material_Seleccionado\" formControlName=\"material\" (change)=\"buscarGramaje($event.target.value)\">\r\n                            <option value=\"{{sustrato.Nombre}}_{{sustrato.Marca}}\" *ngFor=\"let sustrato of Test_UniqueObjectNewMap_valuesAsArr\">{{sustrato.Marca}}</option>\r\n                        </select>\r\n                    </div>    \r\n                <!-- <input type=\"text\" class=\"input\" formControlName=\"material\"> -->\r\n\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Gramaje (g/m²)</label>\r\n                <div class=\"select\">\r\n                    <select name=\"\" id=\"Gramaje_Seleccionado\" formControlName=\"gramaje\" (change)=\"buscarCalibre($event.target.value)\">\r\n                        <option value=\"{{gramaje.gramaje}}\" *ngFor=\"let gramaje of _gramajes_\">{{gramaje.gramaje}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Calibre</label>\r\n                <div class=\"select\">\r\n                    <select name=\"\" id=\"\" formControlName=\"calibre\" (change)=\"buscarAncho($event.target.value)\">\r\n                        <option value=\"{{calibre.calibre}}\" *ngFor=\"let calibre of _calibre_\">{{calibre.calibre}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Ancho de bobina (cm)</label>\r\n                    <div class=\"select\">\r\n                        <select name=\"\" id=\"\" formControlName=\"ancho\">\r\n                            <option value=\"{{ancho.ancho}}\" *ngFor=\"let ancho of _ancho_\">{{ancho.ancho}}</option>\r\n                        </select>\r\n                    </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Peso (t)</label>\r\n                    <input type=\"text\" class=\"input\" formControlName=\"peso\">\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Lote</label>\r\n                    <input type=\"text\" class=\"input\" formControlName=\"lote\">\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Convertidora</label>\r\n                <div class=\"select\">\r\n                    <select name=\"\" id=\"\" formControlName=\"convertidora\">\r\n                        <option value=\"Convertidora Finlandia, C.A.\">Convertidora Finlandia, C.A.</option>\r\n                        <option value=\"Redispaca Distribuidora de Papel, C.A.\">Redispaca Distribuidora de Papel, C.A.</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <button class=\"button is-primary\">Nueva Bobina</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':CONVERSION}\">\r\n    <div class=\"modal-background\" (click)='modal_Conversion()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Conversión</div> \r\n            \r\n            <div class=\"separador\">\r\n                De peso a hojas\r\n            </div>\r\n            <br>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Convertidora</label>\r\n                <div class=\"select\">\r\n                    <select name=\"\" id=\"convertidora\" formControlName=\"convertidora\" (change)=\"seleccionar_material($event.target.value)\">\r\n                        <option value=\"Convertidora Finlandia, C.A.\">Convertidora Finlandia, C.A.</option>\r\n                        <option value=\"Redispaca Distribuidora de Papel, C.A.\">Redispaca Distribuidora de Papel, C.A.</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Material</label>\r\n                <div class=\"select\">\r\n                    <select (change)='Buscar_Bobina($event)' id='bobina_selected' disabled>\r\n                        <option value=\"null\">Selecciona Sustrato</option>\r\n                        <ng-container *ngFor='let producto of SUSTRATO_CONVERSION'>\r\n\r\n                            <option value='{{producto._id}}'>{{producto.convertidora}}{{producto.nombre}} {{producto.ancho}} x {{producto.largo}} ({{producto.marca}}) - Gram.{{producto.gramaje}} - Calibre.{{producto.calibre}}</option>\r\n                        </ng-container>\r\n                    </select>\r\n                </div>\r\n            </div> \r\n            <div class=\"field\">\r\n                <div class=\"label\">Peso (t)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Peso($event)' id='_peso'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Gramaje (g/m²)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Gramaje($event.target.value)' id='_gramaje' disabled>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Ancho (cm)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Ancho($event.target.value)' id='_ancho' disabled>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Largo (cm)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Largo($event)' id='_largo' disabled>\r\n                </div>\r\n            </div>\r\n            <hr>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Observación</label>\r\n                <textarea class=\"textarea\" id=\"observacion\" placeholder=\"Observacion\"></textarea>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <b>Cantidad Hojas: </b> {{HOJAS}} <br> \r\n                    <button class=\"button is-primary\" (click)='Generar_Conversion()'>Generar una Conversión</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"separador\">\r\n                De hojas a peso\r\n            </div>\r\n            <br>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Cantidad (Hojas)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Hojas_($event)'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Gramaje (g/m²)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='300' (change)='Gramaje_($event)'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Ancho (cm)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Ancho_($event)'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Largo (cm)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Largo_($event)'>\r\n                </div>\r\n            </div>\r\n            <hr>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <b>Peso: </b> {{PESO_}}\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':eliminacion}\">\r\n    <div class=\"modal-background\" (click)='modal_eliminacion();'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <h1>{{name_p_e}} x {{cantidad_p_e}}</h1>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Razon de Eliminacion</label>\r\n                <div class=\"control\">\r\n                    <textarea class=\"textarea\" placeholder=\"Motivo de eliminación\" #motivo></textarea>\r\n                </div>\r\n            </div>\r\n            <button class=\"button is-danger\" (click)='confirmar_eliminacion(motivo)'>Eliminar Producto</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':reporte}\">\r\n    <div class=\"modal-background\" (click)='modal_reporte()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <h1 class=\"subtitulo\">Resumen De Inventario</h1>\r\n            <hr>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Desde:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"date\" #desde>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Hasta:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"date\" #hasta>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button class=\"button is-primary\" (click)='descargarInventario(desde, hasta)'>Descargar inventario</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { PdfMakeWrapper, Txt, Img, Table, Cell, Columns, Stack } from 'pdfmake-wrapper';\r\nimport bulmaCollapsible from '@creativebulma/bulma-collapsible';\r\nimport * as pdfFonts from \"pdfmake/build/vfs_fonts\";\r\nimport * as moment from 'moment';\r\n\r\nimport Swal from 'sweetalert2';\r\nimport { BehaviorSubject, Subject, zip } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  fileName= 'ExcelSheet.xlsx';\r\n\r\n  public resumido:boolean = true;\r\n  public detallado:boolean = false;\r\n\r\n  public NUEVO_PRODUCTO:boolean = false;\r\n  public ALMACEN;\r\n  public SECCIONES\r\n\r\n  public PESO= 0\r\n  public GRAMAJE = 300\r\n  public ANCHO= 0\r\n  public LARGO= 0\r\n  public HOJAS = 0\r\n\r\n  public PESO_= 0\r\n  public GRAMAJE_ = 300\r\n  public ANCHO_= 0\r\n  public LARGO_= 0\r\n  public HOJAS_ = 0\r\n\r\n  empty:boolean = true;\r\n\r\n  public OTRO:boolean = true;\r\n  public Gs;\r\n\r\n  public CONVERSION:boolean = false;\r\n  public BOBINAS:boolean = false;\r\n  public CONSULTAB:boolean = false;\r\n\r\n  public BOBINAS_;\r\n  public product_selected;\r\n  public _producto_seleccionado;\r\n\r\n  public boolean_sustrato:boolean = false;\r\n  public Sustratos;\r\n\r\n  public New_Sustrato:boolean = false;\r\n\r\n  public Mat_Selected;\r\n  public Num_Bobina\r\n\r\n  public MATERIALES_NECESARIOS:boolean = false;\r\n  public _NUEVO_PRODUCTO:boolean = false;\r\n  public EDICION_ALMACEN:boolean = false;\r\n\r\n  public DESCUENTOS = [];\r\n\r\n  public name_p_e\r\n  public cantidad_p_e\r\n  public id_p_e\r\n  public eliminacion:boolean = false;\r\n  public eliminar_sustrato:boolean = false;\r\n\r\n  public reporte:boolean = false;\r\n\r\n\r\n  public AlmacenadoId;\r\n  public MaterialID;\r\n\r\n  public loading:boolean = true;\r\n\r\n  public _bobina:boolean = false;\r\n  public descontar_b:boolean = false;\r\n\r\n  public Devoluciones;\r\n\r\n  codigoID = '';\r\n  loteID = '';\r\n  cantidadID = '';\r\n\r\n  codigo = '';\r\n  lote = '';\r\n  cantidad = '';\r\n  pedido = '';\r\n  precio = 0;\r\n\r\n  public New_color:boolean = false;\r\n  public caja_:boolean = false;\r\n\r\n  asignacion:boolean = false;\r\n  confirmacion:boolean = false;\r\n\r\n\r\n\r\n  public _Almacenado:boolean = true;\r\n  public Editar_NUEVO_PRODUCTO:boolean = false;\r\n\r\n  public listFiltered = []\r\n\r\n  public TOTALES = [\r\n    {\r\n      material:null,\r\n      marca:null,\r\n      calibre:null,\r\n      gramaje:null,\r\n      total:null,\r\n      grupo:null,\r\n      presentacion:null,\r\n      neto:null,\r\n      unidad:null,\r\n      ancho:null,\r\n      largo:null\r\n    }\r\n  ];\r\n\r\n  public _bobina_ = ''\r\n\r\n  public Dev_:boolean = false;\r\n\r\n\r\n  public Almacenado = [];\r\n  Pendiente;\r\n\r\n  public Bobillas = true;\r\n  \r\n  searchTerm$ = new BehaviorSubject<string>('')\r\n  private OnDestroy$ = new Subject();\r\n\r\n\r\n  InventarioForm:FormGroup = this.fb.group({\r\n    ancho:[''],\r\n    largo:[''],\r\n    gramaje:[''],\r\n    calibre:[''],\r\n    producto:['', Validators.required],\r\n    marca:['',Validators.required],\r\n    presentacion:['', Validators.required],\r\n    unidad:['',Validators.required],\r\n    neto:['', Validators.required],\r\n    color:['Negro',Validators.required],\r\n    cinta:[''],\r\n    // codigo:['',Validators.required],\r\n    // cantidad:['', Validators.required],\r\n    // lote:['', Validators.required],\r\n    NewControl:['']\r\n  });\r\n\r\n  BobinaForm:FormGroup = this.fb.group({\r\n    Nbobina:['', Validators.required],\r\n    material:['', Validators.required],\r\n    marca:['', Validators.required],\r\n    gramaje:['', Validators.required],\r\n    calibre:['', Validators.required],\r\n    ancho:['', Validators.required],\r\n    peso:['', Validators.required],\r\n    lote:['', Validators.required],\r\n    convertidora:['',Validators.required]\r\n  });\r\n\r\n\r\n  constructor(private fb:FormBuilder,\r\n              private api:RestApiService) {\r\n                this.usuario = api.usuario;\r\n              }\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.BuscarAlmacen();\r\n    this.getAalmacenado();\r\n    this.BuscarGruposEnAlmacen();\r\n    // this.getSustratos();\r\n    this.porConfirmar();\r\n    this.totalizar_materiales()\r\n    this.Gs = (<HTMLInputElement>document.getElementById('selected')).value\r\n    this.Buscar_conversiones()\r\n    this.getbobinas();\r\n    this.getOrdenes();\r\n    this.buscarPendientes();\r\n    this.getDevolucion();\r\n    this.filterList();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.OnDestroy$.next();\r\n  }\r\n\r\n  public usuario\r\n\r\n  public orden;\r\n\r\n  filterList(): void {\r\n    this.searchTerm$\r\n    .pipe(\r\n      debounceTime(400),\r\n      distinctUntilChanged(),\r\n      takeUntil(this.OnDestroy$)\r\n    )\r\n    .subscribe(term => {\r\n      this.listFiltered = this.Almacenado\r\n        .filter(item => item.material.nombre.toLowerCase().indexOf(term.toLowerCase()) >= 0);\r\n    });\r\n  }\r\n\r\n  CancelarDevolucion(id){\r\n    Swal.fire({\r\n      title:'Cuidado!',\r\n      text:'¿Estas seguro que quieres cancelar esta devolución?. No se podrá recuperar esta información luego',\r\n      icon:'warning',\r\n      showCancelButton:true,\r\n      showConfirmButton:true,\r\n      confirmButtonText:'Si!, Cancelar devolución.',\r\n      cancelButtonText:'Mantener devolución pendiente.',\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        // // console.log(id);\r\n\r\n        this.api.DeleteDevolucion(id)\r\n          .subscribe((resp:any)=>{\r\n            Swal.fire(\r\n              {\r\n                title:'Cancelado!',\r\n                text:'Esta devolución fué cancelada, el almacén no sufrio ningun cambio.',\r\n                icon:'success',\r\n                showConfirmButton:false\r\n              })\r\n              this.getDevolucion();\r\n              this.Modal_Devolucion()\r\n              this.getAalmacenado();\r\n          })\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  changeView_(){\r\n    if(this.Bobillas){\r\n      this.Bobillas = false;\r\n    }else{\r\n      this.Bobillas = true;\r\n    }\r\n  }\r\n\r\n  confirmarDevolucion(data, id){\r\n\r\n    Swal.fire({\r\n      title:'Cuidado!',\r\n      text:'Verifica las cantidades que sean correctas antes de confirmar.',\r\n      icon:'warning',\r\n      showCancelButton:true,\r\n      showConfirmButton:true,\r\n      confirmButtonText:'Confirmar!',\r\n      cancelButtonText:'Cancelar',\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n\r\n        // // console.log(data);\r\n        // // console.log(id);\r\n\r\n        this.api.putDevolucion(id,data)\r\n          .subscribe((resp:any)=>{\r\n\r\n            Swal.fire(\r\n              {\r\n                title:'Confirmado!',\r\n                text:'El material fué agregado al almacén.',\r\n                icon:'success',\r\n                showConfirmButton:false\r\n              })\r\n\r\n              this.getDevolucion();\r\n              this.Modal_Devolucion()\r\n              this.getAalmacenado();\r\n          })\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  getDevolucion(){\r\n    this.api.getDevolucion()\r\n      .subscribe((resp:any) => {\r\n        this.Devoluciones = resp;\r\n      })\r\n  }\r\n\r\n\r\n  getOrdenes(){\r\n    this.api.getOrden()\r\n    .subscribe( (resp:any) => {\r\n      this.orden = resp;\r\n    } )\r\n\r\n  }\r\n\r\n  buscarPendientes(){\r\n    this.api.getRequiEspera()\r\n      .subscribe((resp:any)=>{\r\n        this.Pendiente = resp;\r\n      })\r\n  }\r\n\r\n\r\n  Requisicion(){\r\n    this.confirmacion = true\r\n  }\r\n\r\n  showOrden(){\r\n    // // console.log(this.orden)\r\n  }\r\n\r\n  agregarRequisicion(e){\r\n    this.necesario.push(e)\r\n  }\r\n\r\n  public necesario;\r\n\r\n  porConfirmar(){\r\n    this.api.getMaterialesPorConfirmar()\r\n      .subscribe((resp:any)=>{\r\n        this.necesario = resp;\r\n        // // console.log( this.necesario ,'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA')\r\n      })\r\n  }\r\n\r\n  define_color(e){\r\n    if(e != 'Pantone'){\r\n      this.InventarioForm.get('color').setValue(e);\r\n      (<HTMLInputElement>document.getElementById('color')).value = e;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById('color')).value = '';\r\n      (<HTMLInputElement>document.getElementById('color')).disabled = false;\r\n    }\r\n  }\r\n\r\n  Modal_Devolucion(){\r\n    if(this.Dev_){\r\n      this.Dev_ = false;\r\n    }else{\r\n      this.Dev_ = true;\r\n    }\r\n  }\r\n\r\n  Modal_Almacen_ep(){\r\n    if(this.Editar_NUEVO_PRODUCTO){\r\n      this.Editar_NUEVO_PRODUCTO = false;\r\n    }else{\r\n      this.Editar_NUEVO_PRODUCTO = true;\r\n    }\r\n  }\r\n\r\n  modal_asignacion(){\r\n    if(this.asignacion){\r\n      this.asignacion = false\r\n    }else{\r\n      this.asignacion = true\r\n    }\r\n  }\r\n\r\n  existencia_(seccion){\r\n\r\n    let existencia = this.Almacenado.find(x => x.material.grupo.nombre === seccion)\r\n\r\n    if(existencia){\r\n      return true\r\n    }else{\r\n      return false\r\n    }\r\n\r\n  }\r\n\r\n  public _sustratos_ = []\r\n  public Test_UniqueObjectNewMap_valuesAsArr = []\r\n  buscarSustratos(){\r\n    let x = 0;\r\n    let sustratos = this.ALMACEN.filter(x => x.grupo.nombre == 'Sustrato')\r\n    for(let i=0; i<sustratos.length; i++){\r\n      let sustrato = this._sustratos_.find(x=> x == sustratos[i].nombre);\r\n      x++\r\n      if(!sustrato){\r\n        this._sustratos_.push({Marca:`${sustratos[i].nombre} (${sustratos[i].marca})`,Nombre:`${sustratos[i].nombre}`})\r\n      }\r\n      if(x == sustratos.length)\r\n      {\r\n        let newArray_test:any;\r\n        newArray_test = this._sustratos_\r\n\r\n        let UniqueArrayforMarca = [\r\n          ...new Map(this._sustratos_.map((item) => [item[\"Marca\"], item])).values(),\r\n        ]\r\n\r\n        let Test_UniqueObject = newArray_test.map((item) => [item['Marca'], item]);\r\n\r\n        let Test_UniqueObjectNewMap = new Map(Test_UniqueObject)\r\n\r\n        let Test_UniqueObjectNewMap_keys = Test_UniqueObjectNewMap.keys()\r\n        let Test_UniqueObjectNewMap_values = Test_UniqueObjectNewMap.values()\r\n        this.Test_UniqueObjectNewMap_valuesAsArr = [\r\n          ...Test_UniqueObjectNewMap_values\r\n        ]\r\n\r\n        // console.log(this.Test_UniqueObjectNewMap_valuesAsArr)\r\n        // console.log(this._sustratos_)\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  public _calibre_ = []\r\n  buscarCalibre(e){\r\n    let material = (<HTMLInputElement>document.getElementById('Material_Seleccionado')).value\r\n    let splitted = material.split('_')\r\n    let e1 = splitted[0];\r\n    let marca = splitted[1].split('(')\r\n    let sustratos = this.ALMACEN.filter(x =>x.nombre == e1 && x.marca == marca[1].slice(0,-1) && x.gramaje == e)\r\n    // // console.log(sustratos,'15515151515151515151515151515151')\r\n    for(let i=0; i<sustratos.length; i++){\r\n      let calibre = this._calibre_.find(x=> x.calibre == sustratos[i].calibre);\r\n      if(!calibre){\r\n        this._calibre_.push(sustratos[i])\r\n        }\r\n    }\r\n  }\r\n\r\n  public _gramajes_ = []\r\n  buscarGramaje(e:string){\r\n    let splitted = e.split('_')\r\n    let e1 = splitted[0];\r\n    let marca = splitted[1].split('(')\r\n    this._gramajes_ = []\r\n    let sustratos = this.ALMACEN.filter(x => x.nombre == e1 && x.marca == marca[1].slice(0,-1))\r\n    for(let i=0; i<sustratos.length; i++){\r\n      let gramaje = this._gramajes_.find(x=> x.gramaje == sustratos[i].gramaje);\r\n      if(!gramaje){\r\n        this._gramajes_.push(sustratos[i])\r\n        }\r\n    }\r\n    // // console.log(this._gramajes_,'GRAMAGRAMAGRAMA')\r\n  }\r\n\r\n  public _ancho_ = []\r\n  buscarAncho(e){\r\n    let material = (<HTMLInputElement>document.getElementById('Material_Seleccionado')).value\r\n    let splitted = material.split('_')\r\n    let e1 = splitted[0];\r\n    let marca = splitted[1].split('(')\r\n    let gramaje = (<HTMLInputElement>document.getElementById('Gramaje_Seleccionado')).value\r\n    this._ancho_ = []\r\n    let sustratos = this.ALMACEN.filter(x => x.calibre == e && x.nombre == e1 && x.marca == marca[1].slice(0,-1) && x.gramaje == gramaje)\r\n    for(let i=0; i<sustratos.length; i++){\r\n      let ancho = this._ancho_.find(x=> x.ancho == sustratos[i].ancho);\r\n      if(!ancho){\r\n        this._ancho_.push(sustratos[i])\r\n        }\r\n    }\r\n  }\r\n\r\n  define_color2(e){\r\n    if(e != 'Pantone'){\r\n      this.MaterialID.color = e;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById('color')).disabled = false;\r\n      (<HTMLInputElement>document.getElementById('color')).value = '';\r\n    }\r\n  }\r\n\r\n  Editar_2(id){\r\n    this.Modal_Almacen_ep()\r\n    this.api.getMaterialesID(id)\r\n      .subscribe((resp:any)=>{\r\n        this.MaterialID = resp;\r\n        if(resp.grupo.nombre === 'Tinta'){\r\n          this.New_color = true;\r\n        }\r\n        if(resp.grupo.nombre === 'Cajas Corrugadas'){\r\n          this.caja_ = true;\r\n        }\r\n        // // console.log(this.MaterialID,'ok')\r\n      })\r\n  }\r\n\r\n  Editar_Material_F(){\r\n    let grupo = this.MaterialID.grupo._id;\r\n\r\n    this.MaterialID.grupo = grupo;\r\n\r\n    // // console.log(this.MaterialID)\r\n\r\n    this.api.putMaterialID(this.MaterialID._id, this.MaterialID)\r\n          .subscribe((resp:any)=>{\r\n            this.Modal_Almacen_ep();\r\n            this.getAalmacenado();\r\n                this.BuscarAlmacen();\r\n                this.totalizar_materiales();\r\n                Swal.fire({\r\n                  position:'center',\r\n                  icon:'success',\r\n                  title:'Material editado con exito!',\r\n                  showConfirmButton: false,\r\n                  timer:1500\r\n                })\r\n\r\n          })\r\n  }\r\n\r\n  public precioID = 0\r\n  Editar(id){\r\n    this.edit_almacen()\r\n    this.api.getAlmacenadoID(id)\r\n      .subscribe((resp:any)=>{\r\n        this.AlmacenadoId = resp;\r\n        console.log(this.AlmacenadoId)\r\n        this.selecciona_producto(this.AlmacenadoId.material.grupo.nombre)\r\n        this.codigoID = this.AlmacenadoId.codigo;\r\n        this.loteID = this.AlmacenadoId.lote;\r\n        this.cantidadID = this.AlmacenadoId.cantidad;\r\n        this.precioID = this.AlmacenadoId.precio\r\n      })\r\n  }\r\n\r\n  _Editar(producto){\r\n    let body = {\r\n      material:this.AlmacenadoId.material._id,\r\n      codigo:this.codigoID,\r\n      lote:this.loteID,\r\n      cantidad:this.cantidadID,\r\n      motivo:this.Edition__,\r\n      precio:this.precioID\r\n    }\r\n\r\n    this.api.putAlmacenadoID(this.AlmacenadoId._id, body)\r\n    .subscribe((resp:any)=>{\r\n      this.edit_almacen();\r\n      Swal.fire({\r\n        position:'center',\r\n        icon:'success',\r\n        title:'El inventario fue editado con exito',\r\n        showConfirmButton: false,\r\n        timer:1500\r\n      })\r\n      this.getAalmacenado();\r\n      this.BuscarAlmacen();\r\n      this.totalizar_materiales();\r\n      this.codigoID = ''\r\n      this.loteID = ''\r\n      this.cantidadID = ''\r\n      this.AlmacenadoId = ''\r\n    })\r\n\r\n  }\r\n\r\n  public edit_almacen(){\r\n    if(this.EDICION_ALMACEN){\r\n      this.EDICION_ALMACEN = false;\r\n    }else{\r\n      this.EDICION_ALMACEN = true;\r\n    }\r\n  }\r\n\r\n  Almacenes(e){\r\n    if(e == 'Almacenada'){\r\n      if(!this.resumido){\r\n        this.resumido = true;\r\n        this.detallado = false;\r\n      }\r\n      this._Almacenado = true;\r\n      this._bobina = false;\r\n    }else if(e == 'Bobinas'){\r\n      this._Almacenado = false;\r\n      this._bobina = true;\r\n      this.getbobinas();\r\n    }else{\r\n      if(this.resumido){\r\n        this.resumido = false;\r\n        this.detallado = true;\r\n      }\r\n      this._Almacenado = false;\r\n      this._bobina = false;\r\n    }\r\n  }\r\n\r\n  getAalmacenado(){\r\n    this.api.getAlmacenado()\r\n      .subscribe((resp:any)=>{\r\n        this.Almacenado = resp;\r\n        this.Almacenado = this.Almacenado.sort(function(a, b) {\r\n          if(a.material.nombre.toLowerCase() < b.material.nombre.toLowerCase()) return -1\r\n          if(a.material.nombre.toLowerCase() > b.material.nombre.toLowerCase()) return 1\r\n          return 0\r\n\r\n        })\r\n        // // console.log(this.Almacenado)\r\n        // this.listFiltered = this.Almacenado\r\n        this.filterList();\r\n        this.totalizar_materiales();\r\n      })\r\n  }\r\n\r\n  puntoYcoma(n){\r\n   return n = new Intl.NumberFormat('de-DE').format(n)\r\n  }\r\n\r\n  Cambio_opciones(e){\r\n    if(e === 'otros'){\r\n      this.OTRO = true\r\n    }else{\r\n      this.OTRO = false;\r\n      this.Gs = e;\r\n    }\r\n\r\n    if(e === '61f92a1f2126d717f004cca6'){\r\n      this.New_Sustrato = true;\r\n    }else{\r\n      this.New_Sustrato = false;\r\n    }\r\n\r\n    if(e === '61fd54e2d9115415a4416f17'){\r\n      this.New_color = true;\r\n    }else{\r\n      this.New_color = false;\r\n    }\r\n\r\n    if(e === '61fd7a8ed9115415a4416f74'){\r\n      this.caja_ = true;\r\n    }else{\r\n      this.caja_ = false\r\n    }\r\n\r\n  }\r\n\r\n  public Edition__ = '';\r\n  public Edition__2 = '';\r\n\r\n  public Nuevo_producto(){\r\n    if(this._NUEVO_PRODUCTO){\r\n      this._NUEVO_PRODUCTO = false;\r\n    }else{\r\n      this._NUEVO_PRODUCTO = true;\r\n    }\r\n\r\n  }\r\n\r\n  public Modal_Almacen(){\r\n    if(this.NUEVO_PRODUCTO){\r\n      this.NUEVO_PRODUCTO = false;\r\n    }else{\r\n      this.NUEVO_PRODUCTO = true;\r\n    }\r\n  }\r\n\r\n  public Modal_bobinas(){\r\n    if(this.BOBINAS){\r\n      this.BOBINAS = false;\r\n    }else{\r\n      this.BOBINAS = true;\r\n      this.buscarSustratos()\r\n    }\r\n  }\r\n\r\n  public modal_Conversion(){\r\n    if(this.CONVERSION){\r\n      this.CONVERSION = false;\r\n    }else{\r\n      this.CONVERSION = true;\r\n    }\r\n  }\r\n\r\n  public modal_reporte(){\r\n    if(this.reporte){\r\n      this.reporte = false;\r\n    }else{\r\n      this.reporte = true;\r\n    }\r\n  }\r\n\r\n  public check_bobinas(){\r\n    if(this.CONSULTAB){\r\n      this.CONSULTAB = false;\r\n    }else{\r\n      this.CONSULTAB = true;\r\n    }\r\n  }\r\n\r\n  public bobina__;\r\n  descontar_bobina(bobina?){\r\n    if(this.descontar_b){\r\n      this.descontar_b = false;\r\n    }else{\r\n      this.descontar_b = true;\r\n      this.bobina__ = bobina;\r\n    }\r\n  }\r\n  descontar_bobina_(numero){\r\n    let data = {\r\n      bobina:this.bobina__,\r\n      numero\r\n    }\r\n    this.api.deleteBobina(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          text:resp,\r\n          icon:'info',\r\n          showConfirmButton:false\r\n        });\r\n        this.getbobinas();\r\n        this.descontar_bobina();\r\n        this.Buscar_conversiones();\r\n      })\r\n  }\r\n\r\n  BuscarGruposEnAlmacen(){\r\n    this.loading = true;\r\n    this.api.GetGrupoMp()\r\n      .subscribe((resp:any)=>{\r\n        this.SECCIONES = resp\r\n        this.loading = false;\r\n      })\r\n  }\r\n\r\n  BuscarAlmacen(){\r\n    this.loading = true;\r\n    this.api.getAlmacen()\r\n      .subscribe((resp:any) => {\r\n        this.ALMACEN = resp.materiales;\r\n        console.log('666666666666666666666666',this.ALMACEN)\r\n        this.filterList();\r\n        this.totalizar_materiales()\r\n        this.loading = false;\r\n      })\r\n  }\r\n\r\n\r\n  selecciona_producto(e){\r\n    if(e == 0){\r\n      (<HTMLInputElement>document.getElementById('Producto_select')).disabled = true;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById('Producto_select')).disabled = false;\r\n      this.product_selected = e;\r\n    }\r\n  }\r\n\r\n  public ButtonsEdit:boolean = false;\r\n  public Bobina_index = null;\r\n  EditarBobina(i,n){\r\n    this.Bobina_index = i;\r\n    this.ButtonsEdit = true\r\n    document.getElementById(`${i}${n}1`).style.display = 'block'\r\n    document.getElementById(`${i}${n}2`).style.display = 'block'\r\n    document.getElementById(`${i}${n}3`).style.display = 'block'\r\n    document.getElementById(`${i}${n}4`).style.display = 'block'\r\n    document.getElementById(`${i}${n}5`).style.display = 'block'\r\n    document.getElementById(`${i}${n}6`).style.display = 'block'\r\n\r\n    document.getElementById(`1${i}${n}`).style.display = 'none'\r\n    document.getElementById(`2${i}${n}`).style.display = 'none'\r\n    document.getElementById(`3${i}${n}`).style.display = 'none'\r\n    document.getElementById(`4${i}${n}`).style.display = 'none'\r\n    document.getElementById(`5${i}${n}`).style.display = 'none'\r\n    document.getElementById(`6${i}${n}`).style.display = 'none'\r\n\r\n  }\r\n\r\n  DoneEdit(i,n){\r\n    this.Bobina_index = null;\r\n    this.ButtonsEdit = false;\r\n    document.getElementById(`${i}${n}1`).style.display = 'none'\r\n    document.getElementById(`${i}${n}2`).style.display = 'none'\r\n    document.getElementById(`${i}${n}3`).style.display = 'none'\r\n    document.getElementById(`${i}${n}4`).style.display = 'none'\r\n    document.getElementById(`${i}${n}5`).style.display = 'none'\r\n    document.getElementById(`${i}${n}6`).style.display = 'none'\r\n\r\n    document.getElementById(`1${i}${n}`).style.display = 'block'\r\n    document.getElementById(`2${i}${n}`).style.display = 'block'\r\n    document.getElementById(`3${i}${n}`).style.display = 'block'\r\n    document.getElementById(`4${i}${n}`).style.display = 'block'\r\n    document.getElementById(`5${i}${n}`).style.display = 'block'\r\n    document.getElementById(`6${i}${n}`).style.display = 'block'\r\n\r\n    console.log(this.BOBINAS_[i]._id,'/',this.BOBINAS_[i])\r\n\r\n    this.api.putBobinas(this.BOBINAS_[i]._id, this.BOBINAS_[i])\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          title:'Editado',\r\n          text:'Bobina editada correctamente',\r\n          icon:'success',\r\n          showConfirmButton:false\r\n        })\r\n      })\r\n\r\n  }\r\n\r\n  almacenar(producto){\r\n    let data = {\r\n      material:producto.value,\r\n      codigo:this.codigo,\r\n      lote:this.lote,\r\n      cantidad:this.cantidad,\r\n      pedido:this.pedido,\r\n      precio:this.precio\r\n    }\r\n\r\n    this.api.postAlmacenado(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          position:'center',\r\n          icon:'success',\r\n          title:'Nueva materia prima agregada',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n        })\r\n        this.Nuevo_producto();\r\n        this.BuscarAlmacen();\r\n        this.getAalmacenado();\r\n        this.codigo = '';\r\n        this.lote = '';\r\n        this.cantidad ='';\r\n        this.precio = 0;\r\n        this.pedido = '';\r\n        (<HTMLInputElement>document.getElementById('Nuevoproducto')).value = \"0\";\r\n      }, err =>{\r\n        Swal.fire({\r\n          position:'center',\r\n          icon:'error',\r\n          title:'Lote y código ya existe',\r\n          text:'Este N° de Lote, junto a este código ya se encuentra registrado en Sio. Es necesario que cada producto almacenado sea único en el sistema.',\r\n          showConfirmButton: false,\r\n        })\r\n      })\r\n  }\r\n\r\n  producto_seleccionado(e){\r\n    if(e == 0){\r\n      this._producto_seleccionado = false\r\n      this.codigo = '';\r\n      this.lote = '';\r\n      this.cantidad = '';\r\n    }else{\r\n      this._producto_seleccionado = true\r\n    }\r\n  }\r\n\r\n\r\n  Almacenar(){\r\n\r\n    let grupo;\r\n\r\n    if(this.OTRO){\r\n    grupo = this.InventarioForm.get('NewControl').value\r\n    }\r\n    else{\r\n      grupo = this.Gs;\r\n    }\r\n\r\n\r\n    const data = {\r\n      producto: this.InventarioForm.get('producto').value,\r\n      marca:this.InventarioForm.get('marca').value,\r\n\r\n      ancho:this.InventarioForm.get('ancho').value,\r\n      largo:this.InventarioForm.get('largo').value,\r\n      gramaje:this.InventarioForm.get('gramaje').value,\r\n      calibre:this.InventarioForm.get('calibre').value,\r\n\r\n\r\n      // cantidad: this.InventarioForm.get('cantidad').value,\r\n      unidad: this.InventarioForm.get('unidad').value,\r\n      presentacion: this.InventarioForm.get('presentacion').value,\r\n      neto: this.InventarioForm.get('neto').value,\r\n      color:this.InventarioForm.get('color').value,\r\n      // codigo: this.InventarioForm.get('codigo').value,\r\n      // lote: this.InventarioForm.get('lote').value,\r\n      cinta:this.InventarioForm.get('cinta').value,\r\n      grupo,\r\n      nuevo:this.OTRO\r\n\r\n    }\r\n\r\n    // // console.log(this.InventarioForm.get('color').value)\r\n\r\n    if(this.InventarioForm.invalid){\r\n      return\r\n    }\r\n\r\n\r\n\r\n    this.api.PostAlmacen(data)\r\n     .subscribe(resp=>{\r\n        this.InventarioForm.reset();\r\n        this.BuscarAlmacen();\r\n        this.BuscarGruposEnAlmacen();\r\n        this.Modal_Almacen();\r\n        // this.getSustratos();\r\n      })\r\n\r\n   }\r\n\r\n   Peso(e){\r\n    this.PESO = e.target.value\r\n    this.HOJAS = this.PESO*10000000000\r\n    let otro = this.GRAMAJE*this.ANCHO*this.LARGO\r\n    this.HOJAS = this.HOJAS/otro\r\n    this.HOJAS = Math.trunc(this.HOJAS)\r\n    // /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Gramaje(e){\r\n     this.GRAMAJE = e\r\n     this.HOJAS = this.PESO*10000000000\r\n     let otro = this.GRAMAJE*this.ANCHO*this.LARGO\r\n     this.HOJAS = this.HOJAS/otro\r\n     this.HOJAS = Math.trunc(this.HOJAS)\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Ancho(e){\r\n     this.ANCHO = e\r\n     this.HOJAS = this.PESO*10000000000\r\n     let otro = this.GRAMAJE*this.ANCHO*this.LARGO\r\n     this.HOJAS = this.HOJAS/otro\r\n     this.HOJAS = Math.trunc(this.HOJAS)\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Largo(e){\r\n     this.LARGO = e\r\n     this.HOJAS = this.PESO*10000000000\r\n     let otro = this.GRAMAJE*this.ANCHO*this.LARGO\r\n     this.HOJAS = this.HOJAS/otro\r\n     this.HOJAS = Math.trunc(this.HOJAS)\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n\r\n  //  ***********************************************************\r\n  Hojas_(e){\r\n    this.HOJAS_ = e.target.value\r\n    let all = this.HOJAS_ * this.GRAMAJE_*this.ANCHO_*this.LARGO_\r\n    this.PESO_ = all / 10000000000;\r\n    // /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Gramaje_(e){\r\n     this.GRAMAJE_ = e.target.value\r\n     let all = this.HOJAS_ * this.GRAMAJE_*this.ANCHO_*this.LARGO_\r\n     this.PESO_ = all / 10000000000;\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Ancho_(e){\r\n     this.ANCHO_ = e.target.value\r\n     let all = this.HOJAS_ * this.GRAMAJE_*this.ANCHO_*this.LARGO_\r\n     this.PESO_ = all / 10000000000;\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Largo_(e){\r\n     this.LARGO_ = e.target.value\r\n     let all = this.HOJAS_ * this.GRAMAJE_*this.ANCHO_*this.LARGO_\r\n     this.PESO_ = all / 10000000000;\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n  //  ***********************************************************\r\n\r\n\r\n  nuevaBobina(){\r\n    let splited = this.BobinaForm.get('material').value;\r\n    splited = splited.split('_')\r\n    let marca = splited[1].split('(')\r\n    this.BobinaForm.get('material').setValue(splited[0])\r\n    this.BobinaForm.get('marca').setValue(marca[1].slice(0,-1))\r\n    this.api.postNuevaBobina(this.BobinaForm.value)\r\n      .subscribe((resp:any)=>{\r\n        this.BobinaForm.reset();\r\n        this.Modal_bobinas();\r\n        this.getbobinas();\r\n        Swal.fire({\r\n          title:'Nueva Bobina Agregada!',\r\n          text:'Se agregó una nueva bobina al almacen de bobinas',\r\n          icon:'success',\r\n          showConfirmButton:false\r\n        })\r\n      })\r\n  }\r\n\r\n  public Convertidora;\r\n  seleccionar_material(e){\r\n    (<HTMLInputElement>document.getElementById('bobina_selected')).disabled = false;\r\n    this.SUSTRATO_CONVERSION = [];\r\n    this.Convertidora = e;\r\n    let BobinasEnConvertidora = this.BOBINAS_.filter(x => x.convertidora === e)\r\n    // console.log(BobinasEnConvertidora)\r\n    for(let i = 0; i<BobinasEnConvertidora.length; i++){\r\n      let bobina = BobinasEnConvertidora[i]\r\n      // console.log(bobina)\r\n      let sustrato = this.ALMACEN.filter(x => x.nombre == bobina.material && x.marca == bobina.marca && x.ancho == bobina.ancho && x.gramaje == bobina.gramaje && x.calibre == bobina.calibre)\r\n\r\n          // console.log(sustrato,'aja')\r\n          if(sustrato){\r\n          for(let i =0; i<sustrato.length;i++){\r\n  \r\n              let existe = this.SUSTRATO_CONVERSION.find(x => x._id == sustrato[i]._id)\r\n              if(!existe){\r\n                this.SUSTRATO_CONVERSION.push(sustrato[i])\r\n              }\r\n            }\r\n          }\r\n    }\r\n  }\r\n\r\n  public SUSTRATO_CONVERSION = [];\r\n  public BobinasSencillas = [];\r\n  getbobinas(){\r\n    this.I_f = 0;\r\n    this.I_r = 0;\r\n    this.BobinasSencillas = [];\r\n    this.api.getBobina()\r\n      .subscribe((resp:any)=>{\r\n        this.BOBINAS_ = resp;\r\n        let Almacen = this.ALMACEN;\r\n        for(let i = 0; i<this.BOBINAS_.length; i++){\r\n          let bobina = this.BOBINAS_[i]\r\n          if(bobina.convertidora === 'Convertidora Finlandia, C.A.'){\r\n            this.I_f++;\r\n          }else{\r\n            this.I_r++;\r\n          }\r\n          let sumada = this.BobinasSencillas.findIndex(x => x.material === this.BOBINAS_[i].material && x.marca === this.BOBINAS_[i].marca && x.ancho === this.BOBINAS_[i].ancho && x.gramaje === this.BOBINAS_[i].gramaje && x.calibre === this.BOBINAS_[i].calibre && x.convertidora === this.BOBINAS_[i].convertidora)\r\n\r\n          if(sumada < 0){\r\n            let data = {\r\n              material:this.BOBINAS_[i].material,\r\n              marca:this.BOBINAS_[i].marca,\r\n              calibre:this.BOBINAS_[i].calibre,\r\n              gramaje:this.BOBINAS_[i].gramaje,\r\n              ancho:this.BOBINAS_[i].ancho,\r\n              convertidora:this.BOBINAS_[i].convertidora,\r\n              peso:this.BOBINAS_[i].peso\r\n            }\r\n            this.BobinasSencillas.push(data)\r\n          }\r\n          else{\r\n              let peso = Number(this.BobinasSencillas[sumada].peso) + Number(this.BOBINAS_[i].peso)\r\n              this.BobinasSencillas[sumada].peso = peso\r\n          }\r\n\r\n          console.log(this.BobinasSencillas)\r\n\r\n          let sustrato = this.ALMACEN.find(x => x.nombre == bobina.material && x.marca == bobina.marca && x.ancho == bobina.ancho && x.gramaje == bobina.gramaje)\r\n\r\n          console.log(sustrato)\r\n          if(sustrato){\r\n\r\n            let existe = this.SUSTRATO_CONVERSION.find(x => x._id == sustrato._id)\r\n            if(!existe){\r\n              this.SUSTRATO_CONVERSION.push(sustrato)\r\n            }\r\n          }\r\n\r\n          // let sustrato = this.ALMACEN.find(x => x.nombre == bobina.material && x.gramaje == bobina.gramaje && x.ancho == bobina.ancho)\r\n          // console.log(sustrato, 'bobina')\r\n          // if(sustrato){\r\n          //   console.log( this.SUSTRATO_CONVERSION,'bOBINAS')\r\n\r\n          // }\r\n        }\r\n      })\r\n  }\r\n\r\n\r\n  public conversiones = []\r\n  Buscar_conversiones(){\r\n    this.api.getConversiones()\r\n      .subscribe((resp:any)=>{\r\n        this.conversiones = resp;\r\n      })\r\n  }\r\n\r\n  Buscar_Bobina(e){\r\n    let material = this.ALMACEN.find(x => x._id == e.target.value)\r\n\r\n    if(material){\r\n      (<HTMLInputElement>document.getElementById('_gramaje')).value = material.gramaje;\r\n      (<HTMLInputElement>document.getElementById('_ancho')).value = material.ancho;\r\n      (<HTMLInputElement>document.getElementById('_largo')).value = material.largo;\r\n      this.Gramaje(material.gramaje);\r\n      this.Ancho(material.ancho);\r\n      this.Largo(material.largo);\r\n      // if(TheBobina){\r\n      // (<HTMLInputElement>document.getElementById('_ancho')).value = TheBobina.ancho\r\n      // }\r\n      // if(TheBobina){\r\n      //   // console.log(TheBobina)\r\n      //   this.Mat_Selected = TheBobina.material;\r\n      //   this.Num_Bobina = TheBobina.Nbobina;\r\n      // }\r\n    }\r\n\r\n  }\r\n\r\n  public I_f = 0;\r\n  public I_r = 0;\r\n\r\n  Generar_Conversion(){\r\n    let sustrato = (<HTMLInputElement>document.getElementById('bobina_selected')).value;\r\n    let peso = (<HTMLInputElement>document.getElementById('_peso')).value;\r\n    let gramaje = (<HTMLInputElement>document.getElementById('_gramaje')).value;\r\n    let ancho = (<HTMLInputElement>document.getElementById('_ancho')).value;\r\n    let largo = (<HTMLInputElement>document.getElementById('_largo')).value;\r\n    let observacion = (<HTMLInputElement>document.getElementById('observacion')).value;\r\n    let convertidora = (<HTMLInputElement>document.getElementById('convertidora')).value;\r\n    let Material = this.ALMACEN.find(x=> x._id == sustrato)\r\n\r\n    let data = {\r\n      material:`${Material.nombre} (${Material.marca})`,\r\n      codigo:this.Num_Bobina,\r\n      peso,\r\n      sustrato:`${Material.nombre} (${Material.marca})`,\r\n      hojas:this.HOJAS,\r\n    }\r\n\r\n    let solicitado = [\r\n      `${this.usuario.Nombre} ${this.usuario.Apellido}`,\r\n      // 'Gerente de Operaciones',\r\n      'Poligráfica Industrial, C.A.'\r\n    ]\r\n\r\n    let hojas:string = data.hojas.toString()\r\n\r\n    let hoy = moment().format('DD/MM/YYYY')\r\n\r\n     this.api.postNuevoSustrato(data)\r\n       .subscribe((resp:any)=>{\r\n         this.modal_Conversion();\r\n         Swal.fire({\r\n           title:'Nueva Solicitud de Conversion Creada',\r\n           text:`Su solicitud de conversion para ${Material.nombre}, fue realizada`,\r\n           icon:'success',\r\n           showConfirmButton:false,\r\n         })\r\n\r\n        async function recibo() {\r\n          const pdf = new PdfMakeWrapper();\r\n          PdfMakeWrapper.setFonts(pdfFonts);\r\n          pdf.pageOrientation('landscape');\r\n\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell(await new Img('../../assets/poli_cintillo.png').width(85).margin([35, 5]).build()).rowSpan(4).end,\r\n                new Cell(new Txt(`\r\n                SOLICITUD DE CONVERSIÓN`).bold().end).alignment('center').fontSize(13).rowSpan(4).end,\r\n                new Cell(new Txt('Código: FAL-002').end).fillColor('#dedede').fontSize(9).alignment('center').end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('N° de Revisión: 0').end).fillColor('#dedede').fontSize(9).alignment('center').end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('Fecha de Revision: 3/11/2022').end).fillColor('#dedede').fontSize(9).alignment('center').end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('Página: 1 de 1').end).fillColor('#dedede').fontSize(9).alignment('center').end,\r\n              ],\r\n            ]).widths(['25%','50%','25%']).end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell(new Table(([\r\n                  [\r\n                    new Cell(new Txt('CONVERTIDORA').end).fillColor('#dedede').end,\r\n                    new Cell(new Txt(convertidora).end).end,\r\n                  ]\r\n                ])\r\n                ).widths(['30%','70%']).end\r\n                ).alignment('center').end,\r\n\r\n                new Cell(new Txt('').end).end,\r\n\r\n                new Cell(new Table(([\r\n                  [\r\n                    new Cell(new Txt('CONVERSIÓN').end).alignment('center').colSpan(2).color('#ffffff').fillColor('#000000').end,\r\n                    new Cell(new Txt('').end).end\r\n                  ],\r\n                  [\r\n                    new Cell(new Txt('N°').margin([0,6]).end).alignment('center').fillColor('#dedede').end,\r\n                    new Cell(new Txt(resp).bold().end).fontSize(20).end\r\n                  ],\r\n                  [\r\n                    new Cell(new Txt('FECHA DE SOLICITUD').end).alignment('center').fillColor('#dedede').end,\r\n                    new Cell(new Txt(`${hoy}`).margin([0,6]).bold().end).end\r\n                  ]\r\n                ])).widths(['30%','70%']).end\r\n                ).alignment('center').end,\r\n\r\n              ]\r\n            ]).widths(['45%','15%','40%']).layout('noBorders').end\r\n\r\n          )\r\n\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table(([\r\n              [\r\n                new Cell(new Txt('MATERIAL').margin([0,6]).bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('GRAMAJE    (g/m²)').bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('ANCHO DE BOBINA (cm)').bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('CORTE (cm)').margin([0,6]).bold().end).fillColor('#dedede').colSpan(2).end,\r\n                new Cell(new Txt('').end).fillColor('#dedede').end,\r\n                new Cell(new Txt('PESO (t)').margin([0,6]).bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('HOJAS (und)').margin([0,6]).bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('OBSERVACIÓN').margin([0,6]).bold().end).fillColor('#dedede').end,\r\n              ],\r\n              [\r\n                new Cell(new Txt(data.sustrato).end).end,\r\n                new Cell(new Txt(gramaje).end).end,\r\n                new Cell(new Txt(ancho).end).end,\r\n                new Cell(new Txt(ancho).end).end,\r\n                new Cell(new Txt(largo).end).end,\r\n                new Cell(new Txt(peso).end).end,\r\n                new Cell(new Txt(hojas).color('red').end).end,\r\n                new Cell(new Txt(observacion).end).end,\r\n              ]\r\n            ])).widths(['17%','11%','11%','11%','11%','11%','11%','17%']).alignment('center').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table(([\r\n              [\r\n                new Cell(new Txt(\"\").end).end,\r\n\r\n                new Cell(new Table(([\r\n                  [\r\n                    new Cell(new Txt('SOLICITADO POR:').color('#ffffff').end).fillColor('#000000').alignment('center').end\r\n                  ],\r\n                  [\r\n                    new Cell(new Stack(solicitado).end).alignment('center').end\r\n\r\n                  ]\r\n                ])).widths(['100%']).end\r\n                ).end,\r\n              ]\r\n\r\n            ])).widths(['60%','40%']).layout('noBorders').alignment('center').end\r\n          )\r\n\r\n\r\n\r\n\r\n          pdf.create().download(`CONVERSION_${resp}`)\r\n\r\n        }\r\n\r\n        recibo();\r\n\r\n      })\r\n  }\r\n\r\n  // getSustratos(){\r\n  //   this.api.getSustratos()\r\n  //     .subscribe((resp:any)=>{\r\n  //       // console.log(resp)\r\n  //       if(resp.length>0){\r\n  //         this.boolean_sustrato = true;\r\n  //         this.Sustratos = resp;\r\n  //       }\r\n  //     })\r\n\r\n  totalizar(neto,cantidad){\r\n    let total = neto*cantidad;\r\n    return total;\r\n  }\r\n\r\n\r\n\r\n  BuscarTotal(Material:any, cantidad_Mat:any, cantidad_orden:any){\r\n    let El_Material = this.ALMACEN.find(x=> x.nombre == Material)\r\n    const total_necesario = (cantidad_Mat / 1000) * cantidad_orden\r\n    let Total_en_Presentacion = total_necesario / El_Material.neto\r\n\r\n    if( Total_en_Presentacion % 1 == 0 ){\r\n\r\n      if(Total_en_Presentacion < 1){\r\n        Total_en_Presentacion = 1;\r\n      }\r\n\r\n      return {total:Total_en_Presentacion,\r\n        presentacion: El_Material.presentacion}\r\n\r\n    }else {\r\n      Total_en_Presentacion = Math.round(Total_en_Presentacion)\r\n\r\n      if(Total_en_Presentacion < 1){\r\n        Total_en_Presentacion = 1;\r\n      }\r\n\r\n      return {total:Total_en_Presentacion,\r\n              presentacion: El_Material.presentacion}\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  RestarMaterial(material, total){\r\n    const data = {\r\n      material:material.material,\r\n      total\r\n    }\r\n\r\n\r\n    let Descuento = this.DESCUENTOS.find(x => x.material == material.material)\r\n\r\n    if(!Descuento){\r\n      this.DESCUENTOS.push(data)\r\n    }\r\n\r\n  }\r\n\r\n  modal_eliminacion(){\r\n    if(this.eliminacion){\r\n      this.eliminacion = false;\r\n    }else{\r\n      this.eliminacion = true;\r\n    }\r\n  }\r\n\r\n  eliminar_p(nombre, cantidad, id, sustrato?){\r\n    this.name_p_e = nombre\r\n    this.cantidad_p_e = cantidad\r\n    this.id_p_e = id\r\n\r\n    if(sustrato){\r\n      this.eliminar_sustrato = true;\r\n    }\r\n\r\n    this.modal_eliminacion();\r\n\r\n  }\r\n\r\n  confirmar_eliminacion(motivo){\r\n\r\n    motivo = motivo.value;\r\n\r\n    if(this.eliminar_sustrato){\r\n      this.api.eliminarSustrato(this.id_p_e, motivo)\r\n      .subscribe((resp:any)=>{\r\n        this.BuscarAlmacen();\r\n        this.porConfirmar();\r\n        this.modal_eliminacion();\r\n\r\n        this.BuscarAlmacen();\r\n        this.BuscarGruposEnAlmacen();\r\n        this.getbobinas();\r\n        // this.getSustratos();\r\n        this.porConfirmar();\r\n        // // console.log(resp)\r\n      })\r\n    }else{\r\n      this.api.eliminarMaterial(this.id_p_e, motivo)\r\n        .subscribe((resp:any)=>{\r\n          // // console.log(resp)\r\n          this.BuscarAlmacen();\r\n          this.porConfirmar();\r\n          this.modal_eliminacion();\r\n        })\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  descargarInventario(desde, hasta){\r\n    const data = {\r\n      desde:desde.value,\r\n      hasta:hasta.value\r\n    }\r\n\r\n    this.api.reporteInventario(data)\r\n      .subscribe((resp:any)=>{\r\n\r\n\r\n        // // console.log('aqui es la broma:', resp)\r\n\r\n        const pdf = new PdfMakeWrapper();\r\n        PdfMakeWrapper.setFonts(pdfFonts);\r\n\r\n        async function generarPDF(){\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt(` Movimientos Realizados en el Almacen`).end).alignment('center').end,\r\n              ],\r\n              [\r\n                new Cell( new Txt(` Desde: ${desde.value} Hasta: ${hasta.value}`).end).alignment('center').end,\r\n              ]\r\n            ]).widths(['100%']).layout('noBorders').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt('PRODUCTOS EN ALMACEN').end).fillColor('#dedede').alignment('center').end,\r\n              ]\r\n            ]).widths(['100%']).layout('noBorders').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt(`NOMBRE`).end).end,\r\n                new Cell( new Txt(`PRESENTACIÓN`).end).end,\r\n                new Cell( new Txt(`CANTIDAD`).end).end,\r\n                new Cell( new Txt(`CÓDIGO`).end).end,\r\n                new Cell( new Txt(`LOTE`).end).end,\r\n\r\n              ]\r\n            ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n          )\r\n          for(let i = 0; i < resp.almacen.length; i++){\r\n            pdf.add(\r\n              new Table([\r\n                [\r\n                  new Cell( new Txt(`${resp.almacen[i].nombre}`).end).end,\r\n                  new Cell( new Txt(`${resp.almacen[i].presentacion} ${resp.almacen[i].neto} ${resp.almacen[i].unidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.almacen[i].cantidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.almacen[i].codigo}`).end).end,\r\n                  new Cell( new Txt(`${resp.almacen[i].lote}`).end).end,\r\n\r\n                ]\r\n              ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n            )\r\n          }\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt('PRODUCTOS INGRESADOS EN LA FECHA ESTIPULADA').end).fillColor('#dedede').alignment('center').end,\r\n              ]\r\n            ]).widths(['100%']).layout('noBorders').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt(`NOMBRE`).end).end,\r\n                new Cell( new Txt(`PRESENTACIÓN`).end).end,\r\n                new Cell( new Txt(`CANTIDAD`).end).end,\r\n                new Cell( new Txt(`CÓDIGO`).end).end,\r\n                new Cell( new Txt(`LOTE`).end).end,\r\n\r\n              ]\r\n            ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n          )\r\n          for(let i = 0; i < resp.ingresos.length; i++){\r\n            pdf.add(\r\n              new Table([\r\n                [\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.nombre}`).end).end,\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.presentacion} ${resp.ingresos[i].material.neto} ${resp.ingresos[i].material.unidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.cantidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.codigo}`).end).end,\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.lote}`).end).end,\r\n\r\n                ]\r\n              ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n            )\r\n          }\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt('SALIDAS DEL ALMACEN').end).fillColor('#dedede').alignment('center').end,\r\n              ]\r\n            ]).widths(['100%']).layout('noBorders').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt(`NOMBRE`).end).end,\r\n                new Cell( new Txt(`PRESENTACIÓN`).end).end,\r\n                new Cell( new Txt(`CANTIDAD`).end).end,\r\n                new Cell( new Txt(`RAZON`).end).end,\r\n                new Cell( new Txt(`FECHA`).end).end,\r\n\r\n              ]\r\n            ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n          )\r\n          for(let i = 0; i < resp.descuentos.length; i++){\r\n            pdf.add(\r\n              new Table([\r\n                [\r\n                  new Cell( new Txt(`${resp.descuentos[i].material.nombre}`).end).end,\r\n                  new Cell( new Txt(`${resp.descuentos[i].material.presentacion} ${resp.descuentos[i].material.neto} ${resp.descuentos[i].material.unidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.descuentos[i].descuento}`).end).end,\r\n                  new Cell( new Txt(`${resp.descuentos[i].razon}`).end).end,\r\n                  new Cell( new Txt(`${resp.descuentos[i].fecha.slice(0, 10)}`).end).end,\r\n\r\n                ]\r\n              ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n            )\r\n          }\r\n\r\n\r\n\r\n\r\n\r\n\r\n          pdf.create().download()\r\n\r\n        }\r\n        generarPDF();\r\n        this.modal_reporte()\r\n      })\r\n\r\n  }\r\n\r\n  totalizar_materiales(){\r\n\r\n    for(let i=0; i<this.Almacenado.length; i++){\r\n      let existe = this.TOTALES.find(x => x.material == this.Almacenado[i].material.nombre && x.marca == this.Almacenado[i].material.marca && x.ancho == this.Almacenado[i].material.ancho && x.largo == this.Almacenado[i].material.largo && x.calibre == this.Almacenado[i].material.calibre && x.gramaje == this.Almacenado[i].material.gramaje);\r\n      if(existe){\r\n          let x = this.TOTALES.findIndex(x => x.material == this.Almacenado[i].material.nombre && x.marca == this.Almacenado[i].material.marca && x.ancho == this.Almacenado[i].material.ancho && x.largo == this.Almacenado[i].material.largo && x.calibre == this.Almacenado[i].material.calibre && x.gramaje == this.Almacenado[i].material.gramaje)\r\n\r\n          this.TOTALES[x].total = Number(this.TOTALES[x].total)\r\n          this.Almacenado[i].cantidad = Number(this.Almacenado[i].cantidad)\r\n          this.Almacenado[i].neto = Number(this.Almacenado[i].material.neto)\r\n\r\n          let def = (this.Almacenado[i].neto * this.Almacenado[i].cantidad) / this.TOTALES[x].neto\r\n\r\n          this.TOTALES[x].total = this.TOTALES[x].total + def;\r\n\r\n        }else{\r\n        this.TOTALES.push({\r\n                       material:this.Almacenado[i].material.nombre,\r\n                       marca:this.Almacenado[i].material.marca,\r\n                       calibre:this.Almacenado[i].material.calibre,\r\n                       gramaje:this.Almacenado[i].material.gramaje,\r\n                       grupo:this.Almacenado[i].material.grupo.nombre,\r\n                       presentacion:this.Almacenado[i].material.presentacion,\r\n                       neto:this.Almacenado[i].material.neto,\r\n                       unidad:this.Almacenado[i].material.unidad,\r\n                      ancho:this.Almacenado[i].material.ancho,\r\n                      largo:this.Almacenado[i].material.largo,\r\n                      total:this.Almacenado[i].cantidad\r\n                    })\r\n      }\r\n      if(i === this.Almacenado.length - 1){\r\n        // console.log(this.TOTALES)\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  changeView(){\r\n\r\n    if(this.resumido){\r\n      this.resumido = false;\r\n      this.detallado = true;\r\n    }else{\r\n      this.resumido = true;\r\n      this.detallado = false;\r\n    }\r\n  }\r\n\r\n  seleccion_inventario(material, marca){\r\n\r\n    let materiales_en_almacen = [];\r\n\r\n    for(let i=0; i<this.ALMACEN.length; i++){\r\n      if(this.ALMACEN[i].nombre == material && this.ALMACEN[i].marca == marca){\r\n        materiales_en_almacen.push({\r\n          nombre:this.ALMACEN[i].nombre,\r\n          marca:this.ALMACEN[i].marca,\r\n\r\n        });\r\n      }\r\n    }\r\n\r\n    return materiales_en_almacen;\r\n  }\r\n\r\n  caja(cajas){\r\n    this.caja_ = cajas;\r\n  }\r\n\r\n  finalizar_asignacion(){\r\n        this.BuscarAlmacen()\r\n        this.porConfirmar()\r\n        this.getAalmacenado()\r\n        this.getOrdenes()\r\n  }\r\n\r\n  // existencia(x){\r\n  //   let lotes = this.LOTES.length;\r\n  //   let existencia = 0;\r\n  //   for(let i = 0; i<lotes; i++){\r\n  //     if(this.LOTES[i].i == x){\r\n  //       existencia = existencia + this.LOTES[i].almacenado;\r\n  //     }\r\n  //   }\r\n\r\n  //   return existencia\r\n  // }\r\n\r\n\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { MaquinaInterface } from '../interface/maquinas.interfase';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\n\r\nimport { Usuario } from '../models/usuario.model';\r\nimport { Router } from '@angular/router';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RestApiService {\r\n\r\n\r\n  api_url = environment.api;\r\n\r\n  constructor(public http:HttpClient,\r\n              private router:Router) { }\r\n\r\n  public usuario!:Usuario;\r\n\r\n  get token():string{\r\n    return localStorage.getItem('token') || '';\r\n  }\r\n  get token_two():string{\r\n    return localStorage.getItem('token_two') || '';\r\n  }\r\n  get headers2(){\r\n    return {\r\n      'Authorization':this.token_two\r\n    }\r\n  }\r\n  get headers(){\r\n    return {\r\n      'Authorization':this.token\r\n    }\r\n   }\r\n\r\n  // **************************************************************************\r\n  // **************************** MAQUINAS ************************************\r\n  // ************************************************************************** \r\n\r\n  GetMaquinas(){\r\n    const url = `${this.api_url}/maquinas`\r\n    return this.http.get<MaquinaInterface[]>(url)\r\n  }\r\n\r\n  PostMaquinas(data:MaquinaInterface){\r\n    const url = `${this.api_url}/maquinas`\r\n    return this.http.post<MaquinaInterface>(url,data)\r\n  }\r\n\r\n  DeleteMaquinas(id){\r\n    const url = `${this.api_url}/maquinas/${id}`\r\n    return this.http.delete(url)\r\n  }\r\n\r\n\r\n  // **************************************************************************\r\n  // **************************** GRUPOS **************************************\r\n  // **************************************************************************\r\n\r\n  getGrupos(){\r\n    const url = `${this.api_url}/grupos`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  PostGrupos(data:any){\r\n    const url = `${this.api_url}/grupos`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  // ****************************************************************************\r\n  // **************************** CLIENTES **************************************\r\n  // ****************************************************************************\r\n\r\n  GetClientes(){\r\n    const url = `${this.api_url}/clientes`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  PostClientes(data){\r\n    const url = `${this.api_url}/clientes`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  // ****************************************************************************\r\n  // **************************** Almacen ***************************************\r\n  // ****************************************************************************\r\n\r\n\r\n  getAlmacen(){\r\n    const url = `${this.api_url}/materiales`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  GetGrupoMp(){\r\n    const url = `${this.api_url}/tipo-materia-prima`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  PostAlmacen(data){\r\n    const url = `${this.api_url}/nuevo-material`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  // ****************************************************************************\r\n  // **************************** Productos *************************************\r\n  // ****************************************************************************\r\n\r\n  postProducto(data){\r\n    const url = `${this.api_url}/nuevo-producto`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getById(id){\r\n    const url = `${this.api_url}/productos/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getOneById(id){\r\n    const url = `${this.api_url}/producto/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n\r\n  getFechas(id){\r\n    const url = `${this.api_url}/trabajos/${id}`\r\n    return this.http.get(url);\r\n  }\r\n\r\n  postOrden(data){\r\n    const url = `${this.api_url}/orden`\r\n    return this.http.post(url,data)\r\n  }\r\n  postOrden2(data){\r\n    const url = `${this.api_url}/trabajos`\r\n    return this.http.post(url,data)\r\n  }\r\n  getOrdenById(id){\r\n    const url = `${this.api_url}/orden/${id}`\r\n    return this.http.get(url);\r\n  }\r\n  getOrden(){\r\n    const url = `${this.api_url}/orden`\r\n    return this.http.get(url);\r\n  }\r\n\r\n  getTrabajos(){\r\n    const url = `${this.api_url}/trabajos`\r\n    return this.http.get(url);\r\n  }\r\n\r\n  getEstado(id:any){\r\n    const url = `${this.api_url}/orden/etapa/${id}`\r\n    return this.http.get(url);\r\n  }\r\n\r\n  getInfToday(fecha:any){\r\n    const url = `${this.api_url}/gestion`\r\n    return this.http.post(url,fecha)\r\n  }\r\n\r\n  postGestion(data){\r\n    const url = `${this.api_url}/gestiones`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getGestiones(){\r\n    const url = `${this.api_url}/gestiones`\r\n    return this.http.get(url);\r\n  }\r\n  postRestrasar(data){\r\n    const url = `${this.api_url}/trabajos/retrasar`\r\n    return this.http.post(url,data)\r\n  }\r\n  postAcelerar(data){\r\n    const url = `${this.api_url}/trabajos/acelerar`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  postNuevaBobina(data){\r\n    const url = `${this.api_url}/bobina`\r\n    return this.http.post(url,data)\r\n  }\r\n  deleteBobina(data){\r\n    const url = `${this.api_url}/bobina-delete`\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  getBobina(){\r\n    const url = `${this.api_url}/bobina`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  postNuevoSustrato(data){\r\n    const url = `${this.api_url}/sustrato`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getSustratos(){\r\n    const url = `${this.api_url}/sustrato`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getConversiones(){\r\n    const url = `${this.api_url}/conversiones`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  Login(data){\r\n    const url = `${this.api_url}/login`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  validarToken():Observable<boolean>{\r\n    \r\n\r\n    return this.http.get(`${this.api_url}/renew`,{\r\n      headers:this.headers\r\n    }).pipe(\r\n      tap( (resp:any) =>{\r\n\r\n        const {estado,_id ,Nombre ,Apellido, Correo ,Departamento, Role,Nueva_orden,Consulta,Almacen,Maquinaria, Planificacion,Gestiones,Despacho,Estadisticas,Precios,pin } = resp.usuario;\r\n\r\n        this.usuario = new Usuario(estado, _id, Nombre, Apellido, Correo, Departamento,Role,Nueva_orden, Consulta, Almacen,Maquinaria,Planificacion,Gestiones,Despacho,Estadisticas,Precios,pin);\r\n        localStorage.setItem('token', resp.token);\r\n        localStorage.setItem('menu', JSON.stringify( resp.menu) );\r\n      }),\r\n      map(resp => true),\r\n      catchError(error => of(false))\r\n    )\r\n\r\n  }\r\n\r\n  ValidarVerificacion():Observable<boolean>{\r\n    return this.http.get(`${this.api_url}/renew2`,{\r\n      headers:this.headers2\r\n    }).pipe(\r\n      tap( (resp:any) =>{\r\n        localStorage.setItem('token_two', resp.token_two);\r\n        localStorage.setItem('menu', JSON.stringify( resp.menu) );\r\n      }),\r\n      map(resp => true),\r\n      catchError(error => of(false))\r\n    )\r\n  }\r\n\r\n  logout(){\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('token_two');\r\n    localStorage.removeItem('menu');\r\n    this.router.navigateByUrl('login');\r\n  }\r\n\r\n  getMaterialesPorConfirmar(){\r\n    const url = `${this.api_url}/orden_material`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  modificarMaterialTal(data){\r\n    const url = `${this.api_url}/material/descuento`\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  eliminarMaterial(id:any, motivo){\r\n    const url = `${this.api_url}/materiales/${id}`\r\n    const data = {\r\n      motivo\r\n    }\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  eliminarSustrato(id:any, motivo){\r\n    const url = `${this.api_url}/sustratos/${id}`\r\n    const data = {\r\n      motivo\r\n    }\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  reporteInventario(data){\r\n    const url = `${this.api_url}/materialess/reporte`\r\n    return this.http.post(url, data);\r\n  }\r\n\r\n  realizarDescuentoAlmacen(data){\r\n    const url = `${this.api_url}/material/descuento`\r\n    return this.http.post(url, data);\r\n  }\r\n\r\n  postAlmacenado(data){\r\n    const url = `${this.api_url}/almacenado`\r\n    return this.http.post(url, data);\r\n  }\r\n\r\n  getAlmacenado(){\r\n    const url = `${this.api_url}/almacenado`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getAlmacenadoID(id){\r\n    const url = `${this.api_url}/almacenado/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n\r\n  getAlmacenadoID2(id){\r\n    const url = `${this.api_url}/almacenados/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  putAlmacenadoID(id,body){\r\n    const url = `${this.api_url}/almacenado/${id}`\r\n    return this.http.put(url,body)\r\n  }\r\n\r\n  getOrdenById2(id){\r\n    const url = `${this.api_url}/etiquetar/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getMaterialesID(id){\r\n    const url = `${this.api_url}/materiales/${id}`\r\n    return this.http.get(url)\r\n  }\r\n  \r\n  putMaterialID(id, body){\r\n    const url = `${this.api_url}/material/${id}`\r\n    return this.http.put(url,body)\r\n  }\r\n\r\n  getMaquinaID(id){\r\n    const url = `${this.api_url}/maquinas/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  putMaquina(id, body){\r\n    const url = `${this.api_url}/maquinas/${id}`\r\n    return this.http.put(url, body)\r\n  }\r\n\r\n  deleteGrupo(id){\r\n    const url = `${this.api_url}/grupo/${id}`\r\n    return this.http.delete(url)\r\n  }\r\n\r\n  getMaquinasByOrdens(id){\r\n    const url = `${this.api_url}/maquina-orden/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  updateProducto(data, id){\r\n    \r\n    const url = `${this.api_url}/producto/${id}`\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  /**\r\n   * Finaliza el trabajo que se esta realizando\r\n   */\r\n  finalizarTrabajo(id){\r\n    const url = `${this.api_url}/finalizar-trabajo`\r\n    return this.http.put(url, id)\r\n  }\r\n\r\n  cambiarContrasena(data){\r\n    const url = `${this.api_url}/usuario/cambio-password`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  postReq(data){\r\n    const url = `${this.api_url}/requi`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getRequi(){\r\n    const url = `${this.api_url}/requi`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getRequiEspera(){\r\n    const url = `${this.api_url}/requi/espera`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  DeleteRequi(id){\r\n    const url = `${this.api_url}/requi/${id}`\r\n    return this.http.delete(url)\r\n  }\r\n\r\n  UpdateRequi(id){\r\n    let data = 'nada'\r\n    const url = `${this.api_url}/requi/${id}`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  getLotes(){\r\n    const url = `${this.api_url}/devoluciones`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  postDevolucion(data){\r\n    const url = `${this.api_url}/material/devolucion`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getDevolucion(){\r\n    const url = `${this.api_url}/devolucion`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  putDevolucion(id, data){\r\n    const url = `${this.api_url}/devoluciones/${id}`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  DeleteDevolucion(id){\r\n    const url = `${this.api_url}/devoluciones/${id}`\r\n    return this.http.delete(url)\r\n  }\r\n\r\n  PostDespacho(data){\r\n    const url = `${this.api_url}/despacho`\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  GetDespacho(){\r\n    const url = `${this.api_url}/despacho`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  PutDespacho(id,data){\r\n    const url = `${this.api_url}/despacho/${id}`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  PutDespachos(id,data){\r\n    const url = `${this.api_url}/despachos/${id}`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  GetDespachoByOrden(orden){\r\n    const url = `${this.api_url}/despacho/${orden}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  CerrarOrden(id){\r\n    const url = `${this.api_url}/orden-cerrar/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  updateTrabajo(id, data){\r\n    const url = `${this.api_url}/trabajo/${id}`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  BuscarAlmacenes(producto){\r\n    console.log(producto,'kakaka')\r\n    const url = `${this.api_url}/despacho/almacen`\r\n    return this.http.post(url, {producto})\r\n  }\r\n\r\n\r\n\r\n\r\n  EstadisticasOrden(data){\r\n    const url = `${this.api_url}/estadisticas/ordens`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  putCliente(data, id){\r\n    const url = `${this.api_url}/cliente/${id}`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  putOrden(data, id){\r\n    const url = `${this.api_url}/orden/${id}`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  getOrdenesTodas(){\r\n    const url = `${this.api_url}/orden-todo`\r\n    return this.http.get(url)\r\n  }\r\n  putBobinas(id,data){\r\n\r\n    delete data._id\r\n\r\n    const url = `${this.api_url}/sustrato/${id}`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n\r\n  getOrdensByCliente(cliente){\r\n    const url = `${this.api_url}/orden-cliente/${cliente}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getDespachosbyOrden(orden){\r\n    const url = `${this.api_url}/despachos-pendientes/${orden}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  postEscala(data){\r\n    const url = `${this.api_url}/cotizacion/intervalo`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getEscala(producto){\r\n    const url = `${this.api_url}/cotizacion/intervalo/${producto}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  DeleteEscala(id){\r\n    const url = `${this.api_url}/cotizacion/intervalo/${id}`\r\n    return this.http.delete(url)\r\n  }\r\n\r\n  GetOneEscala(producto,cantidad){\r\n    const url = `${this.api_url}/cotizacion/intervalo/producto/${producto}`\r\n    return this.http.post(url,cantidad)\r\n  }\r\n  GetEscalaByCliente(cliente){\r\n    const url = `${this.api_url}/cotizacion/intervalo-todos/${cliente}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  putIntervalo(data){\r\n    const url = `${this.api_url}/cotizacion/intervalos`\r\n    return this.http.put(url, data)\r\n  }\r\n\r\n\r\n  getDespachosYOrdenes(){\r\n    const url = `${this.api_url}/despachos/pre-facturacion`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  TwoStepsValidation(pin){\r\n    const url = `${this.api_url}/validation2steps`\r\n    return this.http.post(url, pin)\r\n  }\r\n\r\n  crearPin(data){\r\n    const url = `${this.api_url}/crear-pin`\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  aumentoPre(data){\r\n    const url = `${this.api_url}/incremento/pre`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  facturado(data){\r\n    const url = `${this.api_url}/facturado`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  ImprimirPDF(data){\r\n    const url = `${this.api_url}/prints`\r\n    return this.http.post(url,data)\r\n\r\n  }\r\n\r\n  postOrdenDeCompra(data){\r\n    const url = `${this.api_url}/orden-compra`\r\n    return this.http.post(url,data)\r\n  } \r\n\r\n  getOrdenesDeCompra(){\r\n    const url = `${this.api_url}/orden-compra`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  putOrdenesDeCompra(data, id){\r\n    const url = `${this.api_url}/orden-compra/${id}`\r\n    return this.http.put(url, data)\r\n  }\r\n\r\n  putCerrarLotes(id){\r\n    const url = `${this.api_url}/devoluciones`\r\n    return this.http.put(url,id)\r\n  }\r\n\r\n  getDespachados(){\r\n    const url = `${this.api_url}/despachados`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getDespachadoTodos(){\r\n    const url = `${this.api_url}/despachados-todos`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getDespachoFechas(desde,hasta){\r\n    const url = `${this.api_url}/despacho-fechas/${desde}/${hasta}`\r\n    return this.http.get(url)\r\n\r\n  }\r\n\r\n  getDespachoCliente(cliente, desde, hasta){\r\n    const url = `${this.api_url}/despachos-cliente/${cliente}/${desde}/${hasta}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  copyTags(orden, cantidad){\r\n    const url = `${this.api_url}/copy/${orden}/${cantidad}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  updateManyMateriales(id, data){\r\n    const url = `${this.api_url}/materiales/${id}`\r\n    return this.http.put(url, data)\r\n  }\r\n\r\n  putAgregarformula(id, data){\r\n    const url = `${this.api_url}/agregar-formula/${id}`\r\n    return this.http.put(url, data)\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { MainComponent } from './main/main.component';\r\nimport { IndexComponent } from './index.component';\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:IndexComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:MainComponent\r\n      }]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class IndexRoutingModule { }\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { zip } from 'rxjs';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-detalles',\n  templateUrl: './detalles.component.html',\n  styleUrls: ['./detalles.component.css']\n})\nexport class DetallesComponent implements OnInit {\n\n  @Input() detalle:any\n  @Input() orden_detalle:any\n  @Input() orden_id:any\n  @Input() cantidad_d:any\n  @Input() cantidad_do:any\n  @Output() onCloseModal = new EventEmitter();\n  @Output() CargarOrdenes = new EventEmitter();\n\n  public trabajos;\n  public gestiones_;\n  public cargando:boolean = true;\n  public detallado:boolean = false;\n  public despachos = [];\n  public despacho = 0;\n  public usuario;\n  public Maquinas;\n\n  constructor(private api:RestApiService) {\n    this.usuario = api.usuario;\n   }\n\n  ngOnInit(): void {\n  }\n\n  cambiarFecha(dato, trabajo, campo:string){\n    this.api.updateTrabajo(trabajo, {[campo]:dato})\n      .subscribe((resp:any)=>{\n\n      })\n  }\n\n  format(n){\n    return Math.ceil(n);\n  }\n\n  gestiones(){\n    this.detallado = true;\n    this.buscarTrabajos();\n    this.buscarGestiones();\n    this.buscarDespachos();\n    this.BuscarMaquinas();\n  }\n\n  restan(a,b){\n    let c = a -b;\n    if(c < 0){\n      return 0\n    }else{\n      return c\n    }\n\n  }\n\n  cerrarOrden(){\n    Swal.fire({\n      title: '¿Cerrar orden de producción?',\n      showDenyButton: true,\n      showCancelButton: false,\n      confirmButtonText: 'Cerrar',\n      denyButtonText: `No cerrar`,\n    }).then((result) => {\n      /* Read more about isConfirmed, isDenied below */\n      if (result.isConfirmed) {\n        this.api.CerrarOrden(this.orden_id)\n          .subscribe((resp:any)=>{\n            this.CargarOrdenes.emit();\n            this.onClose()\n            Swal.fire('¡Cerrada!', '', 'success')\n          })\n      } else if (result.isDenied) {\n        Swal.fire('La orden no fué cerrada', '', 'info')\n      }\n    })\n    // console.log(this.orden_id)\n  }\n\n  buscarDespachos(){\n    this.api.GetDespachoByOrden(this.orden_detalle)\n      .subscribe((resp:any)=>{\n        for(let i=0; i<resp.length; i++){\n          for(let y=0; y<resp[i].despacho.length; y++){\n\n            if(resp[i].despacho[y].op === this.orden_detalle)\n            {\n              this.despachos.push(resp[i].despacho[y])\n              this.despachos.push({fecha:resp[i].fecha})\n              this.despacho = this.despacho + resp[i].despacho[y].cantidad\n              // console.log(this.despachos)\n            }\n          }\n        }\n      })\n  }\n\n  buscarGestiones(){\n    this.api.getGestiones()\n      .subscribe((resp:any)=>{\n        this.gestiones_ = resp;\n      })\n  }\n\n  CambioDeMaquina(e){\n    alert(e)\n  }\n\n  buscarTrabajos(){\n    this.api.getMaquinasByOrdens(this.orden_id)\n      .subscribe((resp:any)=>{\n        this.trabajos = resp.maquinasDB;\n        // this.trabajos = this.trabajos.sort(x => x.fechaI)\n      })\n  }\n\n  BuscarMaquinas(){\n    this.api.GetMaquinas()\n      .subscribe((resp:any)=>{\n        this.Maquinas = resp\n\n        console.log(this.Maquinas)\n      })\n  }\n\n  onClose(){\n    this.detalle = false;\n    this.detallado = false;\n    this.despachos = [];\n    this.despacho = 0;\n    this.onCloseModal.emit();\n  }\n\n}\n","<div class=\"modal\" [ngClass]=\"{'is-active':detalle}\">\n    <div class=\"modal-background\" (click)='onClose()'></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <p class=\"subtitulo\">\n                Orden: {{orden_detalle}}\n            </p>\n            <hr>\n            <div class=\"columns cintillo\">\n                <div class=\"column\">\n                    Cantidad solicitada: <b>{{cantidad_d}}</b>\n                </div>\n                <div class=\"column\">\n                    Cantidad a entregar: <b>{{cantidad_do}} ({{((cantidad_do * 100) /cantidad_d).toFixed(2)}}%)</b>\n                </div>\n                <div class=\"column is-2\">\n                    <button class=\"button is-primary\" (click)=\"gestiones()\" >Gestiones</button>\n                </div>\n            </div>\n\n            <div *ngIf=\"detallado\">\n                <hr>\n                <div class=\"cintillo_\" *ngFor=\"let trabajo of trabajos\">\n                    {{trabajo.maquina.tipo}} ( <ng-container *ngIf=\"usuario.Role === 'ADMIN' && trabajo.status\">\n                        <!-- <div class=\"select\"> -->\n                            <select name=\"maquina\" id=\"maquina\" (change)=\"cambiarFecha($event.target.value, trabajo._id, 'maquina')\">\n                                <ng-container *ngFor=\"let maquina of Maquinas\">\n                                    <ng-container *ngIf=\"maquina.tipo == trabajo.maquina.tipo\">\n                                        <ng-container *ngIf=\"maquina._id === trabajo.maquina._id\">\n                                            <option value=\"{{maquina._id}}\" selected *ngIf=\"maquina.tipo == trabajo.maquina.tipo\">{{maquina.nombre}}</option>\n                                        </ng-container>\n                                        <ng-container *ngIf=\"maquina._id != trabajo.maquina._id\">\n                                            <option value=\"{{maquina._id}}\" *ngIf=\"maquina.tipo == trabajo.maquina.tipo\">{{maquina.nombre}}</option>\n                                        </ng-container>\n                                    </ng-container>\n                                </ng-container>\n                            </select>\n                        <!-- </div> -->\n                    </ng-container>\n                    <ng-container *ngIf=\"usuario.Role != 'ADMIN' || !trabajo.status\">{{trabajo.maquina.nombre}}</ng-container>) <ng-container *ngIf=\"usuario.Role === 'ADMIN' && trabajo.status\">   <input type=\"date\" class=\"fechas\" value=\"{{trabajo.fechaI}}\" (change)=\"cambiarFecha($event.target.value, trabajo._id, 'fechaI')\">   <input type=\"date\" class=\"fechas\" value=\"{{trabajo.fecha}}\" (change)=\"cambiarFecha($event.target.value, trabajo._id, 'fecha')\"></ng-container>  <br>\n                        <div class=\"white\">\n                            <table class=\"table is-fullwidth\">\n                                <thead>\n                                    <tr>\n                                        <th>Fecha</th>\n                                        <th>Hojas gestionadas</th>\n                                        <th>Productos gestionados</th>\n                                        <th>Restante</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <ng-container *ngFor=\"let gestion of gestiones_\">\n                                    <tr *ngIf=\"gestion.maquina.tipo === trabajo.maquina.tipo && gestion.op === orden_id\">\n                                        <td>{{gestion.fecha | date:'dd/MM/yyyy':'UTC'}}</td>\n                                        <td>{{format(gestion.hojas)}}</td>\n                                        <td>{{format(gestion.productos)}}</td>\n                                        <td>{{gestion.Rhojas}}(Hojas) /\n                                            <ng-container *ngIf=\"gestion.Rproductos > 0\">\n                                                {{gestion.Rproductos}}(Productos)\n                                            </ng-container>\n                                            <ng-container *ngIf=\"gestion.Rproductos < 1\">\n                                                0(Productos)\n                                            </ng-container>\n                                        </td>\n                                    </tr>\n                                    </ng-container>\n                                </tbody>\n                            </table>\n                        </div>\n                </div>\n                <div class=\"cintillo_\">\n                    Despachos: {{despacho}} - Restan: {{restan(cantidad_do,despacho)}}\n                    <div class=\"white\">\n                        <table class=\"table is-fullwidth\">\n                            <thead>\n                                <tr>\n                                    <th>Producto</th>\n                                    <th>Cantidad</th>\n                                    <th>OC</th>\n                                    <th>Destino</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <ng-container *ngFor=\"let despacho of despachos; let even = even;\">\n                                    <ng-container *ngIf=\"even\">\n                                        <tr>\n                                            <td>{{despacho.producto}}</td>\n                                            <td>{{despacho.cantidad}}</td>\n                                            <td>{{despacho.oc}}</td>\n                                            <td>{{despacho.destino}}</td>\n                                        </tr>\n                                    </ng-container>\n                                    <ng-container  *ngIf=\"!even\">\n                                            <td>Fecha: <b>{{despacho.fecha}}</b></td>\n                                    </ng-container>\n                                </ng-container>\n                            </tbody>\n                        </table>\n                        <button class=\"button is-success\" *ngIf=\"cantidad_do - despacho < 1 && usuario.Role === 'ADMIN'\" (click)=\"cerrarOrden()\">Cerrar Orden</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.css']\n})\nexport class MainComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<section class=\"hero is-small is-primary\">\n    <!-- <img src=\"../assets/BANNER-SIO-1092x270-v03.jpg\"> -->\n</section>\n<div class=\"container mt-5\">\n    <div class=\"column is-5\">\n        <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n            <ul>\n                <li><a href=\"#\">Inicio</a></li>\n                <li class=\"is-active\"><a href=\"/laboratorio\">Laboratorio</a></li>\n            </ul>\n        </nav>\n    </div>\n    <div class=\"columns menu\">\n        <!-- <div class=\"column\"> -->\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        <!-- </div> -->\n        <div class=\"column\">\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        </div> \n        <div class=\"column is-4\">\n            <img src=\"../../../assets/BANNER-ESPECIFICACIONES.png\" alt=\"\" routerLink=\"/laboratorio/especificaciones\">\n        </div>\n         <div class=\"column\">\n            <!-- <img src=\"../../../assets/BANNER-MAQUINARIA.png\" alt=\"\" routerLink=\"/gestiones/maquinaria\"> -->\n        </div> \n        <!-- <div class=\"column\"> -->\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        <!-- </div> -->\n        <!-- <div class=\"column\"> -->\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\n        <!-- </div> -->\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<section class=\"hero is-small is-primary\">\r\n    <!-- <img src=\"../assets/BANNER-SIO-1092x270-v03.jpg\"> -->\r\n</section>\r\n\r\n<div class=\"container\">\r\n    <div class=\"columns menu\">\r\n        <div class=\"column\">\r\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\r\n        </div>\r\n        <div class=\"column\">\r\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\r\n        </div>\r\n        <div class=\"column\">\r\n            <img src=\"../../../assets/BANNER-PRODUCTOS.png\" alt=\"\" routerLink=\"/gestiones/productos\">\r\n        </div>\r\n        <div class=\"column\">\r\n            <img src=\"../../../assets/BANNER-MAQUINARIA.png\" alt=\"\" routerLink=\"/gestiones/maquinaria\">\r\n        </div>\r\n        <div class=\"column\">\r\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\r\n        </div>\r\n        <div class=\"column\">\r\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  constructor(private api:RestApiService) {\r\n      this.usuario = api.usuario\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    // // console.log(this.usuario)\r\n  }\r\n\r\n  public usuario\r\n\r\n\r\n  getOrdenes(){\r\n    \r\n  }\r\n\r\n}\r\n","<section class=\"hero is-small is-primary\">\r\n    <!-- <img src=\"../assets/BANNER-SIO-1092x270-v03.jpg\"> -->\r\n</section>\r\n\r\n\r\n<div class=\"container mt-5 animate__animated animate__fadeIn\">\r\n    <div class=\"columns menu\">\r\n        <div class=\"column\" *ngIf=\"usuario.Nueva_orden != 0\">\r\n            <img src=\"../../../assets/BANNER-ORDENES.png\" alt=\"\" routerLink=\"/orden\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Nueva_orden === 0\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Almacen != 0\">\r\n            <img src=\"../../../assets/BANNER-ALMACEN.png\" routerLink=\"/almacen\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Maquinaria != 0\">\r\n            <img src=\"../../../assets/BANNER-PRODUCTOS-Y-MAQUINARIA.png\" routerLink=\"/gestiones\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Consulta != 0\">\r\n            <img src=\"../../../assets/BANNER-CONSULTA.png\" routerLink=\"/ordenes\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Gestiones != 0\">\r\n            <img src=\"../../../assets/BANNER-GESTIONES.png\"  routerLink=\"/ordenes/gestion\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Planificacion != 0\">\r\n            <img src=\"../../../assets/BANNER-PLANIFICACION.png\" routerLink=\"/planificacion\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Estadisticas === 1\">\r\n            <img src=\"../../../assets/BANNER-ESTADISTICAS.png\" routerLink=\"/estadisticas\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Estadisticas != 1\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Precios === 1\">\r\n            <img src=\"../../../assets/BANNER-VENTAS.png\" routerLink=\"/ventas\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Nueva_orden != 0\">\r\n            <img src=\"../../../assets/BANNER-LABORATORIO.png\" alt=\"\" routerLink=\"/laboratorio\">\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit, Input,Output,EventEmitter } from '@angular/core';\nimport { Router } from '@angular/router';\nimport Chart from 'chart.js/auto';\n\n@Component({\n  selector: 'app-despachos',\n  templateUrl: './despachos.component.html',\n  styleUrls: ['./despachos.component.css']\n})\nexport class DespachosComponent implements OnInit {\n\n  @Input() modal_despacho:any\n  @Input() despachos_filtrado:any\n  @Input() despachos_orden:any\n  @Input() lote_mayor:any\n  @Input() Ej_montados:any\n\n  Total_Despachado = 0;\n  public chart_rendimiento;\n\n  @Output() onCloseModal = new EventEmitter();\n\n  constructor(private router:Router,) { }\n\n  ngOnInit(): void {\n\n  }\n\n  public ids = []\n  public ready:boolean = false;\n  sumaCantidades(){\n\n    for(let i=0;i<this.despachos_filtrado.length;i++){\n      for(let x=0;x<this.despachos_filtrado[i].despacho.length;x++){\n        console.log(this.despachos_filtrado[i].despacho[x].op,'/',this.despachos_orden)\n        if(this.despachos_filtrado[i].despacho[x].op === this.despachos_orden){\n          this.Total_Despachado = Number(this.Total_Despachado) + Number(this.despachos_filtrado[i].despacho[x].cantidad)\n        }\n      }\n    }\n    this.producto =  Number(this.Total_Despachado) / Number(this.Ej_montados)\n\n    // let existe = this.ids.find(x=> x.id === id)\n    // if(existe){\n    //   return \n    // }else{\n    //   this.ids.push({id})\n    //   this.Total_Despachado = Number(this.Total_Despachado) + cantidad\n    // }\n  }\n\n  puntoYcoma(n){\n    if(!n){\n      return 0\n    }\n    n = Number(n).toFixed(2)\n    return n = new Intl.NumberFormat('de-DE').format(n)\n  }\n\n  showChart(){\n\n    \n    if(this.chart_rendimiento){\n      this.chart_rendimiento.destroy();\n    }\n\n    let perdida = 100 - Number(this.rendimiento(this.asignadas,this.producto))\n    if(perdida < 1){\n      perdida = 0\n    }\n\n    var ctx = (<HTMLCanvasElement>document.getElementById(\"chart_rendimiento\")).getContext('2d')\n\n    this.chart_rendimiento = new Chart(ctx,{\n      type:'doughnut',\n      data:{\n        labels:['Efectividad','Desperdicio'],\n        datasets: [{\n          label: 'Sustrato consumido',\n          data: [this.rendimiento(this.asignadas,this.producto),perdida],\n          backgroundColor: [\n            'rgb(54, 162, 235,0.2)',\n            'rgb(255, 99, 132,0.2)',\n          ],\n          borderColor: [\n            'rgb(54, 162, 235)',\n            'rgb(255, 99, 132)',\n          ],\n          hoverOffset: 4\n        }]\n      }\n    })\n  }\n\n  rendimiento(x,y){\n    let percent = y * 100 / x;\n    return Number(percent).toFixed(2)\n  }\n\n  redondear(n){\n    return Math.ceil(n)\n  }\n\n  public producto = 0;\n  public asignadas\n  showPercent(){\n    let hojas = 0\n    for(let i=0;i<this.lote_mayor.length;i++){\n      if(this.lote_mayor[i].ancho){\n        hojas = Number(hojas)+ this.lote_mayor[i].cantidad\n      }\n    }\n    this.asignadas = hojas\n    \n    this.sumaCantidades();\n    this.showChart()\n    this.ready = true\n  }\n\n  closemodal(){\n    this.ids = []\n    this.Total_Despachado = null;\n    console.log(this.Total_Despachado)\n    this.asignadas = 0;\n    this.producto = 0\n    if(this.chart_rendimiento){\n      this.chart_rendimiento.destroy();\n    }\n    this.ready = false\n    this.onCloseModal.emit();\n  }\n\n}\n","<div class=\"modal\" [ngClass]=\"{'is-active':modal_despacho}\">\n    <div class=\"modal-background\" (click)=\"closemodal()\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <div class=\"columns\">\n                <div class=\"column is-half\">\n                    <div class=\"titulo\">\n                        Despachos Realizados\n                    </div>\n                    <table class=\"table is-fullwidth\">\n                        <tr>\n                            <th>N°</th>\n                            <th>Fecha</th>\n                            <th>Documento</th>\n                            <th>Cantidad</th>\n                        </tr>\n                        <ng-container *ngFor=\"let despachos of despachos_filtrado;index as i\">\n                            <tr>\n                                <td>{{i +1}}</td>\n                                <td>{{despachos.fecha}}</td>\n                                <ng-container *ngFor=\"let orden of despachos.despacho;index as i\">\n                                    <td *ngIf=\"orden.op === despachos_orden\">\n                                        {{orden.documento}}\n                                    </td>\n                                    <td *ngIf=\"orden.op === despachos_orden\">\n                                        {{puntoYcoma(orden.cantidad)}}\n                                        <!-- {{sumaCantidades(orden.cantidad,orden._id,i)}} -->\n                                    </td>\n                                </ng-container>\n                            </tr>\n                        </ng-container>\n                        <tr *ngIf=\"!ready\">\n                            <br>\n                            <th colspan=\"4\">\n                                <button class=\"button is-primary\" (click)=\"showPercent()\">% de rendimiento</button>\n                            </th>\n                        </tr>\n                        <tr *ngIf=\"ready\">\n                            <th colspan=\"3\">TOTAL</th>\n                            <th>{{puntoYcoma(Total_Despachado)}}</th>\n                        </tr>\n                    </table>\n                    <span class=\"titulo\" *ngIf=\"ready\">\n                        Rendimiento\n                    </span><br>\n                    <span class=\"xlarge\" *ngIf=\"ready\">Sustrato asignado: <span class=\"bold\">{{puntoYcoma(asignadas)}}Und</span></span><br>\n                    <span class=\"xlarge\" *ngIf=\"ready\">Sustrato entregado: <span class=\"bold\">{{puntoYcoma(redondear(producto))}}Und</span></span><br>\n                    <span class=\"xlarge\" *ngIf=\"ready\">Rendimiento: <span class=\"bold\">{{puntoYcoma(rendimiento(asignadas,producto))}}%</span></span>\n                </div>\n                <div class=\"column is-1\">\n\n                </div>\n                <div class=\"column\">\n                    <div class=\"espacio\">\n\n                    </div>\n                    <div class=\"chart-container\">\n                        <canvas  id=\"chart_rendimiento\" >{{ chart_rendimiento }}</canvas>\n                    </div>\n                </div>\n                <div class=\"column is-1\">\n\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IndexRoutingModule } from './index-routing.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    IndexRoutingModule\r\n  ]\r\n})\r\nexport class IndexModule { }\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { find } from 'rxjs/operators';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-asignacion',\r\n  templateUrl: './asignacion.component.html',\r\n  styleUrls: ['./asignacion.component.css']\r\n})\r\nexport class AsignacionComponent implements OnInit {\r\n\r\n  @Input() necesario:any\r\n  @Input() asignacion:any\r\n  @Input() ALMACEN:any\r\n  @Input() Almacenado:any\r\n  @Output() onCloseModal = new EventEmitter();\r\n  @Output() onFinalizarAsignacion = new EventEmitter();\r\n  @Output() onAgregarRequisicioes = new EventEmitter();\r\n\r\n  public cintas_:any = []\r\n  public LOTES = [];\r\n  public Requisiciones = [];\r\n  public cinta:any;\r\n\r\n  constructor(private api:RestApiService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.buscarRequisicion()\r\n\r\n  }\r\n\r\n  onClose(){\r\n    this.LOTES = [];\r\n    this.asignacion = false;\r\n    this.onCloseModal.emit();\r\n  }\r\n\r\n  buscarRequisicion(){\r\n    this.api.getRequi()\r\n    .subscribe((resp:any)=>{\r\n      for(let i =0; i<resp.length;i++){\r\n        this.necesario.push(resp[i])\r\n        // console.log(this.Almacenado, 'almacenado')\r\n      }\r\n      // this.onAgregarRequisicioes.emit(resp)\r\n    })\r\n  }\r\n\r\n  Unidad(material){\r\n    let unidad = this.ALMACEN.find(x => x.nombre === material)\r\n\r\n    return unidad.unidad\r\n  }\r\n\r\n  Caja_(caja:number, cinta:number, index){\r\n\r\n    console.log()\r\n    caja = Math.ceil(caja);\r\n    this.cintas_.push({\r\n      cantidad:Number(cinta * caja),\r\n      index\r\n    })\r\n\r\n    // console.log(this.cintas_)\r\n    // this.cintas_= Number(cinta * caja)\r\n    // // console.log(this.cintas_.length)\r\n    return caja\r\n  }\r\n\r\n  _cinta_(index){\r\n    let exist = this.cintas_.find(x => x.index == index)\r\n    // console.log(exist)\r\n    if(exist){\r\n      return true\r\n    }\r\n    else{\r\n      return false\r\n    }\r\n  }\r\n\r\n  Descuentos(material){\r\n    let descuento = 0;\r\n    let descuentos = this.LOTES.filter(x => x.material === material)\r\n\r\n    if(descuentos.length > 0){\r\n      // alert('si')\r\n      for(let i=0; i<descuentos.length; i++){\r\n        if(descuentos[i].cantidad){\r\n          descuento = descuento + Number(descuentos[i].almacenado)\r\n        }\r\n        descuentos[i].necesaria\r\n        \r\n        if(i == descuentos.length-1){\r\n          return descuento\r\n        }\r\n      }\r\n    }else{\r\n      return 0\r\n    }\r\n\r\n  }\r\n\r\n  cinta_lad(n, i){\r\n    this.cintas_.push({\r\n      cantidad:Number(n),\r\n      index:i\r\n    })\r\n\r\n    console.log(this.cintas_[i].cantidad)\r\n    return this.cintas_[i].cantidad\r\n  }\r\n\r\n  Lote(e,index, orden, material, i, hojas, grupo, cantidad,m_cantidad,unidad,cinta?){\r\n\r\n    // alert(index)\r\n\r\n    // // console.log({\r\n    //   e:e,\r\n    //   material,\r\n    //   i,\r\n    //   hojas,\r\n    //   grupo,\r\n    //   cantidad,\r\n    //   m_cantidad,\r\n    //   unidad,\r\n    //   cinta\r\n    // })\r\n\r\n\r\n    // let BuscarDescuento = new Promise((resolve, reject)=>{\r\n    //   let descuento = 0;\r\n    //   let descuentos = this.LOTES.filter(x => x.material === material)\r\n\r\n    //   if(descuentos.length > 0){\r\n    //     for(let i=0; i<descuentos.length; i++){\r\n    //       if(descuentos[i].necesaria){\r\n    //         descuento = descuento + Number(descuentos[i].cantidad)\r\n    //         // console.log('descuento', descuento)\r\n    //       }\r\n    //       descuentos[i].necesaria\r\n\r\n    //       if(i == descuentos.length-1){\r\n    //         resolve(descuento)\r\n    //       }\r\n    //     }\r\n    //   }else{\r\n    //     resolve(descuento)\r\n    //   }\r\n\r\n    // })\r\n\r\n    // BuscarDescuento\r\n    //   .then(function(descuento){\r\n    //     // console.log(descuento,'*/*')\r\n\r\n    //   })\r\n\r\n\r\n\r\n    let splited = e.split('*')\r\n    e = splited[1]\r\n    let codigo = splited[0]\r\n\r\n    \r\n    let EnAlmacen = this.Almacenado.find(x => x.material.nombre === material && x.lote === e && x.codigo === codigo)\r\n    console.log(EnAlmacen, 'aqui')\r\n    let Mname = EnAlmacen.material._id\r\n    let _cantidad;\r\n\r\n    // alert(grupo)\r\n\r\n    if(grupo === 'Tinta'){\r\n      _cantidad = (m_cantidad * hojas) / 1000;\r\n      // if(m_cantidad < 1){\r\n      //   _cantidad = 0;\r\n      // }\r\n      // // console.log(m_cantidad,'m_cantidad')\r\n    }else if(grupo === 'Barniz' || grupo === 'Barniz Acuoso'){\r\n      _cantidad = (m_cantidad * hojas) / 1000;\r\n    }else if(grupo === 'Pega' || grupo === 'Quimicos'){\r\n      _cantidad = (m_cantidad * hojas) / 1000;\r\n      if(m_cantidad < 1){\r\n        _cantidad = 0;\r\n      }\r\n    }else if(grupo === 'Otros materiales'){\r\n      _cantidad = (m_cantidad * hojas) / 1000;\r\n    }else if(grupo === 'Cajas Corrugadas' || grupo === 'Insumos'){\r\n      _cantidad = cantidad / m_cantidad;\r\n                  // alert(m_cantidad)\r\n      if(cantidad === 1){\r\n        _cantidad = m_cantidad\r\n      }\r\n      // // console.log(cantidad,'/////',m_cantidad,'/',grupo,'0',_cantidad)\r\n      // cinta  = cinta * _cantidad;\r\n    }else if(grupo === 'CINTA DE EMBALAJE' || grupo === 'Cinta de Embalaje'){\r\n      if(!this._cinta_(index)){\r\n        _cantidad = m_cantidad * 100 ;\r\n      }else{\r\n        _cantidad = this.cintas_[cinta].cantidad;\r\n      }\r\n    }else if(grupo === 'Sustrato'){\r\n      _cantidad = 5;\r\n    }\r\n\r\n    _cantidad = Number(_cantidad).toFixed(2)\r\n\r\n    console.log(cantidad)\r\n\r\n\r\n    // alert(_cantidad)\r\n\r\n    let unidad_necesaria:any = _cantidad / (EnAlmacen.material.neto + this.Descuentos(material));\r\n    if(grupo === 'Barniz' || grupo === 'Barniz Acuoso'){\r\n      unidad_necesaria = _cantidad - this.Descuentos(material)\r\n    }else if(grupo === 'CINTA DE EMBALAJE' || grupo === 'Cinta de Embalaje'){\r\n      unidad_necesaria = (_cantidad / EnAlmacen.material.neto) - (this.Descuentos(material)/ EnAlmacen.material.neto)\r\n    }\r\n    // console.log(_cantidad,'_cantidad')\r\n    // console.log(EnAlmacen.material.neto,'Neto')\r\n    // console.log(this.Descuentos(material),'Descuento')\r\n    // console.log(unidad_necesaria,'Unidad necesaria')\r\n    // // console.log(_cantidad,'-',EnAlmacen.material.neto)\r\n\r\n    // // console.log( unidad_necesaria )\r\n\r\n\r\n    unidad_necesaria = (Number(unidad_necesaria)).toFixed(2)\r\n    EnAlmacen.cantidad = EnAlmacen.cantidad\r\n\r\n    let EA_Cantidad = EnAlmacen.cantidad;\r\n\r\n    if(grupo === 'Pega'){\r\n      EA_Cantidad = EnAlmacen.material.neto\r\n      if(m_cantidad < 1){\r\n        EA_Cantidad = 0;\r\n      }\r\n    }\r\n\r\n\r\n    let previo = this.LOTES.filter(x => x.i === i)\r\n\r\n    if(EnAlmacen.material.grupo.nombre === 'Cajas Corrugadas' && orden.cliente){\r\n      unidad_necesaria =_cantidad - this.Descuentos(material);\r\n    }else if(EnAlmacen.material.grupo.nombre === 'Sustrato' && orden.cliente){\r\n      unidad_necesaria = hojas - this.Descuentos(material)\r\n      // alert(this.Descuentos(material))\r\n    }\r\n    else if(EnAlmacen.material.grupo.nombre === 'Sustrato' && !orden.cliente){\r\n        unidad_necesaria = m_cantidad - this.Descuentos(material);\r\n        // // console.log('aqui')\r\n    }\r\n    if(EnAlmacen.material.grupo.nombre === 'Tinta' || EnAlmacen.material.grupo.nombre === 'Quimicos'){\r\n      unidad_necesaria = _cantidad - this.Descuentos(material); \r\n      unidad_necesaria = (unidad_necesaria).toFixed(2)\r\n      // alert(this.Descuentos(material))\r\n    }\r\n\r\n    if(EnAlmacen.material.grupo.nombre === 'Pega'){\r\n      if(m_cantidad < 1){\r\n        unidad_necesaria = 0;\r\n      }else{\r\n        unidad_necesaria = Math.ceil(unidad_necesaria)\r\n      }\r\n    }\r\n    if(EnAlmacen.material.unidad == 'Und'){\r\n      unidad_necesaria = Math.ceil(unidad_necesaria)\r\n    }\r\n\r\n    // if(previo.length > 0){\r\n\r\n    //   if(previo[previo.length-1].restante){\r\n    //     unidad_necesaria = previo[previo.length-1].restante\r\n    //   }\r\n\r\n    // }\r\n\r\n\r\n    if(EnAlmacen.material.presentacion === 'PALETA' || EnAlmacen.material.presentacion === 'Paleta'){\r\n      EnAlmacen.material.presentacion = 'HOJA'\r\n    }\r\n    if(EnAlmacen.material.grupo.nombre === 'Tinta'){\r\n      EnAlmacen.material.presentacion = 'Kg'\r\n    }\r\n    document.getElementById(`Necesario-${index}-${i}`).innerHTML = `${unidad_necesaria} ${EnAlmacen.material.presentacion}(s) necesaria(s)`\r\n    document.getElementById(`Almacenados-${index}-${i}`).innerHTML = `${EnAlmacen.cantidad} ${EnAlmacen.material.presentacion}(s) En Almacen`\r\n\r\n\r\n    let restante:any =  EnAlmacen.cantidad - unidad_necesaria;\r\n    restante = (restante).toFixed(2);\r\n    let thisShit = `${EnAlmacen.cantidad}/${unidad_necesaria}/${restante}`\r\n    // alert(thisShit)\r\n\r\n    let cantidad_solicitada;\r\n\r\n    if(restante < 0){\r\n      restante = Math.abs(restante);\r\n      document.getElementById(`Restante-${index}-${i}`).innerHTML = `\r\n      <b>Faltan: </b>${restante} <br>\r\n      `\r\n      document.getElementById(`fijar_lote-${index}-${i}`).style.display = \"block\";\r\n\r\n      let check = document.getElementById(`fijar_lote-${index}-${i}`);\r\n\r\n      cantidad_solicitada = EnAlmacen.cantidad;\r\n      check.onclick = () => this.fijalote(Mname,EA_Cantidad,e,codigo, 0, i, (EnAlmacen.cantidad*EnAlmacen.material.neto), restante,cantidad_solicitada, unidad, _cantidad, material)\r\n\r\n    }else{\r\n      document.getElementById(`fijar_lote-${index}-${i}`).style.display = \"none\";\r\n      document.getElementById(`Restante-${index}-${i}`).innerHTML = `<b>Restan: </b>${restante} ${EnAlmacen.material.presentacion}(s) En Almacen`\r\n\r\n      cantidad_solicitada = EnAlmacen.cantidad - restante;\r\n      let existe = this.LOTES.find(x => x.lote === e)\r\n\r\n      if(!existe){\r\n        this.LOTES.push({Mname,EA_Cantidad,lote:e,codigo:codigo,resta:restante,i,almacenado:EnAlmacen.cantidad,solicitado:cantidad_solicitada,unidad})\r\n      }\r\n      else{\r\n        this.LOTES.push({Mname,EA_Cantidad,lote:e,codigo,resta:restante,i,almacenado:EnAlmacen.cantidad,solicitado:cantidad_solicitada,unidad})\r\n      }\r\n\r\n      console.log(this.LOTES)\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  fijalote(Mname,EA_Cantidad,lote,codigo, resto, i, almacenado, restante,solicitado,unidad,cantidad?,material?){\r\n\r\n    let existe = this.LOTES.find(x => x.lote == lote)\r\n\r\n      if(!existe){\r\n        this.LOTES.push({Mname,EA_Cantidad,lote,codigo,resta:resto,i,almacenado,restante:restante,solicitado,unidad,cantidad,material})\r\n        // // console.log(this.LOTES)\r\n      }\r\n     else{\r\n      this.LOTES.push({Mname,EA_Cantidad,lote,codigo,resta:resto,i,almacenado,restante:restante,solicitado,unidad,cantidad,material})\r\n      //   let index = this.LOTES.findIndex(x => x.lote == lote)\r\n      //   this.LOTES.push({lote,codigo,resta:resto,i,almacenado,restante:restante,solicitado,unidad,cantidad,material})\r\n      }\r\n\r\n      console.log(this.LOTES)\r\n\r\n  }\r\n\r\n  cantidad_lotes(x){\r\n\r\n    let lotes = this.LOTES.length;\r\n    let total = 0;\r\n\r\n    for(let i = 0; i<lotes; i++){\r\n      if(this.LOTES[i].i == x){\r\n        total ++\r\n      }\r\n    }\r\n\r\n    return total;\r\n\r\n  }\r\n\r\n  borrarLote(lote){\r\n    let index = this.LOTES.findIndex(x => x.lote === lote)\r\n\r\n    this.LOTES.splice(index,1)\r\n  }\r\n\r\n  Restar(orden, solicitud,index,n,requi?){\r\n\r\n    let largo = solicitud.length;\r\n\r\n    if(solicitud == 1){\r\n      solicitud = `000${solicitud}`;\r\n    }\r\n    if(solicitud == 2){\r\n      solicitud = `00${solicitud}`;\r\n    }\r\n    if(solicitud == 3){\r\n      solicitud = `0${solicitud}`;\r\n    }\r\n\r\n    let En_Almacen = this.necesario[index].producto.materiales[this.necesario[index].montaje];\r\n    // // console.log(En_Almacen,'almacen')\r\n    let Cargados = this.LOTES.length\r\n\r\n\r\n    for(let i = 0; i<En_Almacen.length; i++){\r\n      let existe = this.LOTES.find(x => x.i === i);\r\n      // // console.log(En_Almacen.length,'/-',i)\r\n      if(!existe){\r\n        // alert('1')\r\n        // // console.log(this.LOTES)\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Oops...',\r\n          text: 'Debes cubrir toda la materia prima para esta orden',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n        })\r\n        return\r\n      }else{\r\n        // alert('2')\r\n        // // console.log(En_Almacen[0][i],'i')\r\n        if(En_Almacen[i].producto.grupo.nombre === 'Cajas Corrugadas' && !requi){\r\n          let _existe = this.LOTES.find(x => x.i === 100);\r\n          if(!_existe){\r\n            // // console.log(this.LOTES)\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Oops...',\r\n              text: 'Debes cubrir toda la materia prima para esta orden',\r\n              showConfirmButton: false,\r\n              timer:1500\r\n            })\r\n            return\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    let data = {\r\n      lotes:this.LOTES,\r\n      orden,\r\n      solicitud,\r\n      n,\r\n      requi\r\n    }\r\n\r\n    // // console.log('data lotes',data.lotes)\r\n    // alert('asignado')\r\n    this.api.realizarDescuentoAlmacen(data)\r\n     .subscribe(resp=> {\r\n       Swal.fire({\r\n         icon: 'success',\r\n          title: 'Excelente!',\r\n          text: 'La nueva orden ya esta generada',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n       })\r\n      this.onCloseModal.emit();\r\n      this.onFinalizarAsignacion.emit();\r\n    })\r\n\r\n  }\r\n\r\n\r\n\r\n}\r\n","<div class=\"modal\" [ngClass]=\"{'is-active':asignacion}\">\r\n    <div class=\"modal-background\" (click)='onClose()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <ng-container *ngIf=\"necesario\">\r\n\r\n                <div *ngIf='necesario.length === 0'>\r\n                    <div class=\"empty\">\r\n                        En estos momentos no hay solicitudes.\r\n                    </div>\r\n                </div> \r\n            </ng-container>\r\n            <div class=\"materiales\" *ngFor='let orden of necesario;let index = index' >\r\n                <ng-container *ngIf=\"orden.sort === '#'\">\r\n                    <p class=\"subtitulo\">Solicitud de Material</p>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"orden.sort != '#'\">\r\n                    <p class=\"subtitulo\">{{orden.sort}}</p>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"orden.sort == '#'\">\r\n                    <p class=\"\"><b>Motivo: </b>{{orden.motivo}}</p>\r\n                </ng-container>\r\n                <table class=\"table is-fullwidth is-striped\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Material</th>\r\n                            <th>Resumen</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let materiales of orden.producto.materiales[orden.montaje];let i = index'>\r\n                            <td>\r\n                                <div class=\"material\" >\r\n                                    <div class=\"field\">\r\n                                        <label class=\"label\"> <i>\r\n                                            \r\n                                            \r\n                                            {{materiales.producto.nombre}} {{materiales.producto.marca}}\r\n                                            <ng-container *ngIf=\"materiales.producto.ancho\">\r\n                                            {{materiales.producto.ancho}}x{{materiales.producto.largo}} (Cal: {{materiales.producto.calibre}}, gramaje: {{materiales.producto.gramaje}})\r\n                                            </ng-container>: \r\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Tinta'\">\r\n                                                {{((materiales.cantidad * orden.paginas)/1000).toFixed(2)}}{{Unidad(materiales.producto.nombre)}}\r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Barniz'\">\r\n                                                {{((materiales.cantidad * orden.paginas)/1000).toFixed(2)}}{{Unidad(materiales.producto.nombre)}}\r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Pega'\">\r\n                                                {{((materiales.cantidad * orden.paginas)/1000).toFixed(2)}}{{Unidad(materiales.producto.nombre)}}\r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Cajas Corrugadas'\">\r\n                                                <ng-container *ngIf=\"orden.motivo\">\r\n                                                    {{materiales.cantidad}}{{Unidad(materiales.producto.nombre)}}\r\n                                                </ng-container>\r\n                                                <ng-container *ngIf=\"!orden.motivo\">\r\n                                                    {{Caja_((orden.cantidad / materiales.cantidad),materiales.producto.cinta,index)}}{{Unidad(materiales.producto.nombre)}}\r\n                                                </ng-container>\r\n                                            \r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Insumos'\">\r\n                                                {{materiales.cantidad}}{{Unidad(materiales.producto.nombre)}}\r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Cinta de Embalaje'\">\r\n                                                <ng-container *ngIf=\"_cinta_(index)\">\r\n                                                    {{cintas_}}{{Unidad(materiales.producto.nombre)}}\r\n                                                </ng-container>\r\n                                                <ng-container *ngIf=\"!_cinta_(index)\">\r\n                                                    {{materiales.cantidad}}{{Unidad(materiales.producto.nombre)}}\r\n                                                </ng-container>\r\n                                            </ng-container>\r\n                                            <ng-container>\r\n                                                \r\n                                            </ng-container>\r\n\r\n                                        </i></label>\r\n                                        <div class=\"control\">\r\n                                            <div class=\"select\">\r\n                                                <select id=\"\" (change)='Lote($event.target.value,index,orden, materiales.producto.nombre, i, orden.paginas, materiales.producto.grupo.nombre,orden.cantidad,materiales.cantidad,materiales.producto.presentacion,materiales.cinta)'>\r\n                                                    <option value=\"#\">Seleccionar LOTE</option>\r\n                                                    <ng-container *ngFor='let almacen of Almacenado'>\r\n                                                        <ng-container *ngIf='materiales.producto.grupo.nombre != \"Cajas Corrugadas\" && materiales.producto.grupo.nombre != \"Barniz\"'>\r\n                                                            <option value=\"{{almacen.codigo}}*{{almacen.lote}}\" *ngIf='almacen.material.nombre == materiales.producto.nombre && almacen.material.marca == materiales.producto.marca && almacen.material.ancho == materiales.producto.ancho && almacen.material.largo == materiales.producto.largo && almacen.material.calibre == materiales.producto.calibre' >\r\n                                                           {{almacen.codigo}} Lote {{almacen.lote}} ({{almacen.material.presentacion}} {{almacen.material.neto}}{{almacen.material.unidad}}) Existencia: {{almacen.cantidad}} {{almacen.material.presentacion}}\r\n                                                        </option>\r\n                                                        </ng-container>\r\n                                                        <ng-container *ngIf='materiales.producto.grupo.nombre == \"Cajas Corrugadas\" || materiales.producto.grupo.nombre == \"Barniz\"'>\r\n                                                            <option value=\"{{almacen.codigo}}*{{almacen.lote}}\" *ngIf='almacen.material.nombre == materiales.producto.nombre && almacen.material.ancho == materiales.producto.ancho && almacen.material.largo == materiales.producto.largo' >\r\n                                                                {{almacen.codigo}} Lote {{almacen.lote}} ({{almacen.material.presentacion}} {{almacen.material.neto}}{{almacen.material.unidad}}) Existencia: {{almacen.cantidad}} {{almacen.material.presentacion}}\r\n                                                            </option>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                </select>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"resumen\">\r\n\r\n                                    <div class=\"Inf_lotes\">\r\n                                        <div class=\"informacion\">\r\n                                            <ng-container *ngFor='let lote of LOTES'>\r\n                                                <ng-container *ngIf='lote.i == i'>\r\n                                                    Lote: {{lote.lote}} x {{lote.almacenado}} \r\n                                                    <span class=\"icon has-text-danger\" (click)=\"borrarLote(lote.lote)\">\r\n                                                        <i class=\"fas fa-backspace\"></i>\r\n                                                      </span>\r\n                                                      <br>\r\n                                                </ng-container>\r\n                                            </ng-container>\r\n                                        </div>\r\n                                        <b>\r\n                                            Lotes con descuento ({{cantidad_lotes(i)}})\r\n                                        </b>\r\n                                    </div>\r\n                                    <div id='Almacenados-{{index}}-{{i}}'></div>\r\n                                    <div id='Necesario-{{index}}-{{i}}'></div>\r\n                                    <div id='Almacenados-{{index}}-{{i}}'></div>\r\n                                    <div id='Restante-{{index}}-{{i}}'></div>\r\n                                    <div class='fijar_lote' id='fijar_lote-{{index}}-{{i}}'>\r\n                                        <div id='boton_add'>Fijar lote</div>\r\n                                    </div>\r\n                                    \r\n\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                        <tr *ngIf=\"cintas_.length > 0 && _cinta_(index) && !orden.motivo\">\r\n                            <td>\r\n\r\n                                <div class=\"material\">\r\n                                    <div class=\"field\">\r\n                                        <label class=\"label\"><i>CINTA DE EMBALAJE: {{(cintas_[index].cantidad).toFixed(2)}}</i></label>\r\n                                        <div class=\"control\">\r\n                                            <div class=\"select\">\r\n                                                <select id=\"\" (change)='Lote($event.target.value,index,orden, \"Cinta de embalaje 3430\", 100, orden.paginas, \"CINTA DE EMBALAJE\",orden.cantidad,\"Rollo\",\"Rollo\",index)'>\r\n                                                    <option value=\"#\">Seleccionar LOTE</option>\r\n                                                    <ng-container *ngFor='let almacen of Almacenado'>\r\n                                                        <option value=\"{{almacen.codigo}}*{{almacen.lote}}\" *ngIf=\"almacen.material.grupo.nombre === 'Cinta de Embalaje'\">\r\n                                                            <!-- {{almacen.grupo}} -->\r\n                                                            {{almacen.codigo}} Lote {{almacen.lote}} ({{almacen.material.presentacion}} PRESENTACIÓN:{{almacen.material.neto}}{{almacen.material.unidad}})\r\n                                                        </option>\r\n                                                    </ng-container>\r\n                                                </select>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"resumen\">\r\n\r\n                                    <div class=\"Inf_lotes\">\r\n                                        <div class=\"informacion\">\r\n                                            <ng-container *ngFor='let lote of LOTES'>\r\n                                                <ng-container *ngIf='lote.i == 100'>\r\n                                                    Lote: {{lote.lote}} x {{lote.almacenado}} \r\n                                                    <span class=\"icon has-text-danger\" (click)=\"borrarLote(lote.lote)\">\r\n                                                        <i class=\"fas fa-backspace\"></i>\r\n                                                      </span>\r\n                                                      <br>\r\n                                                </ng-container>\r\n                                            </ng-container>\r\n                                        </div>\r\n                                        <b>\r\n                                            Lotes con descuento ({{cantidad_lotes(100)}})\r\n                                        </b>\r\n                                    </div>\r\n                                    <div id='Almacenados-{{index}}-100'></div>\r\n                                    <div id='Necesario-{{index}}-100'></div>\r\n                                    <div id='Almacenados-{{index}}-100'></div>\r\n                                    <div id='Restante-{{index}}-100'></div>\r\n                                    <div class='fijar_lote' id='fijar_lote-{{index}}-100'>\r\n                                        <div id='boton_add'>Fijar lote</div>\r\n                                    </div>\r\n                                    \r\n\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <br>\r\n                <ng-container *ngIf=\"orden.motivo\">\r\n                    <button class=\"button is-primary\" (click)='Restar(orden.sort, orden.solicitud,index, 0, orden._id)'>Confirmar</button>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"!orden.motivo\">\r\n                    <button class=\"button is-primary\" (click)='Restar(orden.sort, orden.solicitud,index, 1)'>Confirmar</button>\r\n                </ng-container>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\n// import { MainComponent } from './index/main/main.component';\r\nimport { OrdenComponent } from './orden/orden.component';\r\nimport { PlanificacionComponent } from './planificacion/planificacion.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { BarChartComponent} from './bar-chart/bar-chart.component';\r\nimport { AuthGuard } from './Auth/auth-guard.guard';\r\nimport { TokenValidationComponent } from './token-validation/token-validation.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./index/index.module').then(m => m.IndexModule),\r\n  },\r\n  {\r\n    path:'orden-produccion/:id',\r\n    canActivate: [AuthGuard],\r\n    component:OrdenComponent\r\n  },\r\n  {\r\n    path: 'orden',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./nuevo-pedido/nuevo-pedido.module').then(m => m.NuevoPedidoModule)\r\n  },\r\n  {\r\n    path: 'gestiones',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./producto-ymaquinaria/producto-ymaquinaria.module').then(m=> m.ProductoYMaquinariaModule)\r\n  },\r\n  {\r\n    path: 'almacen',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./almacen/almacen.module').then(m=>m.AlmacenModule)\r\n  },\r\n  {\r\n    path: 'ordenes',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./ordenes/ordenes.module').then(m=>m.OrdenesModule)\r\n  },\r\n  {\r\n    path: 'estadisticas',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./estadisticas/estadisticas.module').then(m=>m.EstadisticasModule)\r\n  },\r\n  {\r\n    path: 'ventas',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./cotizacion/cotizacion.module').then(m=>m.CotizacionModule)\r\n  },\r\n  {\r\n    path: 'laboratorio',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./laboratorio/laboratorio.module').then(m=>m.LaboratorioModule)\r\n  },\r\n  {\r\n    path: 'planificacion',\r\n    canActivate: [AuthGuard],\r\n    component:PlanificacionComponent\r\n  },\r\n  {\r\n    path: 'prueba/:producto',\r\n    component:BarChartComponent\r\n  },\r\n  {\r\n    path: 'login',\r\n    component:LoginComponent\r\n  },\r\n  {\r\n    path: 'verificacion',\r\n    component:TokenValidationComponent\r\n  }\r\n\r\n]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forRoot( routes )\r\n  ],\r\n  exports:[\r\n    RouterModule\r\n  ]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport Swal from 'sweetalert2'\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: [\r\n    './login.component.css'\r\n  ]\r\n})\r\nexport class LoginComponent implements OnInit{\r\n\r\n  cargando = false;\r\n  correo:string = '';\r\n  email:string = '';\r\n\r\n  \r\n  public formSubmitted = false;\r\n  public loginForm = this.fb.group({\r\n    Correo:['', [Validators.required, Validators.email]],\r\n    Password:['', Validators.required],\r\n    remember: [false]\r\n  });\r\n  \r\n  constructor(private router:Router,\r\n    private fb:FormBuilder,\r\n    private api:RestApiService) {\r\n    }\r\n  \r\n    ngOnInit(){\r\n      this.email = localStorage.getItem('correo') || '';\r\n        if(this.email.length > 2 ){\r\n          this.loginForm.get('remember')?.patchValue(true);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  login(){    \r\n    //Agregar clase de cargar a boton\r\n    this.cargando = true;\r\n\r\n    if(this.loginForm.get('remember')?.value === true){\r\n      this.correo = this.loginForm.get('Correo')?.value;\r\n      localStorage.setItem('correo', this.correo);\r\n    }else{\r\n      localStorage.removeItem('correo');\r\n    }\r\n    \r\n\r\n    this.api.Login(this.loginForm.value)\r\n        .subscribe((resp:any) =>{\r\n          localStorage.setItem('token', resp.token);\r\n          this.router.navigateByUrl('/')\r\n        }, (err) => {\r\n          this.cargando = false;\r\n          // console.log(err)\r\n          Swal.fire('Error', err.error.err.message, 'error')\r\n        })\r\n    // // console.log(this.loginForm.value)\r\n\r\n  }\r\n\r\n}","<div class=\"fondo\">\r\n    <div class=\"login\">\r\n       <!-- ****************************** -->\r\n       <form \r\n       autocomplete=\"off\"\r\n       [formGroup]=\"loginForm\"\r\n       (ngSubmit)=\"login()\"\r\n       >\r\n         <img src=\"../../assets/LOGIN-SIO.png\" alt=\"Poligrafica Industrial\">\r\n         <div class=\"field mt-5\">\r\n             <div class=\"field has-addons\">\r\n                   <input class=\"input\" \r\n                           type=\"Email\" \r\n                           placeholder=\"Correo electronico\"\r\n                           formControlName='Correo'\r\n                           [ngModel]='email'>\r\n               </div>\r\n           </div>\r\n           <div class=\"field\">\r\n            <p class=\"control has-icons-left\">\r\n              <input class=\"input\" type=\"password\" placeholder=\"Contraseña\" formControlName='Password'>\r\n              <span class=\"icon is-small is-left\">\r\n                <i class=\"fas fa-lock\"></i>\r\n              </span>\r\n            </p>\r\n          </div>\r\n           <!-- <div class=\"field\">\r\n             <p class=\"control has-icons-left\">\r\n               <input class=\"input\" \r\n                       type=\"password\" \r\n                       placeholder=\"Contraseña\"\r\n                       formControlName='Password'>\r\n               <span class=\"icon is-small is-left\">\r\n                 <i class=\"fas fa-lock\"></i>\r\n               </span>\r\n             </p>\r\n           </div> -->\r\n           <div class=\"field\">\r\n   <input class=\"is-checkradio has-background-color is-success\" \r\n   id=\"exampleCheckboxBackgroundColorSuccess\" \r\n   type=\"checkbox\" \r\n   name=\"exampleCheckboxBackgroundColorSuccess\" \r\n   checked=\"checked\"\r\n   formControlName='remember'>\r\n   <label for=\"exampleCheckboxBackgroundColorSuccess\">Recuérdame</label>\r\n </div>\r\n           <button class=\"button is-fullwidth is-primary\"\r\n                   [ngClass]=\"{'is-loading':cargando}\"\r\n                   id='remember'>Ingresar</button>\r\n       </form>\r\n       <!-- ****************************** -->\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-consulta-facturacion',\n  templateUrl: './consulta-facturacion.component.html',\n  styleUrls: ['./consulta-facturacion.component.css']\n})\nexport class ConsultaFacturacionComponent implements OnInit {\n\n  constructor(private api:RestApiService,\n    private route:ActivatedRoute) {\n   }\n  \n  ngOnInit(): void {\n    this.api.getDespachadoTodos()\n      .subscribe((resp:any)=>{\n        this.Despachos = resp;\n      })\n  }\n\n  Select_opcion(e){\n    if(e === 'cliente'){\n      this.m_fecha = false\n      this.m_orden = false\n      this.m_cliente = true;\n      this.ObtenerClientes()\n    }else if(e === 'fecha'){\n      this.m_fecha = true\n      this.m_cliente = false;\n      this.m_orden = false\n    }else if(e === 'orden'){\n      this.m_orden = true\n      this.m_fecha = false\n      this.m_cliente = false;\n    }\n  }\n\n  public Despachos = []\n  public Clientes = []\n\n  public m_cliente:boolean = false;\n  public m_fecha:boolean = false;\n  public m_orden:boolean = false;\n\n  public Total_Bs = 0\n  public Total_USD = 0\n  public Total_Bs_N = 0\n  public Total_USD_N = 0\n\n  public Facturas:boolean = true;\n  public Notas:boolean = false\n\n  ObtenerClientes(){\n    console.log('work')\n    this.api.GetClientes()\n      .subscribe((resp:any)=>{\n        this.Clientes = resp.clientes\n      })\n  }\n\n\n  puntoYcoma(n){\n    if(!n){\n      return 0\n    }\n    return n = new Intl.NumberFormat('de-DE').format(n)\n  }\n\n\n  NE(){\n    let element = document.getElementById('NE_');\n    element.classList.add(\"is-active\");\n    document.getElementById('FA_').classList.remove(\"is-active\");\n    this.Notas = true;\n    this.Facturas = false\n  }\n\n  FA(){\n    let element = document.getElementById('NE_');\n    element.classList.remove(\"is-active\");\n    document.getElementById('FA_').classList.add(\"is-active\");\n    this.Notas = false;\n    this.Facturas = true\n  }\n\n  public INDEX\n  public ORDENES = []\n  public NOTAS = []\n  Buscar_op(op){\n    this.ORDENES = []\n    this.NOTAS = []\n    this.Total_Bs = 0;\n    this.Total_USD = 0;\n    this.Total_Bs_N = 0;\n    this.Total_USD_N = 0;\n    this.api.getDespachosbyOrden(op)\n      .subscribe((resp:any)=>{\n        for(let i=0; i< resp[0].despacho.length;i++){\n          if(resp[0].despacho[i].op === op){\n            resp[0].despacho[i].fecha = resp[0].fecha\n            this.INDEX = i;\n            this.ORDENES.push(resp[0].despacho[i])\n            this.Total_USD = this.Total_USD + (( resp[0].despacho[i].cantidad / 1000)* resp[0].despacho[i].precio);\n              this.Total_Bs = this.Total_Bs + ((( resp[0].despacho[i].cantidad / 1000)* resp[0].despacho[i].precio)*resp[0].despacho[i].tasa);\n          }\n        }\n\n      })\n  }\n\n\n  buscar_fecha(desde, hasta){\n    \n    if(!desde.value || !hasta.value){\n      Swal.fire({\n        title:'Error',\n        text:'Debes ingresar 2 fechas validas',\n        icon:'error',\n        showConfirmButton:false,\n        timer: 2000,\n        timerProgressBar: true,\n      })\n    }\n\n    if(desde.value > hasta.value){\n      Swal.fire({\n        title:'Error',\n        text:'Debes ingresar 2 fechas validas',\n        icon:'error',\n        showConfirmButton:false,\n        timer: 2000,\n        timerProgressBar: true,\n      })\n    }\n    \n    this.api.getDespachoFechas(desde.value, hasta.value)\n      .subscribe((resp:any)=>{\n        this.ORDENES = []\n        this.NOTAS = []\n        this.Total_Bs = 0;\n        this.Total_USD = 0;\n        this.Total_Bs_N = 0;\n        this.Total_USD_N = 0;\n        for(let i=0; i< resp.length;i++){\n          for(let x=0; x< resp[i].despacho.length;x++){\n            if(resp[i].despacho[x].tasa){\n              if(resp[i].despacho[x].documento.charAt(0) === 'F'){\n                resp[i].despacho[x].fecha = resp[i].fecha\n                this.ORDENES.push(resp[i].despacho[x])\n                this.Total_USD = this.Total_USD + (( resp[i].despacho[x].cantidad / 1000)* resp[i].despacho[x].precio);\n                this.Total_Bs = this.Total_Bs + ((( resp[i].despacho[x].cantidad / 1000)* resp[i].despacho[x].precio)*resp[i].despacho[x].tasa);\n              }else{\n                resp[i].despacho[x].fecha = resp[i].fecha\n                this.NOTAS.push(resp[i].despacho[x])\n                this.Total_USD_N = this.Total_USD_N + (( resp[i].despacho[x].cantidad / 1000)* resp[i].despacho[x].precio);\n                this.Total_Bs_N = this.Total_Bs_N + ((( resp[i].despacho[x].cantidad / 1000)* resp[i].despacho[x].precio)*resp[i].despacho[x].tasa);\n              }\n            }\n          }\n        }\n      })\n  \n  }\n\n  BuscarCliente(cliente, desde, hasta){\n\n    console.log(cliente, '*', desde, '*', hasta)\n\n    if(cliente === '#'){\n      Swal.fire({\n        title:'Error',\n        text:'Debes seleccionar un cliente',\n        icon:'error',\n        showConfirmButton:false,\n        timer: 2000,\n        timerProgressBar: true,\n      })\n    }\n\n    if(!desde || !hasta){\n      Swal.fire({\n        title:'Error',\n        text:'Debes ingresar 2 fechas validas',\n        icon:'error',\n        showConfirmButton:false,\n        timer: 2000,\n        timerProgressBar: true,\n      })\n    }\n\n    this.api.getDespachoCliente(cliente, desde, hasta)\n      .subscribe((resp:any)=>{\n        this.ORDENES = []\n        this.Total_Bs = 0;\n        this.Total_USD = 0;\n        for(let i=0; i< resp.length;i++){\n          for(let x=0; x< resp[i].despacho.length;x++){\n            if(resp[i].despacho[x].tasa){\n              if(resp[i].despacho[x].documento.charAt(0) === 'F'){\n                resp[i].despacho[x].fecha = resp[i].fecha\n                this.ORDENES.push(resp[i].despacho[x])\n                this.Total_USD = this.Total_USD + (( resp[i].despacho[x].cantidad / 1000)* resp[i].despacho[x].precio);\n                this.Total_Bs = this.Total_Bs + ((( resp[i].despacho[x].cantidad / 1000)* resp[i].despacho[x].precio)*resp[i].despacho[x].tasa);\n              }else{\n                resp[i].despacho[x].fecha = resp[i].fecha\n                this.NOTAS.push(resp[i].despacho[x])\n                this.Total_USD_N = this.Total_USD_N + (( resp[i].despacho[x].cantidad / 1000)* resp[i].despacho[x].precio);\n                this.Total_Bs_N = this.Total_Bs_N + ((( resp[i].despacho[x].cantidad / 1000)* resp[i].despacho[x].precio)*resp[i].despacho[x].tasa);\n              }\n            }\n          }\n        }\n      })\n  }\n\n}\n","<div>\n    <div class=\"titulo ml-5 \">\n        Consulta de facturación\n    </div>\n    <div class=\"card ml-5\">\n        <div class=\"card-content\">\n            <div class=\"field\">\n                <label for=\"\" class=\"label\">Buscar por:</label>\n                <div class=\"control\">\n                    <div class=\"select is-small\">\n                        <select name=\"\" id=\"\" (change)=\"Select_opcion($event.target.value)\">\n                            <option value=\"#\">Seleccione una opción</option>\n                            <option value=\"fecha\">Fecha</option>\n                            <option value=\"cliente\">Cliente</option>\n                            <option value=\"orden\">Orden de producción</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n            <div class=\"fecha\" *ngIf=\"m_fecha\">\n            <br>\n            <div class=\"columns\">\n                <div class=\"column is-2\">\n                    <div class=\"field\">\n                        <label for=\"\" class=\"label\">Desde:</label>\n                        <div class=\"control\">\n                            <input type=\"date\" class=\"input is-small\" #desde>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"column is-2\">\n                    <div class=\"field\">\n                        <label for=\"\" class=\"label\">Hasta:</label>\n                        <div class=\"control\">\n                            <input type=\"date\" class=\"input is-small\" #hasta>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"column is-2\">\n                    <div class=\"field\">\n                        <label for=\"\" class=\"label\"> </label>\n                        <div class=\"control\">\n                            <button class=\"button is-small is-success\" (click)=\"buscar_fecha(desde,hasta)\">\n                                <span class=\"icon\"><i class=\"fas fa-search\"></i></span>\n                                <span>Buscar</span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            </div>\n            <div class=\"cliente\" *ngIf=\"m_cliente\">\n                <br>\n                <div class=\"columns\">\n                    <div class=\"column is-2\">\n                        <div class=\"field\">\n                            <label for=\"\" class=\"label\"> </label>\n                            <div class=\"control\">\n                                <div name=\"\" id=\"\" class=\"select is-small\">\n                                    <select name=\"\" id=\"\" #cliente_>\n                                        <option value=\"#\">Seleccione cliente</option>\n                                        <option value=\"{{cliente._id}}\" *ngFor=\"let cliente of Clientes\">{{cliente.nombre}}</option>\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"column is-2\">\n                        <div class=\"field\">\n                            <label for=\"\" class=\"label\">Desde:</label>\n                            <div class=\"control\">\n                                <input type=\"date\" class=\"input is-small\" #desde_>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"column is-2\">\n                        <div class=\"field\">\n                            <label for=\"\" class=\"label\">Hasta:</label>\n                            <div class=\"control\">\n                                <input type=\"date\" class=\"input is-small\" #hasta_>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"column is-2\">\n                        <div class=\"field\">\n                            <label for=\"\" class=\"label\"> </label>\n                            <div class=\"control\">\n                                <button class=\"button is-small is-success\" (click)=\"BuscarCliente(cliente_.value,desde_.value,hasta_.value)\">\n                                    <span class=\"icon\"><i class=\"fas fa-search\"></i></span>\n                                    <span>Buscar</span>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n                <div class=\"op\" *ngIf=\"m_orden\">\n                <br>\n                <div class=\"field\">\n                    <label for=\"\" class=\"label\">Ingrese Orden de producción:</label>\n                    <div class=\"control\">\n                        <div class=\"columns\">\n                            <div class=\"column is-2\">\n                                <input type=\"text\" class=\"input is-small\" #op>\n                            </div>\n                            <div class=\"column is-2\">\n                                <button class=\"button is-small is-success\" (click)=\"Buscar_op(op.value)\">\n                                    <span class=\"icon\">\n                                        <i class=\"fas fa-search\"></i>\n                                    </span>\n                                    <span>\n                                        Buscar\n                                    </span>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <br>\n    <div class=\"card ml-5\">\n        <div class=\"card-content\">\n            <div class=\"columns\">\n                <div class=\"column is-4\">\n                    <div class=\"tabs\" *ngIf=\"ORDENES.length > 0\">\n                        <ul>\n                          <li class=\"is-active\" id=\"FA_\" (click)=\"FA()\"><a>Facturas</a></li>\n                          <li (click)=\"NE()\" id=\"NE_\"><a>Notas de entrega</a></li>\n                        </ul>\n                    </div>\n                </div>\n                <div class=\"column\">\n\n                </div>\n            </div>\n            <ng-container *ngIf=\"Facturas\">\n                <table class=\"table is-fullwidth tablas\" *ngIf=\"ORDENES.length > 0\">\n                    <thead>\n                        <!-- <tr>\n                            <th colspan=\"4\" class=\"is-selected\">Est. Display Konga Sabores (Máquina) / 30-05-2023</th>\n                        </tr> -->\n                        <tr>\n                            <th class=\"_data__\">Producto</th>\n                            <th style=\"text-align: center;\" class=\"_data__\" >OP</th>\n                            <th style=\"text-align: center;\" class=\"_data__\">Fecha</th>\n                            <th style=\"text-align: center;\" class=\"_data__\">Tasa BCV<br>(Bs/USD)</th>\n                            <th style=\"text-align: center;\" class=\"_data__\">Cantidad <br>\n                            (Und)</th>\n                            <th style=\"text-align: center;\" class=\"_data__\">Precio <br>\n                                /millar (USD)</th>\n                            <th style=\"text-align: center;\" class=\"_data__\">N° de <br> Factura</th>\n                            <th style=\"text-align: center;\" class=\"_data__\">Subtotal <br> (USD)</th>\n                            <th style=\"text-align: center;\" class=\"_data__\">Subtotal <br> (Bs)</th>\n                        </tr>\n                        <tr *ngFor=\"let despacho of ORDENES\">\n                            <td class=\"data__\">{{despacho.producto}}</td>\n                            <td style=\"text-align: center;\" class=\"data__\">{{despacho.op}}</td>\n                            <td style=\"text-align: center;\" class=\"data__\">{{despacho.fecha}}</td>\n                            <td style=\"text-align: center;\" class=\"data__\">{{puntoYcoma(despacho.tasa)}}</td>\n                            <td style=\"text-align: center;\" class=\"data__\">{{puntoYcoma(despacho.cantidad)}}</td>\n                            <td style=\"text-align: center;\" class=\"data__\">{{puntoYcoma(despacho.precio)}}</td>\n                            <td style=\"text-align: center;\" class=\"data__\">{{despacho.documento}}</td>\n                            <td style=\"text-align: right;\" class=\"data__\">{{puntoYcoma((despacho.cantidad / 1000)*despacho.precio)}}</td>\n                            <td style=\"text-align: right;\" class=\"data__\">{{puntoYcoma(((despacho.cantidad / 1000)*despacho.precio)*despacho.tasa)}}</td>\n    \n                        </tr>\n                        <tr>\n                            <th colspan=\"7\" style=\"text-align: right;\" class=\"_data__\">Totales:</th>\n                            <th style=\"text-align: right;\" class=\"_data__\">{{puntoYcoma(Total_USD)}}</th>\n                            <th style=\"text-align: right;\" class=\"_data__\">{{puntoYcoma(Total_Bs)}}</th>\n                        </tr>\n                    </thead>\n                </table>\n            </ng-container>\n            <ng-container *ngIf=\"Notas\">\n                <table class=\"table is-fullwidth tablas\" *ngIf=\"ORDENES.length > 0\">\n                    <thead>\n                        <!-- <tr>\n                            <th colspan=\"4\" class=\"is-selected\">Est. Display Konga Sabores (Máquina) / 30-05-2023</th>\n                        </tr> -->\n                        <tr>\n                            <th class=\"_data__\">Producto</th>\n                            <th style=\"text-align: center;\" class=\"_data__\" >OP</th>\n                            <th style=\"text-align: center;\" class=\"_data__\">Fecha</th>\n                            <th style=\"text-align: center;\" class=\"_data__\">Tasa BCV<br>(Bs/USD)</th>\n                            <th style=\"text-align: center;\" class=\"_data__\">Cantidad <br>\n                            (Und)</th>\n                            <th style=\"text-align: center;\" class=\"_data__\">Precio <br>\n                                /millar (USD)</th>\n                            <th style=\"text-align: center;\" class=\"_data__\">N° de <br> nota de entrega</th>\n                            <th style=\"text-align: center;\" class=\"_data__\">Subtotal <br> (USD)</th>\n                            <th style=\"text-align: center;\" class=\"_data__\">Subtotal <br> (Bs)</th>\n                        </tr>\n                        <tr *ngFor=\"let despacho of NOTAS\">\n                            <td class=\"data__\">{{despacho.producto}}</td>\n                            <td style=\"text-align: center;\" class=\"data__\">{{despacho.op}}</td>\n                            <td style=\"text-align: center;\" class=\"data__\">{{despacho.fecha}}</td>\n                            <td style=\"text-align: center;\" class=\"data__\">{{puntoYcoma(despacho.tasa)}}</td>\n                            <td style=\"text-align: center;\" class=\"data__\">{{puntoYcoma(despacho.cantidad)}}</td>\n                            <td style=\"text-align: center;\" class=\"data__\">{{puntoYcoma(despacho.precio)}}</td>\n                            <td style=\"text-align: center;\" class=\"data__\">{{despacho.documento}}</td>\n                            <td style=\"text-align: right;\" class=\"data__\">{{puntoYcoma((despacho.cantidad / 1000)*despacho.precio)}}</td>\n                            <td style=\"text-align: right;\" class=\"data__\">{{puntoYcoma(((despacho.cantidad / 1000)*despacho.precio)*despacho.tasa)}}</td>\n    \n                        </tr>\n                        <tr>\n                            <th colspan=\"7\" style=\"text-align: right;\" class=\"_data__\">Totales:</th>\n                            <th style=\"text-align: right;\" class=\"_data__\">{{puntoYcoma(Total_USD_N)}}</th>\n                            <th style=\"text-align: right;\" class=\"_data__\">{{puntoYcoma(Total_Bs_N)}}</th>\n                        </tr>\n                    </thead>\n                </table>\n            </ng-container>\n        </div>\n    </div>\n</div>","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-cotizacion',\n  templateUrl: './cotizacion.component.html',\n  styleUrls: ['./cotizacion.component.css']\n})\nexport class CotizacionComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<app-navbar></app-navbar>\n<router-outlet></router-outlet>","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}