<div >
    <div class="subtitulos">
        Orden de compra
    </div>

    <br>

    <div class="columns">
        <div class="column is-one-quarter">
            <div class="card">
                <div class="card-content">
                    <div class="field">
                        <label class="label">Cliente:</label>
                        <div class="control">
                            <div class="select input_">
                                <select (change)='cliente_selected($event)'>
                                    <option value="#">Seleccionar cliente</option>
                                    <option *ngFor='let cliente of CLIENTES' value="{{cliente._id}}">{{cliente.nombre}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="field" *ngIf="PRODUCTOS.length > 0">
                        <label class="label">Producto:</label>
                        <div class="control">
                            <div class="select input_" >
                                <select id='producto' (change)='producto_selected($event.target.value)'>
                                    <option value='#'>Selecciona Producto</option>
                                    <option *ngFor='let producto of PRODUCTOS' value='{{producto._id}}'>{{producto.producto}}</option>
                                </select>
                            </div>
                        </div>
                    </div> -->
                    <div class="field" *ngIf="PRODUCTOS.length > 0">
                        <label class="label">Orden de compra:</label>
                        <div class="control">
                            <div class="input_">
                                <input type="text" class="input" placeholder="Orden de compra" (change)="OC($event.target.value)">
                            </div>
                        </div>
                    </div>
                    <div class="field" *ngIf="ORDEN_COMPRA.length > 0">
                        <label class="label">Fecha orden de compra:</label>
                        <div class="control">
                            <div class="input_">
                                <input type="date" class="input" (change)="date_($event.target.value)">
                            </div>
                        </div>
                    </div>
                    <div class="field" *ngIf="Fecha_entrega">
                        <label class="label">Fecha de recepción:</label>
                        <div class="control">
                            <div class="input_">
                                <input type="date" class="input" (change)="date__($event.target.value)">
                            </div>
                        </div>
                    </div>
                    <button class="button is-primary" *ngIf="_Fecha_entrega" (click)="datos()">
                        <span class="icon">
                            <i class="fas fa-arrow-right"></i>
                        </span>
                        <span>
                            Continuar
                        </span>
                    </button>
                </div>
            </div>
        </div>
        <div class="column">
            <div class="card" *ngIf="Loaded">
                <div class="card-content">
                    <div class="subtitulos">
                        Selección de productos
                    </div>
                    <hr>
                    <div class="field">
                        <label class="label">Producto</label>
                        <div class="control">
                            <div class="select" >
                                <select id='producto' (change)='producto_selected($event.target.value)'>
                                    <option value='#'>Selecciona Producto</option>
                                    <option *ngFor='let producto of PRODUCTOS' value='{{producto._id}}'>{{producto.producto}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="columns">
                        <div class="column">
                            <div class="field" *ngIf="PRODUCTO.length > 0">
                                <label class="label">Cantidad</label>
                                <div class="control">
                                    <!-- <input type="number" class="input" [(ngModel)]="_CANTIDAD"> -->
                                    <input type="number" class="input" (change)="NuevaCantidad($event.target.value)">
                                </div>
                            </div>
                        </div>
                        <div class="column">
                            <div class="field" *ngIf="_CANTIDAD.length > 0">
                                <label class="label">Fecha solicitada</label>
                                <div class="control">
                                    <input type="date" class="input" (change)="Fecha__($event.target.value)">
                                </div>
                            </div>
                        </div>
                        <div class="column">
                            <div class="field" *ngIf="__Fecha.length > 0">
                                <label class="label"> </label>
                                <div class="control">
                                    <button class="button is-success" (click)="AgregarNuevo()">
                                        <span class="icon">
                                            <i class="fas fa-plus"></i>
                                        </span>
                                        <span>
                                            Agregar
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <table class="table is-fullwidth">
                        <tr>
                            <th class="is-selected">Producto</th>
                            <th class="is-selected">Cantidad</th>
                            <th class="is-selected">Fecha solicitada</th>
                            <th class="is-selected">Modificar</th>
                        </tr>
                        <tr *ngFor="let dato of DATOS;index as i">
                            <td>{{dato.nombre}}</td>
                            <td>
                                <div id="dato_c{{i}}">
                                    {{dato.cantidad}}
                                </div>
                                <ng-container>
                                    <input type="number" class="input is-small" id="field_c{{i}}" style="display:none" value='DATO[i].cantidad' (change)="editarCantidad($event.target.value, i)">
                                </ng-container>
                            </td>
                            <td>
                                <div id="dato_f{{i}}">
                                    {{dato.fecha}}
                                </div>
                                <ng-container>
                                    <input type="date" class="input is-small" id="field_f{{i}}" style="display:none" value='DATO[i].fecha' (change)="editarFecha($event.target.value, i)">
                                </ng-container>
                            </td>
                            <td>
                                <div id="buttons{{i}}">
                                    <button class="button is-success is-outlined is-small" (click)="Editar(i)">
                                        <span>Editar</span>
                                        <span class="icon is-small">
                                            <i class="far fa-edit"></i>
                                        </span>
                                    </button> 
                                    <button class="button is-danger is-outlined is-small" (click)="Eliminar(i)">
                                        <span>Eliminar</span>
                                        <span class="icon is-small">
                                            <i class="fas fa-trash-alt"></i>
                                        </span>
                                    </button>
                                </div>
                                <div id="buttons_{{i}}" style="display:none">
                                    <button class="button is-success is-outlined is-small" (click)="FinalizarEdicion(i)">
                                        <span>Listo</span>
                                        <span class="icon is-small">
                                            <i class="fas fa-check"></i>
                                        </span>
                                    </button> 
                                </div>
                            </td>
                        </tr>
                        
                    </table>
                    <button class="button is-primary">
                        <span class="icon">
                            <i class="fas fa-check"></i>
                        </span>
                        <span>Finalizar</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- <div class="container">
    <div class="subtitulos">
        Cotización
    </div>
    <br>
    <div class="select is-small">
        <select name="" id="">
            <option value="#">Clientes</option>
            <option value="" *ngFor="let cliente of clientes">{{cliente.nombre}}</option>
        </select><br>
        
        <button class="button">
            Nuevo Cliente
        </button><br>
        <button class="button">
            Editar Cliente
        </button>
    </div>


</div> -->
<!-- <div class="container_" id="componentID" *ngIf="orden">
    <div class="header">
        <table class="datos">
            <tr>
                <td class="dato__ Logo-etiquetas" >
                    <img src="../../assets/Logo-etiquetas.png" alt="" class="dato__">
                </td>
                <td class="dato__ qrcode">
                    <ngx-qrcode 
                      [elementType]="elementType" 
                      [value]="value"
                      [scale]="scale"
                      [margin]="margin"
                      cssClass="qrcode"
                      errorCorrectionLevel="L">
                    </ngx-qrcode>
                </td>
                <td class="dato__ Orden__">
                    <span class="orden_pro">
                        ORDEN DE PRODUCCIÓN <br>
                    </span>
                    <span class="op">
                        {{orden.sort}}
                    </span>
                </td>
            </tr>
        </table>
        <table>
            <tr>
                <td class="item__">
                    <span class="subtitulo__">  PRODUCTO:</span><br>
                    <span class="titulo__">  {{orden.producto.producto}}</span>
                </td>
            </tr>
        </table>
        <table>
            <tr>
                <td class="item__ short">
                    <span class="subtitulo__">  CLIENTE:</span><br>
                    <span class="titulo__">  {{orden.cliente.nombre}}</span>
                </td>
                <td class="shorter">
                    <span class="subtitulo__">  ORDEN DE COMPRA:</span><br>
                    <span class="titulo__">  {{orden.orden}}</span>
                </td>
            </tr>
        </table>
        <table>
            <tr>
                <td class="item__ short">
                    <span class="subtitulo__">  SUSTRATO:</span><br>
                    <span class="titulo__">  {{sustrato}}</span>
                </td>
                <td class="shorter">
                    <span class="subtitulo__">  CÓD. DEL PRODUCTO:</span><br>
                    <span class="titulo__">  {{orden.producto.cod_cliente}}</span>
                </td>
            </tr>
        </table>
        <table>
            <tr>
                <td class="shortest">
                    <span class="subtitulo__">CÓD. ESPECIFICACIÓN:</span><br>
                    <span class="titulo__ _ml">E-{{orden.cliente.codigo}}-{{orden.producto.codigo}}-{{orden.producto.edicion}}-{{orden.producto.version}}</span>
                </td>
                <td class="shortest ml ml__">
                    <span class="subtitulo__">  FECHA DE FAB:</span><br>
                    <span class="titulo__ _ml">  {{fecha}}</span>
                </td>
                <td class="shortest ml">
                    <span class="subtitulo__">  FECHA DE ETIQ.:</span><br>
                    <span class="titulo__ _ml">  {{hoy}}</span>
                </td>
                <td class="unidades__">
                    <span class="unidades">  {{unidades__}}</span><br>
                    <span class="letter">  unidades</span>
                </td>
            </tr>
            <tr>
            </tr>
        </table>
        <span class="FPR">
            FPR-018
        </span>
        <table>
            <tr>
                <td class="mensaje">
                    <span class="linea1">
                        Se recomienda el uso de este producto dentro de un lapso no mayor<br>
                    </span>
                    <span class="linea2">
                        a 6 meses. Para más información lea detenidamente nuestra<br>
                    </span>
                    <span class="linea2">
                        “Politica de devoluciones o Reclamos (DDE-005)”
                    </span>
                </td>
            </tr>
        </table>
    </div>
</div> -->

<!-- <button class="button is-success" id='imprimir__' (click)="onPrint()">
    <span class="icon">
        <i class="fas fa-print"></i>
    </span>
    <span>Imprimir</span>
  </button> -->

<!-- <button class="button is-success" id='imprimir__' (click)="generarpdf()">
    <span class="icon">
        <i class="fas fa-print"></i>
    </span>
    <span>Imprimir</span>
</button> -->

